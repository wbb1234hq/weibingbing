2025-05-17 17:15:03,767 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:15:03,768 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:15:03,771 - werkzeug - INFO -  * Restarting with stat
2025-05-17 17:15:05,013 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:15:05,017 - werkzeug - INFO -  * Debugger PIN: 275-058-433
2025-05-17 17:15:20,090 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:15:20] "GET / HTTP/1.1" 200 -
2025-05-17 17:15:20,216 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:15:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:16:20,817 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:16:20] "GET / HTTP/1.1" 200 -
2025-05-17 17:16:20,838 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:16:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:17:21,479 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:17:21,479 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:17:29,247 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:17:29] "GET / HTTP/1.1" 200 -
2025-05-17 17:17:29,366 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:17:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:17:35,897 - app - INFO - 图片保存路径: static/uploads\paste_78218b88_1747473455.png, 标准化后: static/uploads/paste_78218b88_1747473455.png
2025-05-17 17:17:35,898 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:17:35] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:17:35,919 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:17:35] "GET /static/uploads/paste_78218b88_1747473455.png HTTP/1.1" 200 -
2025-05-17 17:17:36,410 - app - INFO - 处理图片路径: 原始=static/uploads/paste_78218b88_1747473455.png, 转换后=static\uploads\paste_78218b88_1747473455.png
2025-05-17 17:17:36,411 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_78218b88_1747473455.png
2025-05-17 17:17:38,002 - app - INFO - 上传响应状态码: 200
2025-05-17 17:17:38,002 - app - INFO - 上传响应内容: {"id":"d0k58c2misdua6kgcrq0","object":"file","bytes":58166,"created_at":1747473456,"filename":"paste_78218b88_1747473455.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:17:38,003 - app - INFO - 获取到的文件ID: d0k58c2misdua6kgcrq0
2025-05-17 17:17:38,003 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k58c2misdua6kgcrq0/content
2025-05-17 17:17:38,470 - app - INFO - 内容响应状态码: 200
2025-05-17 17:17:38,471 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 17:17:38,474 - app - WARNING - 检测到不完整的JSON字符串，尝试修复
2025-05-17 17:17:38,476 - app - INFO - 修复后的文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。"}
2025-05-17 17:17:38,476 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:38,477 - app - INFO - 请求时间: 2025-05-17 17:17:38
2025-05-17 17:17:38,477 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:38,478 - app - INFO - 请求方法: POST
2025-05-17 17:17:38,478 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:38,479 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:38,480 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:38,481 - app - INFO - 检查文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-17 17:17:38,481 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "{\"content\":\"昨天我去了图书馆，想找一本关于人工智能的数。\"}"
    }
  ],
  "stream": false
}
2025-05-17 17:17:38,485 - app - INFO - ==============================================================

2025-05-17 17:17:38,891 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:38,892 - app - INFO - 响应时间: 2025-05-17 17:17:38
2025-05-17 17:17:38,892 - app - INFO - 请求耗时: 0.406秒
2025-05-17 17:17:38,893 - app - INFO - 响应状态码: 400
2025-05-17 17:17:38,893 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 192
2025-05-17 17:17:38,894 - app - INFO - ==============================================================

2025-05-17 17:17:38,895 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:38,895 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:38,898 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:38,899 - app - INFO - 请求时间: 2025-05-17 17:17:38
2025-05-17 17:17:38,899 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:38,900 - app - INFO - 请求方法: POST
2025-05-17 17:17:38,900 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:38,901 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:38,901 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:38,902 - app - INFO - 检查文本: 我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。
2025-05-17 17:17:38,902 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的数。"
    }
  ],
  "stream": false
}
2025-05-17 17:17:38,905 - app - INFO - ==============================================================

2025-05-17 17:17:39,317 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:39,317 - app - INFO - 响应时间: 2025-05-17 17:17:39
2025-05-17 17:17:39,318 - app - INFO - 请求耗时: 0.411秒
2025-05-17 17:17:39,318 - app - INFO - 响应状态码: 400
2025-05-17 17:17:39,319 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a value at line 1 column 184
2025-05-17 17:17:39,320 - app - INFO - ==============================================================

2025-05-17 17:17:39,321 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:39,321 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:39,324 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:39,325 - app - INFO - 请求时间: 2025-05-17 17:17:39
2025-05-17 17:17:39,325 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:39,326 - app - INFO - 请求方法: POST
2025-05-17 17:17:39,326 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:39,327 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:39,328 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:39,328 - app - INFO - 检查文本: 我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。
2025-05-17 17:17:39,329 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。"
    }
  ],
  "stream": false
}
2025-05-17 17:17:39,331 - app - INFO - ==============================================================

2025-05-17 17:17:39,715 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:39,716 - app - INFO - 响应时间: 2025-05-17 17:17:39
2025-05-17 17:17:39,716 - app - INFO - 请求耗时: 0.382秒
2025-05-17 17:17:39,716 - app - INFO - 响应状态码: 400
2025-05-17 17:17:39,717 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 187
2025-05-17 17:17:39,717 - app - INFO - ==============================================================

2025-05-17 17:17:39,718 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:39,718 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:39,720 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:39,720 - app - INFO - 请求时间: 2025-05-17 17:17:39
2025-05-17 17:17:39,721 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:39,721 - app - INFO - 请求方法: POST
2025-05-17 17:17:39,722 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:39,722 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:39,722 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:39,723 - app - INFO - 检查文本: 不过，我还是决定借\n回去慢慢研究。
2025-05-17 17:17:39,723 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "不过，我还是决定借\\n回去慢慢研究。"
    }
  ],
  "stream": false
}
2025-05-17 17:17:39,725 - app - INFO - ==============================================================

2025-05-17 17:17:40,137 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:40,138 - app - INFO - 响应时间: 2025-05-17 17:17:40
2025-05-17 17:17:40,138 - app - INFO - 请求耗时: 0.412秒
2025-05-17 17:17:40,139 - app - INFO - 响应状态码: 400
2025-05-17 17:17:40,139 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].?: EOF while parsing an object at line 1 column 171
2025-05-17 17:17:40,140 - app - INFO - ==============================================================

2025-05-17 17:17:40,141 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:40,141 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:40,143 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:40,144 - app - INFO - 请求时间: 2025-05-17 17:17:40
2025-05-17 17:17:40,144 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:40,145 - app - INFO - 请求方法: POST
2025-05-17 17:17:40,145 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:40,146 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:40,146 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:40,147 - app - INFO - 检查文本: \"","file_type":"image/png","filename":"paste_78218b88_1747473455.
2025-05-17 17:17:40,147 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "\\\\\"\\\",\\\"file_type\\\":\\\"image/png\\\",\\\"filename\\\":\\\"paste_78218b88_1747473455."
    }
  ],
  "stream": false
}
2025-05-17 17:17:40,151 - app - INFO - ==============================================================

2025-05-17 17:17:40,748 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:40,749 - app - INFO - 响应时间: 2025-05-17 17:17:40
2025-05-17 17:17:40,750 - app - INFO - 请求耗时: 0.596秒
2025-05-17 17:17:40,750 - app - INFO - 响应状态码: 400
2025-05-17 17:17:40,751 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 246
2025-05-17 17:17:40,751 - app - INFO - ==============================================================

2025-05-17 17:17:40,752 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:40,753 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:40,755 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:17:40,756 - app - INFO - 请求时间: 2025-05-17 17:17:40
2025-05-17 17:17:40,756 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:17:40,756 - app - INFO - 请求方法: POST
2025-05-17 17:17:40,757 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:17:40,757 - app - INFO - 模型: deepseek-chat
2025-05-17 17:17:40,758 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:17:40,758 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-17 17:17:40,759 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}"
    }
  ],
  "stream": false
}
2025-05-17 17:17:40,761 - app - INFO - ==============================================================

2025-05-17 17:17:41,120 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:17:41,121 - app - INFO - 响应时间: 2025-05-17 17:17:41
2025-05-17 17:17:41,121 - app - INFO - 请求耗时: 0.359秒
2025-05-17 17:17:41,122 - app - INFO - 响应状态码: 400
2025-05-17 17:17:41,122 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 209
2025-05-17 17:17:41,123 - app - INFO - ==============================================================

2025-05-17 17:17:41,124 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:17:41,124 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:17:41,127 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:17:41] "POST /process HTTP/1.1" 200 -
2025-05-17 17:21:30,485 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:21:30,486 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:21:39,568 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:21:39] "GET / HTTP/1.1" 200 -
2025-05-17 17:21:39,677 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:21:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:21:45,701 - app - INFO - 图片保存路径: static/uploads\paste_2be24496_1747473705.png, 标准化后: static/uploads/paste_2be24496_1747473705.png
2025-05-17 17:21:45,702 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:21:45] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:21:45,722 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:21:45] "GET /static/uploads/paste_2be24496_1747473705.png HTTP/1.1" 200 -
2025-05-17 17:21:46,214 - app - INFO - 处理图片路径: 原始=static/uploads/paste_2be24496_1747473705.png, 转换后=static\uploads\paste_2be24496_1747473705.png
2025-05-17 17:21:46,216 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_2be24496_1747473705.png
2025-05-17 17:21:47,751 - app - INFO - 上传响应状态码: 200
2025-05-17 17:21:47,752 - app - INFO - 上传响应内容: {"id":"d0k5aan37oq66hisu61g","object":"file","bytes":38657,"created_at":1747473706,"filename":"paste_2be24496_1747473705.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:21:47,753 - app - INFO - 获取到的文件ID: d0k5aan37oq66hisu61g
2025-05-17 17:21:47,753 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5aan37oq66hisu61g/content
2025-05-17 17:21:48,217 - app - INFO - 内容响应状态码: 200
2025-05-17 17:21:48,218 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:21:48,221 - app - WARNING - 检测到不完整的JSON字符串，尝试修复
2025-05-17 17:21:48,221 - app - INFO - 修复后的文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"}
2025-05-17 17:21:48,222 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:48,223 - app - INFO - 请求时间: 2025-05-17 17:21:48
2025-05-17 17:21:48,223 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:48,224 - app - INFO - 请求方法: POST
2025-05-17 17:21:48,224 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:48,225 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:48,226 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:48,226 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 17:21:48,227 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}"
    }
  ],
  "stream": false
}
2025-05-17 17:21:48,231 - app - INFO - ==============================================================

2025-05-17 17:21:48,631 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:48,631 - app - INFO - 响应时间: 2025-05-17 17:21:48
2025-05-17 17:21:48,632 - app - INFO - 请求耗时: 0.400秒
2025-05-17 17:21:48,632 - app - INFO - 响应状态码: 400
2025-05-17 17:21:48,633 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 207
2025-05-17 17:21:48,633 - app - INFO - ==============================================================

2025-05-17 17:21:48,634 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:48,634 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:48,636 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:48,636 - app - INFO - 请求时间: 2025-05-17 17:21:48
2025-05-17 17:21:48,636 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:48,637 - app - INFO - 请求方法: POST
2025-05-17 17:21:48,637 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:48,638 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:48,638 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:48,639 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-17 17:21:48,640 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-17 17:21:48,642 - app - INFO - ==============================================================

2025-05-17 17:21:49,018 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:49,019 - app - INFO - 响应时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,019 - app - INFO - 请求耗时: 0.375秒
2025-05-17 17:21:49,020 - app - INFO - 响应状态码: 400
2025-05-17 17:21:49,020 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a value at line 1 column 183
2025-05-17 17:21:49,020 - app - INFO - ==============================================================

2025-05-17 17:21:49,021 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:49,021 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:49,025 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:49,025 - app - INFO - 请求时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,026 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:49,026 - app - INFO - 请求方法: POST
2025-05-17 17:21:49,027 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:49,027 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:49,027 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:49,028 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-17 17:21:49,028 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-17 17:21:49,031 - app - INFO - ==============================================================

2025-05-17 17:21:49,421 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:49,422 - app - INFO - 响应时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,422 - app - INFO - 请求耗时: 0.390秒
2025-05-17 17:21:49,423 - app - INFO - 响应状态码: 400
2025-05-17 17:21:49,423 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 197
2025-05-17 17:21:49,424 - app - INFO - ==============================================================

2025-05-17 17:21:49,425 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:49,425 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:49,428 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:49,429 - app - INFO - 请求时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,429 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:49,430 - app - INFO - 请求方法: POST
2025-05-17 17:21:49,431 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:49,432 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:49,432 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:49,433 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-17 17:21:49,434 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-17 17:21:49,436 - app - INFO - ==============================================================

2025-05-17 17:21:49,832 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:49,832 - app - INFO - 响应时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,833 - app - INFO - 请求耗时: 0.395秒
2025-05-17 17:21:49,833 - app - INFO - 响应状态码: 400
2025-05-17 17:21:49,833 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 198
2025-05-17 17:21:49,834 - app - INFO - ==============================================================

2025-05-17 17:21:49,834 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:49,834 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:49,836 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:49,836 - app - INFO - 请求时间: 2025-05-17 17:21:49
2025-05-17 17:21:49,837 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:49,837 - app - INFO - 请求方法: POST
2025-05-17 17:21:49,837 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:49,838 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:49,838 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:49,839 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-17 17:21:49,840 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-17 17:21:49,841 - app - INFO - ==============================================================

2025-05-17 17:21:50,214 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:50,215 - app - INFO - 响应时间: 2025-05-17 17:21:50
2025-05-17 17:21:50,215 - app - INFO - 请求耗时: 0.372秒
2025-05-17 17:21:50,215 - app - INFO - 响应状态码: 400
2025-05-17 17:21:50,216 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].?: EOF while parsing a string at line 1 column 174
2025-05-17 17:21:50,216 - app - INFO - ==============================================================

2025-05-17 17:21:50,217 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:50,217 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:50,219 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:50,220 - app - INFO - 请求时间: 2025-05-17 17:21:50
2025-05-17 17:21:50,220 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:50,220 - app - INFO - 请求方法: POST
2025-05-17 17:21:50,221 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:50,222 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:50,222 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:50,223 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_2be24496_1747473705.
2025-05-17 17:21:50,224 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "\\\",\\\"file_type\\\":\\\"image/png\\\",\\\"filename\\\":\\\"paste_2be24496_1747473705."
    }
  ],
  "stream": false
}
2025-05-17 17:21:50,226 - app - INFO - ==============================================================

2025-05-17 17:21:50,600 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:50,601 - app - INFO - 响应时间: 2025-05-17 17:21:50
2025-05-17 17:21:50,601 - app - INFO - 请求耗时: 0.374秒
2025-05-17 17:21:50,602 - app - INFO - 响应状态码: 400
2025-05-17 17:21:50,602 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 240
2025-05-17 17:21:50,603 - app - INFO - ==============================================================

2025-05-17 17:21:50,604 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:50,604 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:50,607 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:21:50,608 - app - INFO - 请求时间: 2025-05-17 17:21:50
2025-05-17 17:21:50,609 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:21:50,609 - app - INFO - 请求方法: POST
2025-05-17 17:21:50,610 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:21:50,611 - app - INFO - 模型: deepseek-chat
2025-05-17 17:21:50,611 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:21:50,612 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-17 17:21:50,612 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}"
    }
  ],
  "stream": false
}
2025-05-17 17:21:50,615 - app - INFO - ==============================================================

2025-05-17 17:21:51,010 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:21:51,011 - app - INFO - 响应时间: 2025-05-17 17:21:51
2025-05-17 17:21:51,011 - app - INFO - 请求耗时: 0.394秒
2025-05-17 17:21:51,012 - app - INFO - 响应状态码: 400
2025-05-17 17:21:51,012 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 209
2025-05-17 17:21:51,013 - app - INFO - ==============================================================

2025-05-17 17:21:51,014 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:21:51,014 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:21:51,016 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:21:51] "POST /process HTTP/1.1" 200 -
2025-05-17 17:33:41,613 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:33:41,613 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:33:51,536 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:33:51] "GET / HTTP/1.1" 200 -
2025-05-17 17:33:51,637 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:33:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:33:58,389 - app - INFO - 图片保存路径: static/uploads\paste_3517810e_1747474438.png, 标准化后: static/uploads/paste_3517810e_1747474438.png
2025-05-17 17:33:58,390 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:33:58] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:33:58,403 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:33:58] "GET /static/uploads/paste_3517810e_1747474438.png HTTP/1.1" 200 -
2025-05-17 17:33:58,905 - app - INFO - 处理图片路径: 原始=static/uploads/paste_3517810e_1747474438.png, 转换后=static\uploads\paste_3517810e_1747474438.png
2025-05-17 17:33:58,906 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_3517810e_1747474438.png
2025-05-17 17:34:00,527 - app - INFO - 上传响应状态码: 200
2025-05-17 17:34:00,528 - app - INFO - 上传响应内容: {"id":"d0k5g1imisdua6kgem10","object":"file","bytes":38657,"created_at":1747474438,"filename":"paste_3517810e_1747474438.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:34:00,529 - app - INFO - 获取到的文件ID: d0k5g1imisdua6kgem10
2025-05-17 17:34:00,530 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5g1imisdua6kgem10/content
2025-05-17 17:34:00,972 - app - INFO - 内容响应状态码: 200
2025-05-17 17:34:00,973 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:34:00,978 - app - WARNING - 检测到不完整的JSON字符串，尝试修复
2025-05-17 17:34:00,978 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:34:00,979 - app - INFO - 请求时间: 2025-05-17 17:34:00
2025-05-17 17:34:00,980 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:34:00,980 - app - INFO - 请求方法: POST
2025-05-17 17:34:00,981 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:34:00,982 - app - INFO - 模型: deepseek-chat
2025-05-17 17:34:00,983 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:34:00,983 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 17:34:00,984 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 17:34:00,988 - app - INFO - ==============================================================

2025-05-17 17:34:01,423 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:34:02,117 - app - INFO - 响应时间: 2025-05-17 17:34:01
2025-05-17 17:34:02,152 - app - INFO - 请求耗时: 0.434秒
2025-05-17 17:34:02,152 - app - INFO - 响应状态码: 400
2025-05-17 17:34:02,153 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 204
2025-05-17 17:34:02,153 - app - INFO - ==============================================================

2025-05-17 17:34:02,154 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:34:02,155 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:34:02,174 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,178 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,179 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,181 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,183 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,184 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,185 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,186 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,187 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,188 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,189 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:34:02,190 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:34:02,193 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:34:02] "POST /process HTTP/1.1" 200 -
2025-05-17 17:38:47,023 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:38:47,024 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:38:52,557 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:38:52] "GET / HTTP/1.1" 200 -
2025-05-17 17:38:52,664 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:38:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:38:59,699 - app - INFO - 图片保存路径: static/uploads\paste_b75fde4a_1747474739.png, 标准化后: static/uploads/paste_b75fde4a_1747474739.png
2025-05-17 17:38:59,700 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:38:59] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:38:59,719 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:38:59] "GET /static/uploads/paste_b75fde4a_1747474739.png HTTP/1.1" 200 -
2025-05-17 17:39:00,209 - app - INFO - 处理图片路径: 原始=static/uploads/paste_b75fde4a_1747474739.png, 转换后=static\uploads\paste_b75fde4a_1747474739.png
2025-05-17 17:39:00,210 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_b75fde4a_1747474739.png
2025-05-17 17:39:01,855 - app - INFO - 上传响应状态码: 200
2025-05-17 17:39:01,856 - app - INFO - 上传响应内容: {"id":"d0k5id737oq66hisvukg","object":"file","bytes":38657,"created_at":1747474740,"filename":"paste_b75fde4a_1747474739.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:39:01,857 - app - INFO - 获取到的文件ID: d0k5id737oq66hisvukg
2025-05-17 17:39:01,857 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5id737oq66hisvukg/content
2025-05-17 17:39:02,422 - app - INFO - 内容响应状态码: 200
2025-05-17 17:39:02,423 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:39:02,427 - app - WARNING - 检测到不完整的JSON字符串，尝试修复
2025-05-17 17:39:02,428 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:39:02,428 - app - INFO - 请求时间: 2025-05-17 17:39:02
2025-05-17 17:39:02,429 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:39:02,429 - app - INFO - 请求方法: POST
2025-05-17 17:39:02,430 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:39:02,430 - app - INFO - 模型: deepseek-chat
2025-05-17 17:39:02,431 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:39:02,431 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 17:39:02,432 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 17:39:02,435 - app - INFO - ==============================================================

2025-05-17 17:39:02,905 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:39:02,906 - app - INFO - 响应时间: 2025-05-17 17:39:02
2025-05-17 17:39:02,906 - app - INFO - 请求耗时: 0.469秒
2025-05-17 17:39:02,906 - app - INFO - 响应状态码: 400
2025-05-17 17:39:02,907 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 204
2025-05-17 17:39:02,907 - app - INFO - ==============================================================

2025-05-17 17:39:02,908 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:39:02,908 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:39:02,911 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,914 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,916 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,918 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,919 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,920 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,921 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,922 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,924 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,925 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,927 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:39:02,928 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:39:02,929 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:39:02] "POST /process HTTP/1.1" 200 -
2025-05-17 17:44:19,742 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:44:19,743 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:44:29,488 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:44:29] "GET / HTTP/1.1" 200 -
2025-05-17 17:44:29,592 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:44:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:44:36,321 - app - INFO - 图片保存路径: static/uploads\paste_02e73b9e_1747475076.png, 标准化后: static/uploads/paste_02e73b9e_1747475076.png
2025-05-17 17:44:36,323 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:44:36] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:44:36,339 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:44:36] "GET /static/uploads/paste_02e73b9e_1747475076.png HTTP/1.1" 200 -
2025-05-17 17:44:36,832 - app - INFO - 处理图片路径: 原始=static/uploads/paste_02e73b9e_1747475076.png, 转换后=static\uploads\paste_02e73b9e_1747475076.png
2025-05-17 17:44:36,833 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_02e73b9e_1747475076.png
2025-05-17 17:44:38,720 - app - INFO - 上传响应状态码: 200
2025-05-17 17:44:38,720 - app - INFO - 上传响应内容: {"id":"d0k5l1f37oq66hit0agg","object":"file","bytes":38657,"created_at":1747475077,"filename":"paste_02e73b9e_1747475076.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:44:38,721 - app - INFO - 获取到的文件ID: d0k5l1f37oq66hit0agg
2025-05-17 17:44:38,722 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5l1f37oq66hit0agg/content
2025-05-17 17:44:39,236 - app - INFO - 内容响应状态码: 200
2025-05-17 17:44:39,237 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:44:39,240 - app - WARNING - 检测到不完整的JSON字符串，尝试修复
2025-05-17 17:44:39,240 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 17:44:39,241 - app - INFO - 请求时间: 2025-05-17 17:44:39
2025-05-17 17:44:39,241 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 17:44:39,242 - app - INFO - 请求方法: POST
2025-05-17 17:44:39,242 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 17:44:39,243 - app - INFO - 模型: deepseek-chat
2025-05-17 17:44:39,244 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 17:44:39,245 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 17:44:39,245 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 17:44:39,248 - app - INFO - ==============================================================

2025-05-17 17:44:39,775 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 17:44:39,776 - app - INFO - 响应时间: 2025-05-17 17:44:39
2025-05-17 17:44:39,776 - app - INFO - 请求耗时: 0.527秒
2025-05-17 17:44:39,777 - app - INFO - 响应状态码: 400
2025-05-17 17:44:39,777 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[1].content: EOF while parsing a string at line 1 column 204
2025-05-17 17:44:39,778 - app - INFO - ==============================================================

2025-05-17 17:44:39,779 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 17:44:39,779 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 17:44:39,781 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,783 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,784 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,785 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,786 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,787 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,789 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,790 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,791 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,792 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,794 - app - ERROR - 处理错误: cannot access local variable 'processed_text' where it is not associated with a value
2025-05-17 17:44:39,795 - app - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 424, in call_text_check_api
    {"role": "user", "content": processed_text}
                                ^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'processed_text' where it is not associated with a value

2025-05-17 17:44:39,797 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:44:39] "POST /process HTTP/1.1" 200 -
2025-05-17 17:49:22,304 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:49:22,305 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:49:22,380 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 17:49:25,473 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:49:25,484 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 17:49:39,542 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:49:39] "GET / HTTP/1.1" 200 -
2025-05-17 17:49:40,034 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:49:40] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:49:40,090 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:49:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-17 17:52:21,864 - __main__ - INFO - 图片保存路径: static/uploads\paste_51288f68_1747475541.png, 标准化后: static/uploads/paste_51288f68_1747475541.png
2025-05-17 17:52:21,865 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:52:21] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:52:21,884 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:52:21] "GET /static/uploads/paste_51288f68_1747475541.png HTTP/1.1" 200 -
2025-05-17 17:52:22,382 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_51288f68_1747475541.png, 转换后=static\uploads\paste_51288f68_1747475541.png
2025-05-17 17:52:22,384 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_51288f68_1747475541.png
2025-05-17 17:52:23,748 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 17:52:23,748 - __main__ - INFO - 上传响应内容: {"id":"d0k5oln37oq66hit0oqg","object":"file","bytes":38657,"created_at":1747475542,"filename":"paste_51288f68_1747475541.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:52:23,749 - __main__ - INFO - 获取到的文件ID: d0k5oln37oq66hit0oqg
2025-05-17 17:52:23,749 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5oln37oq66hit0oqg/content
2025-05-17 17:52:23,953 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 17:52:23,954 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:52:24,082 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\werkzeug\\debug\\__init__.py', reloading
2025-05-17 17:52:24,113 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\werkzeug\\serving.py', reloading
2025-05-17 17:52:24,147 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\http\\server.py', reloading
2025-05-17 17:52:24,174 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\socketserver.py', reloading
2025-05-17 17:52:24,197 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\threading.py', reloading
2025-05-17 17:52:24,866 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 17:52:29,557 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:52:29,567 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 17:53:32,810 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:53:32] "GET / HTTP/1.1" 200 -
2025-05-17 17:53:33,239 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:53:33] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:53:37,239 - __main__ - INFO - 图片保存路径: static/uploads\paste_7ef011bc_1747475617.png, 标准化后: static/uploads/paste_7ef011bc_1747475617.png
2025-05-17 17:53:37,240 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:53:37] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:53:37,266 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:53:37] "GET /static/uploads/paste_7ef011bc_1747475617.png HTTP/1.1" 200 -
2025-05-17 17:53:37,762 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_7ef011bc_1747475617.png, 转换后=static\uploads\paste_7ef011bc_1747475617.png
2025-05-17 17:53:37,764 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_7ef011bc_1747475617.png
2025-05-17 17:53:39,199 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 17:53:39,199 - __main__ - INFO - 上传响应内容: {"id":"d0k5p8amisdua6kgfuu0","object":"file","bytes":38657,"created_at":1747475617,"filename":"paste_7ef011bc_1747475617.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:53:39,199 - __main__ - INFO - 获取到的文件ID: d0k5p8amisdua6kgfuu0
2025-05-17 17:53:39,200 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5p8amisdua6kgfuu0/content
2025-05-17 17:53:39,402 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 17:53:39,403 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 17:54:15,501 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_vars.py', reloading
2025-05-17 17:54:15,530 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_utils.py', reloading
2025-05-17 17:54:16,164 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 17:54:19,708 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:54:19,727 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 17:57:11,396 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\scipy\\optimize\\tests\\test__shgo.py', reloading
2025-05-17 17:57:11,436 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\Crypto\\SelfTest\\PublicKey\\test_DSA.py', reloading
2025-05-17 17:57:11,468 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\Crypto\\SelfTest\\PublicKey\\test_import_DSA.py', reloading
2025-05-17 17:57:11,562 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\gevent\\tests\\test__greenlet.py', reloading
2025-05-17 17:57:12,121 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 17:57:17,232 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:57:17,245 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 17:58:00,237 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 17:58:00,237 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 17:58:00,264 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 17:58:03,939 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 17:58:03,950 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 17:58:10,917 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:58:10] "GET / HTTP/1.1" 200 -
2025-05-17 17:58:11,365 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:58:11] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 17:58:16,566 - __main__ - INFO - 图片保存路径: static/uploads\paste_ee70e199_1747475896.png, 标准化后: static/uploads/paste_ee70e199_1747475896.png
2025-05-17 17:58:16,568 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:58:16] "POST /paste HTTP/1.1" 200 -
2025-05-17 17:58:16,585 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 17:58:16] "GET /static/uploads/paste_ee70e199_1747475896.png HTTP/1.1" 200 -
2025-05-17 17:58:17,088 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_ee70e199_1747475896.png, 转换后=static\uploads\paste_ee70e199_1747475896.png
2025-05-17 17:58:17,089 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_ee70e199_1747475896.png
2025-05-17 17:58:18,431 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 17:58:18,431 - __main__ - INFO - 上传响应内容: {"id":"d0k5re45rbs2bc6srfrg","object":"file","bytes":38657,"created_at":1747475896,"filename":"paste_ee70e199_1747475896.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 17:58:18,431 - __main__ - INFO - 获取到的文件ID: d0k5re45rbs2bc6srfrg
2025-05-17 17:58:18,431 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5re45rbs2bc6srfrg/content
2025-05-17 17:58:18,640 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 17:58:18,641 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:03:14,211 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:03:14,211 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:03:14,235 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:03:17,252 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:03:17,263 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:03:28,237 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:03:28] "GET / HTTP/1.1" 200 -
2025-05-17 18:03:28,747 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:03:28] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:03:36,650 - __main__ - INFO - 图片保存路径: static/uploads\paste_47c5358e_1747476216.png, 标准化后: static/uploads/paste_47c5358e_1747476216.png
2025-05-17 18:03:36,651 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:03:36] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:03:36,680 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:03:36] "GET /static/uploads/paste_47c5358e_1747476216.png HTTP/1.1" 200 -
2025-05-17 18:03:37,184 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_47c5358e_1747476216.png, 转换后=static\uploads\paste_47c5358e_1747476216.png
2025-05-17 18:03:37,185 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_47c5358e_1747476216.png
2025-05-17 18:03:38,483 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:03:38,483 - __main__ - INFO - 上传响应内容: {"id":"d0k5tuamisdua6kggm30","object":"file","bytes":38657,"created_at":1747476217,"filename":"paste_47c5358e_1747476216.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:03:38,483 - __main__ - INFO - 获取到的文件ID: d0k5tuamisdua6kggm30
2025-05-17 18:03:38,483 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k5tuamisdua6kggm30/content
2025-05-17 18:03:38,683 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:03:38,683 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:08:40,615 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:08:40,616 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:08:40,657 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:08:44,813 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:08:44,825 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:08:49,289 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:08:49] "GET / HTTP/1.1" 200 -
2025-05-17 18:08:49,760 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:08:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:08:55,114 - __main__ - INFO - 图片保存路径: static/uploads\paste_91c6b9c6_1747476535.png, 标准化后: static/uploads/paste_91c6b9c6_1747476535.png
2025-05-17 18:08:55,115 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:08:55] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:08:55,142 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:08:55] "GET /static/uploads/paste_91c6b9c6_1747476535.png HTTP/1.1" 200 -
2025-05-17 18:08:55,633 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_91c6b9c6_1747476535.png, 转换后=static\uploads\paste_91c6b9c6_1747476535.png
2025-05-17 18:08:55,636 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_91c6b9c6_1747476535.png
2025-05-17 18:08:57,015 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:08:57,015 - __main__ - INFO - 上传响应内容: {"id":"d0k60dqmisdua6kgh440","object":"file","bytes":38657,"created_at":1747476535,"filename":"paste_91c6b9c6_1747476535.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:08:57,015 - __main__ - INFO - 获取到的文件ID: d0k60dqmisdua6kgh440
2025-05-17 18:08:57,015 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k60dqmisdua6kgh440/content
2025-05-17 18:08:57,197 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:08:57,197 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:08:57,198 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:08:57] "POST /process HTTP/1.1" 200 -
2025-05-17 18:11:00,271 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:11:00,271 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:11:00,286 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:11:01,565 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:11:01,570 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:12:08,021 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:12:08,022 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:12:08,044 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:12:12,430 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:12:12,441 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:12:12,674 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:12:12] "GET / HTTP/1.1" 200 -
2025-05-17 18:12:13,131 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:12:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:12:18,158 - __main__ - INFO - 图片保存路径: static/uploads\paste_9295c6c8_1747476738.png, 标准化后: static/uploads/paste_9295c6c8_1747476738.png
2025-05-17 18:12:18,160 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:12:18] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:12:18,178 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:12:18] "GET /static/uploads/paste_9295c6c8_1747476738.png HTTP/1.1" 200 -
2025-05-17 18:12:18,688 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_9295c6c8_1747476738.png, 转换后=static\uploads\paste_9295c6c8_1747476738.png
2025-05-17 18:12:18,689 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_9295c6c8_1747476738.png
2025-05-17 18:12:20,022 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:12:20,022 - __main__ - INFO - 上传响应内容: {"id":"d0k620i1ol7h6f37nkhg","object":"file","bytes":38657,"created_at":1747476738,"filename":"paste_9295c6c8_1747476738.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:12:20,022 - __main__ - INFO - 获取到的文件ID: d0k620i1ol7h6f37nkhg
2025-05-17 18:12:20,022 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k620i1ol7h6f37nkhg/content
2025-05-17 18:12:20,190 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:12:20,190 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:12:20,191 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:12:20] "POST /process HTTP/1.1" 200 -
2025-05-17 18:14:17,745 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:14:17,745 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:14:17,760 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:14:19,116 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:14:19,122 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:14:24,649 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:14:24] "GET / HTTP/1.1" 200 -
2025-05-17 18:14:25,058 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:14:25] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:14:30,146 - __main__ - INFO - 图片保存路径: static/uploads\paste_752c3921_1747476870.png, 标准化后: static/uploads/paste_752c3921_1747476870.png
2025-05-17 18:14:30,146 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:14:30] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:14:30,163 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:14:30] "GET /static/uploads/paste_752c3921_1747476870.png HTTP/1.1" 200 -
2025-05-17 18:14:30,661 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_752c3921_1747476870.png, 转换后=static\uploads\paste_752c3921_1747476870.png
2025-05-17 18:14:30,662 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_752c3921_1747476870.png
2025-05-17 18:14:32,112 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:14:32,112 - __main__ - INFO - 上传响应内容: {"id":"d0k631imisdua6kgho20","object":"file","bytes":38657,"created_at":1747476870,"filename":"paste_752c3921_1747476870.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:14:32,112 - __main__ - INFO - 获取到的文件ID: d0k631imisdua6kgho20
2025-05-17 18:14:32,112 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k631imisdua6kgho20/content
2025-05-17 18:14:32,313 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:14:32,314 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:14:32,314 - __main__ - ERROR - 处理错误: local variable 'processed_text' referenced before assignment
2025-05-17 18:14:32,315 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 429, in call_text_check_api
    {"role": "user", "content": processed_text}
UnboundLocalError: local variable 'processed_text' referenced before assignment

2025-05-17 18:14:32,315 - __main__ - ERROR - 处理错误: local variable 'processed_text' referenced before assignment
2025-05-17 18:14:32,316 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 429, in call_text_check_api
    {"role": "user", "content": processed_text}
UnboundLocalError: local variable 'processed_text' referenced before assignment

2025-05-17 18:14:32,316 - __main__ - ERROR - 处理错误: local variable 'processed_text' referenced before assignment
2025-05-17 18:14:32,316 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 429, in call_text_check_api
    {"role": "user", "content": processed_text}
UnboundLocalError: local variable 'processed_text' referenced before assignment

2025-05-17 18:14:32,316 - __main__ - ERROR - 处理错误: local variable 'processed_text' referenced before assignment
2025-05-17 18:14:32,316 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 429, in call_text_check_api
    {"role": "user", "content": processed_text}
UnboundLocalError: local variable 'processed_text' referenced before assignment

2025-05-17 18:14:32,316 - __main__ - ERROR - 处理错误: local variable 'processed_text' referenced before assignment
2025-05-17 18:14:32,317 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 429, in call_text_check_api
    {"role": "user", "content": processed_text}
UnboundLocalError: local variable 'processed_text' referenced before assignment

2025-05-17 18:14:32,317 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:14:32] "POST /process HTTP/1.1" 200 -
2025-05-17 18:18:54,921 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:18:54,921 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:18:54,935 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:18:56,448 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:18:56,454 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:19:00,481 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:19:00] "GET / HTTP/1.1" 200 -
2025-05-17 18:19:00,907 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:19:00] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:19:06,562 - __main__ - INFO - 图片保存路径: static/uploads\paste_2b81442a_1747477146.png, 标准化后: static/uploads/paste_2b81442a_1747477146.png
2025-05-17 18:19:06,563 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:19:06] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:19:06,589 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:19:06] "GET /static/uploads/paste_2b81442a_1747477146.png HTTP/1.1" 200 -
2025-05-17 18:19:07,084 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_2b81442a_1747477146.png, 转换后=static\uploads\paste_2b81442a_1747477146.png
2025-05-17 18:19:07,085 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_2b81442a_1747477146.png
2025-05-17 18:19:08,370 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:19:08,370 - __main__ - INFO - 上传响应内容: {"id":"d0k656i1ol7h6f37o9og","object":"file","bytes":38657,"created_at":1747477146,"filename":"paste_2b81442a_1747477146.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:19:08,370 - __main__ - INFO - 获取到的文件ID: d0k656i1ol7h6f37o9og
2025-05-17 18:19:08,370 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k656i1ol7h6f37o9og/content
2025-05-17 18:19:08,536 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:19:08,536 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:19:08,536 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:19:08,536 - __main__ - INFO - 请求时间: 2025-05-17 18:19:08
2025-05-17 18:19:08,536 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:19:08,536 - __main__ - INFO - 请求方法: POST
2025-05-17 18:19:08,536 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:19:08,536 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:19:08,536 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:19:08,537 - __main__ - INFO - 检查文本: 今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 18:19:08,537 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 18:19:08,537 - __main__ - INFO - ==============================================================

2025-05-17 18:19:08,778 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:19:08,840 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\api.py', reloading
2025-05-17 18:19:08,872 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\sessions.py', reloading
2025-05-17 18:19:08,885 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\adapters.py', reloading
2025-05-17 18:19:08,918 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\urllib3\\connectionpool.py', reloading
2025-05-17 18:19:08,948 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\urllib3\\connection.py', reloading
2025-05-17 18:19:08,987 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:19:08,988 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:19:08,988 - __main__ - INFO - 请求时间: 2025-05-17 18:19:08
2025-05-17 18:19:08,988 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:19:08,988 - __main__ - INFO - 请求方法: POST
2025-05-17 18:19:08,988 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:19:08,989 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\http\\client.py', reloading
2025-05-17 18:19:08,989 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:19:08,989 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:19:08,989 - __main__ - INFO - 检查文本: 由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。
2025-05-17 18:19:08,989 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-17 18:19:08,989 - __main__ - INFO - ==============================================================

2025-05-17 18:19:09,085 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:19:09,086 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:19:09,086 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:19:09,087 - __main__ - INFO - 请求时间: 2025-05-17 18:19:09
2025-05-17 18:19:09,087 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:19:09,087 - __main__ - INFO - 请求方法: POST
2025-05-17 18:19:09,087 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:19:09,087 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:19:09,087 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:19:09,087 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并
提醒我携带生份证和医保卡。
2025-05-17 18:19:09,087 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-17 18:19:09,087 - __main__ - INFO - ==============================================================

2025-05-17 18:19:09,175 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:19:09,177 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:19:09,177 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:19:09,177 - __main__ - INFO - 请求时间: 2025-05-17 18:19:09
2025-05-17 18:19:09,178 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:19:09,178 - __main__ - INFO - 请求方法: POST
2025-05-17 18:19:09,178 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:19:09,178 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:19:09,178 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:19:09,179 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决
定遵询医生的建议。
2025-05-17 18:19:09,179 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-17 18:19:09,179 - __main__ - INFO - ==============================================================

2025-05-17 18:19:09,275 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:19:09,278 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:19:09,279 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:19:09,279 - __main__ - INFO - 请求时间: 2025-05-17 18:19:09
2025-05-17 18:19:09,279 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:19:09,279 - __main__ - INFO - 请求方法: POST
2025-05-17 18:19:09,279 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:19:09,279 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:19:09,279 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:19:09,279 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-17 18:19:09,280 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-17 18:19:09,280 - __main__ - INFO - ==============================================================

2025-05-17 18:19:09,385 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:19:09,387 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:19:09,387 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:19:09] "POST /process HTTP/1.1" 200 -
2025-05-17 18:19:09,763 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:19:11,168 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:19:11,173 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:24:21,344 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:24:21,344 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:24:21,358 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:24:22,716 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:24:22,721 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:24:27,999 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:24:27] "GET / HTTP/1.1" 200 -
2025-05-17 18:24:28,418 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:24:28] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:24:38,606 - __main__ - INFO - 图片保存路径: static/uploads\paste_b29c9b6d_1747477478.png, 标准化后: static/uploads/paste_b29c9b6d_1747477478.png
2025-05-17 18:24:38,607 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:24:38] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:24:38,623 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:24:38] "GET /static/uploads/paste_b29c9b6d_1747477478.png HTTP/1.1" 200 -
2025-05-17 18:24:39,118 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_b29c9b6d_1747477478.png, 转换后=static\uploads\paste_b29c9b6d_1747477478.png
2025-05-17 18:24:39,119 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_b29c9b6d_1747477478.png
2025-05-17 18:24:40,520 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:24:40,520 - __main__ - INFO - 上传响应内容: {"id":"d0k67pv37oq66hit3frg","object":"file","bytes":38657,"created_at":1747477479,"filename":"paste_b29c9b6d_1747477478.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:24:40,520 - __main__ - INFO - 获取到的文件ID: d0k67pv37oq66hit3frg
2025-05-17 18:24:40,520 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k67pv37oq66hit3frg/content
2025-05-17 18:24:40,727 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:24:40,727 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:24:40,727 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:24:40,728 - __main__ - INFO - 请求时间: 2025-05-17 18:24:40
2025-05-17 18:24:40,728 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:24:40,728 - __main__ - INFO - 请求方法: POST
2025-05-17 18:24:40,728 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:24:40,728 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:24:40,728 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:24:40,728 - __main__ - INFO - 检查文本: 今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 18:24:40,728 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 18:24:40,729 - __main__ - INFO - ==============================================================

2025-05-17 18:24:40,939 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:24:40,939 - __main__ - INFO - 响应时间: 2025-05-17 18:24:40
2025-05-17 18:24:40,939 - __main__ - INFO - 请求耗时: 0.210秒
2025-05-17 18:24:40,939 - __main__ - INFO - 响应状态码: 400
2025-05-17 18:24:40,939 - __main__ - INFO - 响应内容: Failed to parse the request body as JSON: expected value at line 1 column 1
2025-05-17 18:24:40,939 - __main__ - INFO - ==============================================================

2025-05-17 18:24:40,939 - __main__ - ERROR - 错误: API请求格式不正确(400)
2025-05-17 18:24:40,939 - __main__ - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 18:24:40,940 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:24:40,940 - __main__ - INFO - 请求时间: 2025-05-17 18:24:40
2025-05-17 18:24:40,940 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:24:40,940 - __main__ - INFO - 请求方法: POST
2025-05-17 18:24:40,940 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:24:40,940 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:24:40,940 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:24:40,940 - __main__ - INFO - 检查文本: 由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。
2025-05-17 18:24:40,940 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-17 18:24:40,940 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,058 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:24:41,058 - __main__ - INFO - 响应时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,059 - __main__ - INFO - 请求耗时: 0.118秒
2025-05-17 18:24:41,059 - __main__ - INFO - 响应状态码: 400
2025-05-17 18:24:41,059 - __main__ - INFO - 响应内容: Failed to parse the request body as JSON: expected value at line 1 column 1
2025-05-17 18:24:41,059 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,059 - __main__ - ERROR - 错误: API请求格式不正确(400)
2025-05-17 18:24:41,059 - __main__ - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 18:24:41,059 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:24:41,059 - __main__ - INFO - 请求时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,059 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:24:41,059 - __main__ - INFO - 请求方法: POST
2025-05-17 18:24:41,059 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:24:41,059 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:24:41,059 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:24:41,059 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并
提醒我携带生份证和医保卡。
2025-05-17 18:24:41,059 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-17 18:24:41,060 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,187 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:24:41,187 - __main__ - INFO - 响应时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,187 - __main__ - INFO - 请求耗时: 0.128秒
2025-05-17 18:24:41,187 - __main__ - INFO - 响应状态码: 400
2025-05-17 18:24:41,188 - __main__ - INFO - 响应内容: Failed to parse the request body as JSON: expected value at line 1 column 1
2025-05-17 18:24:41,188 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,188 - __main__ - ERROR - 错误: API请求格式不正确(400)
2025-05-17 18:24:41,188 - __main__ - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 18:24:41,188 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:24:41,188 - __main__ - INFO - 请求时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,188 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:24:41,188 - __main__ - INFO - 请求方法: POST
2025-05-17 18:24:41,188 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:24:41,188 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:24:41,188 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:24:41,188 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决
定遵询医生的建议。
2025-05-17 18:24:41,188 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-17 18:24:41,188 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,311 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:24:41,311 - __main__ - INFO - 响应时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,311 - __main__ - INFO - 请求耗时: 0.121秒
2025-05-17 18:24:41,311 - __main__ - INFO - 响应状态码: 400
2025-05-17 18:24:41,311 - __main__ - INFO - 响应内容: Failed to parse the request body as JSON: expected value at line 1 column 1
2025-05-17 18:24:41,311 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,311 - __main__ - ERROR - 错误: API请求格式不正确(400)
2025-05-17 18:24:41,311 - __main__ - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 18:24:41,311 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 18:24:41,311 - __main__ - INFO - 请求时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,311 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 18:24:41,311 - __main__ - INFO - 请求方法: POST
2025-05-17 18:24:41,311 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 18:24:41,312 - __main__ - INFO - 模型: deepseek-chat
2025-05-17 18:24:41,312 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查
2025-05-17 18:24:41,312 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-17 18:24:41,312 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-17 18:24:41,312 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,440 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:24:41,440 - __main__ - INFO - 响应时间: 2025-05-17 18:24:41
2025-05-17 18:24:41,440 - __main__ - INFO - 请求耗时: 0.128秒
2025-05-17 18:24:41,440 - __main__ - INFO - 响应状态码: 400
2025-05-17 18:24:41,440 - __main__ - INFO - 响应内容: Failed to parse the request body as JSON: expected value at line 1 column 1
2025-05-17 18:24:41,440 - __main__ - INFO - ==============================================================

2025-05-17 18:24:41,440 - __main__ - ERROR - 错误: API请求格式不正确(400)
2025-05-17 18:24:41,440 - __main__ - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 18:24:41,441 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:24:41] "POST /process HTTP/1.1" 200 -
2025-05-17 18:28:53,425 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:28:53,425 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:28:53,451 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:28:57,309 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:28:57,328 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:28:57,773 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:28:57] "GET / HTTP/1.1" 200 -
2025-05-17 18:28:58,407 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:28:58] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:29:30,106 - __main__ - INFO - 图片保存路径: static/uploads\paste_f032ae3b_1747477770.png, 标准化后: static/uploads/paste_f032ae3b_1747477770.png
2025-05-17 18:29:30,107 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:29:30] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:29:30,126 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:29:30] "GET /static/uploads/paste_f032ae3b_1747477770.png HTTP/1.1" 200 -
2025-05-17 18:29:30,621 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_f032ae3b_1747477770.png, 转换后=static\uploads\paste_f032ae3b_1747477770.png
2025-05-17 18:29:30,623 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_f032ae3b_1747477770.png
2025-05-17 18:29:31,970 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:29:31,970 - __main__ - INFO - 上传响应内容: {"id":"d0k6a2i1ol7h6f37p9fg","object":"file","bytes":38657,"created_at":1747477770,"filename":"paste_f032ae3b_1747477770.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:29:31,971 - __main__ - INFO - 获取到的文件ID: d0k6a2i1ol7h6f37p9fg
2025-05-17 18:29:31,971 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6a2i1ol7h6f37p9fg/content
2025-05-17 18:29:32,179 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:29:32,179 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:30:18,650 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_comm.py', reloading
2025-05-17 18:30:18,687 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_bytecode_utils.py', reloading
2025-05-17 18:30:19,493 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:30:22,598 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:30:22,611 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:32:20,341 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_f032ae3b_1747477770.png, 转换后=static\uploads\paste_f032ae3b_1747477770.png
2025-05-17 18:32:20,342 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_f032ae3b_1747477770.png
2025-05-17 18:32:21,701 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:32:21,701 - __main__ - INFO - 上传响应内容: {"id":"d0k6bd21ol7h6f37pg4g","object":"file","bytes":38657,"created_at":1747477940,"filename":"paste_f032ae3b_1747477770.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:32:21,701 - __main__ - INFO - 获取到的文件ID: d0k6bd21ol7h6f37pg4g
2025-05-17 18:32:21,701 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6bd21ol7h6f37pg4g/content
2025-05-17 18:32:21,895 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:32:21,895 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:37:48,580 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:37:48,581 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:37:48,625 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:37:52,507 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:37:52,522 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:39:28,699 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:39:28,699 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:39:28,716 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:39:30,583 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:39:30,728 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:39:35,053 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:39:35] "GET / HTTP/1.1" 200 -
2025-05-17 18:39:35,451 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:39:35] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:39:43,235 - __main__ - INFO - 图片保存路径: static/uploads\paste_d97ba2cf_1747478383.png, 标准化后: static/uploads/paste_d97ba2cf_1747478383.png
2025-05-17 18:39:43,236 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:39:43] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:39:43,253 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:39:43] "GET /static/uploads/paste_d97ba2cf_1747478383.png HTTP/1.1" 200 -
2025-05-17 18:39:43,756 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_d97ba2cf_1747478383.png, 转换后=static\uploads\paste_d97ba2cf_1747478383.png
2025-05-17 18:39:43,757 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_d97ba2cf_1747478383.png
2025-05-17 18:39:45,061 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:39:45,061 - __main__ - INFO - 上传响应内容: {"id":"d0k6ers5rbs2bc6svb1g","object":"file","bytes":38657,"created_at":1747478383,"filename":"paste_d97ba2cf_1747478383.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:39:45,061 - __main__ - INFO - 获取到的文件ID: d0k6ers5rbs2bc6svb1g
2025-05-17 18:39:45,061 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6ers5rbs2bc6svb1g/content
2025-05-17 18:39:45,271 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:39:45,271 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:39:45,375 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:39:45,380 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json_data)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:39:45,474 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:39:45,476 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json_data)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:39:45,588 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:39:45,589 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json_data)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:39:45,695 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:39:45,697 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json_data)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:39:46,011 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-17 18:39:46,012 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 440, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json_data)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-97: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-17 18:39:46,014 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:39:46] "POST /process HTTP/1.1" 200 -
2025-05-17 18:40:24,185 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\email\\__init__.py', reloading
2025-05-17 18:40:25,004 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:40:26,709 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:40:26,714 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:44:53,226 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:44:53,226 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:44:53,242 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:44:55,098 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:44:55,105 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:44:57,487 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:44:57] "GET / HTTP/1.1" 200 -
2025-05-17 18:44:57,910 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:44:57] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:45:03,048 - __main__ - INFO - 图片保存路径: static/uploads\paste_cf3604ad_1747478703.png, 标准化后: static/uploads/paste_cf3604ad_1747478703.png
2025-05-17 18:45:03,049 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:45:03] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:45:03,066 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:45:03] "GET /static/uploads/paste_cf3604ad_1747478703.png HTTP/1.1" 200 -
2025-05-17 18:45:03,563 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_cf3604ad_1747478703.png, 转换后=static\uploads\paste_cf3604ad_1747478703.png
2025-05-17 18:45:03,564 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_cf3604ad_1747478703.png
2025-05-17 18:45:04,868 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 18:45:04,869 - __main__ - INFO - 上传响应内容: {"id":"d0k6hbv37oq66hit527g","object":"file","bytes":38657,"created_at":1747478703,"filename":"paste_cf3604ad_1747478703.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:45:04,869 - __main__ - INFO - 获取到的文件ID: d0k6hbv37oq66hit527g
2025-05-17 18:45:04,869 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6hbv37oq66hit527g/content
2025-05-17 18:45:05,056 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 18:45:05,056 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:45:11,931 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:45:11,931 - __main__ - INFO - 响应时间: 2025-05-17 18:45:11
2025-05-17 18:45:11,931 - __main__ - INFO - 请求耗时: 6.874秒
2025-05-17 18:45:11,931 - __main__ - INFO - 响应状态码: 200
2025-05-17 18:45:11,931 - __main__ - INFO - 响应内容(前500字符): {"id":"a7c36de1-ed89-412d-8f6f-3c4c7dcf5ab6","object":"chat.completion","created":1747478704,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，以下句子没有错别字：\n\n\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"\n\n这句话用词准确，书写规范，所有医疗机构名称和专业术语都正确无误。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":46,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_...
2025-05-17 18:45:11,931 - __main__ - INFO - 响应内容(后500字符): ...b6","object":"chat.completion","created":1747478704,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，以下句子没有错别字：\n\n\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"\n\n这句话用词准确，书写规范，所有医疗机构名称和专业术语都正确无误。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":46,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:45:11,931 - __main__ - INFO - 响应内容长度: 541字符
2025-05-17 18:45:11,931 - __main__ - INFO - ==============================================================

2025-05-17 18:45:11,931 - __main__ - INFO - 助手回复: 经过检查，以下句子没有错别字：

"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"

这句话用词准确，书写规范，所有医疗机构名称和专业术语都正确无误。
2025-05-17 18:45:11,932 - __main__ - WARNING - 返回内容不是有效的JSON格式: 经过检查，以下句子没有错别字：

"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"

这句话用词准确，书写规范，所有医疗机构名称和专业术语都正确无误。
2025-05-17 18:45:21,787 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:45:21,787 - __main__ - INFO - 响应时间: 2025-05-17 18:45:21
2025-05-17 18:45:21,787 - __main__ - INFO - 请求耗时: 9.855秒
2025-05-17 18:45:21,787 - __main__ - INFO - 响应状态码: 200
2025-05-17 18:45:21,787 - __main__ - INFO - 响应内容(前500字符): {"id":"18f43abd-fca2-4419-9592-d0a96d1417e1","object":"chat.completion","created":1747478711,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。用词准确，表达清晰。以下是对原文的分析：\n\n1. \"头昏脑胀\" - 这个成语使用正确，形容头脑昏沉的感觉。\n2. \"睡眠质量\" - 专业术语使用恰当。\n3. 标点符号使用规范。\n\n建议：如果希望改善表达效果，可以考虑：\n\"由于近期工作压力较大，我时常感到头昏脑涨，夜间休息质量明显下降。\"\n\n但原句本身没有任何文字错误，表达完整通顺。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":109,"total_tokens":145,"prompt...
2025-05-17 18:45:21,787 - __main__ - INFO - 响应内容(后500字符): ...ge":{"role":"assistant","content":"经过检查，这段文字中没有错别字。用词准确，表达清晰。以下是对原文的分析：\n\n1. \"头昏脑胀\" - 这个成语使用正确，形容头脑昏沉的感觉。\n2. \"睡眠质量\" - 专业术语使用恰当。\n3. 标点符号使用规范。\n\n建议：如果希望改善表达效果，可以考虑：\n\"由于近期工作压力较大，我时常感到头昏脑涨，夜间休息质量明显下降。\"\n\n但原句本身没有任何文字错误，表达完整通顺。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":109,"total_tokens":145,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":36},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:45:21,787 - __main__ - INFO - 响应内容长度: 645字符
2025-05-17 18:45:21,787 - __main__ - INFO - ==============================================================

2025-05-17 18:45:21,787 - __main__ - INFO - 助手回复: 经过检查，这段文字中没有错别字。用词准确，表达清晰。以下是对原文的分析：

1. "头昏脑胀" - 这个成语使用正确，形容头脑昏沉的感觉。
2. "睡眠质量" - 专业术语使用恰当。
3. 标点符号使用规范。

建议：如果希望改善表达效果，可以考虑：
"由于近期工作压力较大，我时常感到头昏脑涨，夜间休息质量明显下降。"

但原句本身没有任何文字错误，表达完整通顺。
2025-05-17 18:45:21,787 - __main__ - WARNING - 返回内容不是有效的JSON格式: 经过检查，这段文字中没有错别字。用词准确，表达清晰。以下是对原文的分析：

1. "头昏脑胀" - 这个成语使用正确，形容头脑昏沉的感觉。
2. "睡眠质量" - 专业术语使用恰当。
3. 标点符号使用规范。

建议：如果希望改善表达效果，可以考虑：
"由于近期工作压力较大，我时常感到头昏脑涨，夜间休息质量明显下降。"

但原句本身没有任何文字错误，表达完整通顺。
2025-05-17 18:45:29,590 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:45:29,590 - __main__ - INFO - 响应时间: 2025-05-17 18:45:29
2025-05-17 18:45:29,590 - __main__ - INFO - 请求耗时: 7.802秒
2025-05-17 18:45:29,590 - __main__ - INFO - 响应状态码: 200
2025-05-17 18:45:29,590 - __main__ - INFO - 响应内容(前500字符): {"id":"f82239db-708e-46f9-a0aa-5b987bb12d4b","object":"chat.completion","created":1747478721,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，发现以下错别字：\n\n1. \"生份证\"应为\"身份证\"。\"份\"是错别字，正确写法是\"身分证\"或\"身份证\"。\n\n建议修改为：\n\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n\n其他部分用词准确，没有发现其他错别字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":84,"total_tokens":129,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache...
2025-05-17 18:45:29,590 - __main__ - INFO - 响应内容(后500字符): ...odel":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，发现以下错别字：\n\n1. \"生份证\"应为\"身份证\"。\"份\"是错别字，正确写法是\"身分证\"或\"身份证\"。\n\n建议修改为：\n\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n\n其他部分用词准确，没有发现其他错别字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":84,"total_tokens":129,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:45:29,590 - __main__ - INFO - 响应内容长度: 595字符
2025-05-17 18:45:29,590 - __main__ - INFO - ==============================================================

2025-05-17 18:45:29,590 - __main__ - INFO - 助手回复: 经过检查，发现以下错别字：

1. "生份证"应为"身份证"。"份"是错别字，正确写法是"身分证"或"身份证"。

建议修改为：
"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"

其他部分用词准确，没有发现其他错别字。
2025-05-17 18:45:29,590 - __main__ - WARNING - 返回内容不是有效的JSON格式: 经过检查，发现以下错别字：

1. "生份证"应为"身份证"。"份"是错别字，正确写法是"身分证"或"身份证"。

建议修改为：
"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"

其他部分用词准确，没有发现其他错别字。
2025-05-17 18:45:34,845 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:45:34,845 - __main__ - INFO - 响应时间: 2025-05-17 18:45:34
2025-05-17 18:45:34,845 - __main__ - INFO - 请求耗时: 5.253秒
2025-05-17 18:45:34,845 - __main__ - INFO - 响应状态码: 200
2025-05-17 18:45:34,845 - __main__ - INFO - 响应内容(前500字符): {"id":"6055cc46-fef6-4170-b70b-594a6f9fe588","object":"chat.completion","created":1747478729,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"\"遵询\"应为\"遵循\"。\n\n修改后的句子：\n缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":37,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369e...
2025-05-17 18:45:34,845 - __main__ - INFO - 响应内容(后500字符): ...fef6-4170-b70b-594a6f9fe588","object":"chat.completion","created":1747478729,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"\"遵询\"应为\"遵循\"。\n\n修改后的句子：\n缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":37,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:45:34,845 - __main__ - INFO - 响应内容长度: 516字符
2025-05-17 18:45:34,845 - __main__ - INFO - ==============================================================

2025-05-17 18:45:34,845 - __main__ - INFO - 助手回复: "遵询"应为"遵循"。

修改后的句子：
缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-17 18:45:34,845 - __main__ - WARNING - 返回内容不是有效的JSON格式: "遵询"应为"遵循"。

修改后的句子：
缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-17 18:45:42,525 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:45:42,526 - __main__ - INFO - 响应时间: 2025-05-17 18:45:42
2025-05-17 18:45:42,526 - __main__ - INFO - 请求耗时: 7.680秒
2025-05-17 18:45:42,526 - __main__ - INFO - 响应状态码: 200
2025-05-17 18:45:42,526 - __main__ - INFO - 响应内容(前500字符): {"id":"571faad8-13dc-4f70-82d6-67ae79c5c6a8","object":"chat.completion","created":1747478734,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"检查结果：未发现错别字。\n\n原句：\"报告要三天后才能取到，希望不会有什么大问题。\"\n\n建议：句子表达准确规范，标点使用恰当，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":40,"total_tokens":70,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_880236...
2025-05-17 18:45:42,526 - __main__ - INFO - 响应内容(后500字符): ...dc-4f70-82d6-67ae79c5c6a8","object":"chat.completion","created":1747478734,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"检查结果：未发现错别字。\n\n原句：\"报告要三天后才能取到，希望不会有什么大问题。\"\n\n建议：句子表达准确规范，标点使用恰当，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":40,"total_tokens":70,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:45:42,526 - __main__ - INFO - 响应内容长度: 518字符
2025-05-17 18:45:42,526 - __main__ - INFO - ==============================================================

2025-05-17 18:45:42,526 - __main__ - INFO - 助手回复: 检查结果：未发现错别字。

原句："报告要三天后才能取到，希望不会有什么大问题。"

建议：句子表达准确规范，标点使用恰当，无需修改。
2025-05-17 18:45:42,526 - __main__ - WARNING - 返回内容不是有效的JSON格式: 检查结果：未发现错别字。

原句："报告要三天后才能取到，希望不会有什么大问题。"

建议：句子表达准确规范，标点使用恰当，无需修改。
2025-05-17 18:45:42,527 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:45:42] "POST /process HTTP/1.1" 200 -
2025-05-17 18:48:06,842 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\datetime.py', reloading
2025-05-17 18:48:07,383 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 18:48:08,696 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 18:48:08,701 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 18:48:53,491 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:48:53,492 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:49:11,290 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:11] "GET / HTTP/1.1" 200 -
2025-05-17 18:49:11,438 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:11] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:49:11,777 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-17 18:49:17,988 - app - INFO - 图片保存路径: static/uploads\paste_cf64a819_1747478957.png, 标准化后: static/uploads/paste_cf64a819_1747478957.png
2025-05-17 18:49:17,989 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:17] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:49:18,005 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:18] "GET /static/uploads/paste_cf64a819_1747478957.png HTTP/1.1" 200 -
2025-05-17 18:49:18,511 - app - INFO - 处理图片路径: 原始=static/uploads/paste_cf64a819_1747478957.png, 转换后=static\uploads\paste_cf64a819_1747478957.png
2025-05-17 18:49:18,513 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_cf64a819_1747478957.png
2025-05-17 18:49:20,172 - app - INFO - 上传响应状态码: 200
2025-05-17 18:49:20,172 - app - INFO - 上传响应内容: {"id":"d0k6jbimisdua6kgkeu0","object":"file","bytes":38657,"created_at":1747478958,"filename":"paste_cf64a819_1747478957.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:49:20,173 - app - INFO - 获取到的文件ID: d0k6jbimisdua6kgkeu0
2025-05-17 18:49:20,174 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6jbimisdua6kgkeu0/content
2025-05-17 18:49:20,776 - app - INFO - 内容响应状态码: 200
2025-05-17 18:49:20,777 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:49:28,970 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:28,971 - app - INFO - 响应时间: 2025-05-17 18:49:28
2025-05-17 18:49:28,972 - app - INFO - 请求耗时: 8.189秒
2025-05-17 18:49:28,972 - app - INFO - 响应状态码: 200
2025-05-17 18:49:28,973 - app - INFO - 响应内容(前500字符): {"id":"161efb84-d6a7-4d41-bbfe-00db8b4cca5d","object":"chat.completion","created":1747478960,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，该句中没有错别字。所有用词准确规范，包括：\n1. \"首都医科大学附属北京友谊医院\" - 医院名称完整正确\n2. \"就诊\" - 使用恰当\n3. \"建议\" - 用词准确\n4. \"全面的健康体检\" - 表述规范\n\n这是一个语法正确、用词精准的句子，不需要任何修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":82,"total_tokens":117,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_...
2025-05-17 18:49:28,974 - app - INFO - 响应内容(后500字符): ...model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，该句中没有错别字。所有用词准确规范，包括：\n1. \"首都医科大学附属北京友谊医院\" - 医院名称完整正确\n2. \"就诊\" - 使用恰当\n3. \"建议\" - 用词准确\n4. \"全面的健康体检\" - 表述规范\n\n这是一个语法正确、用词精准的句子，不需要任何修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":82,"total_tokens":117,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:28,976 - app - INFO - 响应内容长度: 594字符
2025-05-17 18:49:28,976 - app - INFO - ==============================================================

2025-05-17 18:49:28,977 - app - INFO - 助手回复: 经过检查，该句中没有错别字。所有用词准确规范，包括：
1. "首都医科大学附属北京友谊医院" - 医院名称完整正确
2. "就诊" - 使用恰当
3. "建议" - 用词准确
4. "全面的健康体检" - 表述规范

这是一个语法正确、用词精准的句子，不需要任何修改。
2025-05-17 18:49:28,979 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，该句中没有错别字。所有用词准确规范，包括：
1. "首都医科大学附属北京友谊医院" - 医院名称完整正确
2. "就诊" - 使用恰当
3. "建议" - 用词准确
4. "全面的健康体检" - 表述规范

这是一个语法正确、用词精准的句子，不需要任何修改。
2025-05-17 18:49:35,961 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:35,962 - app - INFO - 响应时间: 2025-05-17 18:49:35
2025-05-17 18:49:35,962 - app - INFO - 请求耗时: 6.978秒
2025-05-17 18:49:35,963 - app - INFO - 响应状态码: 200
2025-05-17 18:49:35,964 - app - INFO - 响应内容(前500字符): {"id":"de0c8106-16b5-4a38-96cb-19d7478014ae","object":"chat.completion","created":1747478969,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话没有错别字。用词准确，表达清晰。建议可以适当增加标点符号来增强表达效果，比如：\n\n\"由于最近工作压力大，\n我经常感到头昏脑胀、睡眠质量也很差。\"\n\n这样用顿号连接两个并列的症状描述，会使语句更加流畅自然。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":66,"total_tokens":102,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_mis...
2025-05-17 18:49:35,965 - app - INFO - 响应内容(后500字符): ...pletion","created":1747478969,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话没有错别字。用词准确，表达清晰。建议可以适当增加标点符号来增强表达效果，比如：\n\n\"由于最近工作压力大，\n我经常感到头昏脑胀、睡眠质量也很差。\"\n\n这样用顿号连接两个并列的症状描述，会使语句更加流畅自然。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":66,"total_tokens":102,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":36},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:35,967 - app - INFO - 响应内容长度: 563字符
2025-05-17 18:49:35,968 - app - INFO - ==============================================================

2025-05-17 18:49:35,968 - app - INFO - 助手回复: 经过检查，这句话没有错别字。用词准确，表达清晰。建议可以适当增加标点符号来增强表达效果，比如：

"由于最近工作压力大，
我经常感到头昏脑胀、睡眠质量也很差。"

这样用顿号连接两个并列的症状描述，会使语句更加流畅自然。
2025-05-17 18:49:35,970 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这句话没有错别字。用词准确，表达清晰。建议可以适当增加标点符号来增强表达效果，比如：

"由于最近工作压力大，
我经常感到头昏脑胀、睡眠质量也很差。"

这样用顿号连接两个并列的症状描述，会使语句更加流畅自然。
2025-05-17 18:49:37,266 - app - INFO - 图片保存路径: static/uploads\paste_25d8a611_1747478977.png, 标准化后: static/uploads/paste_25d8a611_1747478977.png
2025-05-17 18:49:37,267 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:37] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:49:37,286 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:49:37] "GET /static/uploads/paste_25d8a611_1747478977.png HTTP/1.1" 200 -
2025-05-17 18:49:37,778 - app - INFO - 处理图片路径: 原始=static/uploads/paste_25d8a611_1747478977.png, 转换后=static\uploads\paste_25d8a611_1747478977.png
2025-05-17 18:49:37,779 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_25d8a611_1747478977.png
2025-05-17 18:49:39,209 - app - INFO - 上传响应状态码: 200
2025-05-17 18:49:39,210 - app - INFO - 上传响应内容: {"id":"d0k6jgi1ol7h6f37qfr0","object":"file","bytes":58166,"created_at":1747478978,"filename":"paste_25d8a611_1747478977.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:49:39,211 - app - INFO - 获取到的文件ID: d0k6jgi1ol7h6f37qfr0
2025-05-17 18:49:39,211 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6jgi1ol7h6f37qfr0/content
2025-05-17 18:49:39,827 - app - INFO - 内容响应状态码: 200
2025-05-17 18:49:39,829 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 18:49:43,899 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:43,900 - app - INFO - 响应时间: 2025-05-17 18:49:43
2025-05-17 18:49:43,901 - app - INFO - 请求耗时: 7.926秒
2025-05-17 18:49:43,901 - app - INFO - 响应状态码: 200
2025-05-17 18:49:43,901 - app - INFO - 响应内容(前500字符): {"id":"e4a9865f-d04b-433a-84d7-9fa8e547b35e","object":"chat.completion","created":1747478976,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n1. \"生份证\"应为\"身份证\"。\n\n修改后的句子：\n\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":46,"total_tokens":91,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerpri...
2025-05-17 18:49:43,903 - app - INFO - 响应内容(后500字符): ...fa8e547b35e","object":"chat.completion","created":1747478976,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n1. \"生份证\"应为\"身份证\"。\n\n修改后的句子：\n\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":46,"total_tokens":91,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:43,905 - app - INFO - 响应内容长度: 532字符
2025-05-17 18:49:43,905 - app - INFO - ==============================================================

2025-05-17 18:49:43,906 - app - INFO - 助手回复: 错别字检查：

1. "生份证"应为"身份证"。

修改后的句子：

医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 18:49:43,908 - app - WARNING - 返回内容不是有效的JSON格式: 错别字检查：

1. "生份证"应为"身份证"。

修改后的句子：

医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 18:49:46,031 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:46,032 - app - INFO - 响应时间: 2025-05-17 18:49:46
2025-05-17 18:49:46,032 - app - INFO - 请求耗时: 6.199秒
2025-05-17 18:49:46,033 - app - INFO - 响应状态码: 200
2025-05-17 18:49:46,033 - app - INFO - 响应内容(前500字符): {"id":"52afdf44-15a6-4992-946f-ef40260da72c","object":"chat.completion","created":1747478980,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n原句：昨天我去了图书馆，想找一本关于人工智能的数。\n\n修改建议：\n\"数\"应为\"书\"，可能是输入时的笔误。\n\n建议修改为：\n昨天我去了图书馆，想找一本关于人工智能的书。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":52,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"...
2025-05-17 18:49:46,035 - app - INFO - 响应内容(后500字符): ...ject":"chat.completion","created":1747478980,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n原句：昨天我去了图书馆，想找一本关于人工智能的数。\n\n修改建议：\n\"数\"应为\"书\"，可能是输入时的笔误。\n\n建议修改为：\n昨天我去了图书馆，想找一本关于人工智能的书。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":52,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:46,037 - app - INFO - 响应内容长度: 548字符
2025-05-17 18:49:46,037 - app - INFO - ==============================================================

2025-05-17 18:49:46,038 - app - INFO - 助手回复: 错别字检查：

原句：昨天我去了图书馆，想找一本关于人工智能的数。

修改建议：
"数"应为"书"，可能是输入时的笔误。

建议修改为：
昨天我去了图书馆，想找一本关于人工智能的书。
2025-05-17 18:49:46,041 - app - WARNING - 返回内容不是有效的JSON格式: 错别字检查：

原句：昨天我去了图书馆，想找一本关于人工智能的数。

修改建议：
"数"应为"书"，可能是输入时的笔误。

建议修改为：
昨天我去了图书馆，想找一本关于人工智能的书。
2025-05-17 18:49:52,947 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:52,948 - app - INFO - 响应时间: 2025-05-17 18:49:52
2025-05-17 18:49:52,948 - app - INFO - 请求耗时: 6.903秒
2025-05-17 18:49:52,948 - app - INFO - 响应状态码: 200
2025-05-17 18:49:52,949 - app - INFO - 响应内容(前500字符): {"id":"2731ebed-f742-43d1-832a-b85602b76afc","object":"chat.completion","created":1747478986,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n将\"数\"改为\"书\"，因为\"数\"是\"书\"的错别字。根据上下文，这里应该是指找到一本专业书籍，而不是数字或数学相关内容。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":58,"total_tokens":92,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":...
2025-05-17 18:49:52,951 - app - INFO - 响应内容(后500字符): ...:"chat.completion","created":1747478986,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n将\"数\"改为\"书\"，因为\"数\"是\"书\"的错别字。根据上下文，这里应该是指找到一本专业书籍，而不是数字或数学相关内容。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":58,"total_tokens":92,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:52,953 - app - INFO - 响应内容长度: 553字符
2025-05-17 18:49:52,953 - app - INFO - ==============================================================

2025-05-17 18:49:52,955 - app - INFO - 助手回复: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
将"数"改为"书"，因为"数"是"书"的错别字。根据上下文，这里应该是指找到一本专业书籍，而不是数字或数学相关内容。
2025-05-17 18:49:52,956 - app - WARNING - 返回内容不是有效的JSON格式: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
将"数"改为"书"，因为"数"是"书"的错别字。根据上下文，这里应该是指找到一本专业书籍，而不是数字或数学相关内容。
2025-05-17 18:49:55,166 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:49:55,167 - app - INFO - 响应时间: 2025-05-17 18:49:55
2025-05-17 18:49:55,168 - app - INFO - 请求耗时: 11.254秒
2025-05-17 18:49:55,168 - app - INFO - 响应状态码: 200
2025-05-17 18:49:55,169 - app - INFO - 响应内容(前500字符): {"id":"dc88e60a-faae-435e-ba98-a64a3450a53d","object":"chat.completion","created":1747478984,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\n\n修改说明：\n1. \"遵询\"改为\"遵循\" - \"遵询\"是错误用词，正确表达应该是\"遵循建议\"或\"遵照建议\"\n2. 调整了标点符号 - 在\"决定\"后面添加了\"定\"字，使句子完整\n3. 保持了原文的语义和语气，只是修正了用词错误\n\n其他建议：\n原文表达清晰流畅，只是个别用词需要修正。修改后的句子既保持了原意，又符合规范用语。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":1...
2025-05-17 18:49:55,171 - app - INFO - 响应内容(后500字符): ...ent":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\n\n修改说明：\n1. \"遵询\"改为\"遵循\" - \"遵询\"是错误用词，正确表达应该是\"遵循建议\"或\"遵照建议\"\n2. 调整了标点符号 - 在\"决定\"后面添加了\"定\"字，使句子完整\n3. 保持了原文的语义和语气，只是修正了用词错误\n\n其他建议：\n原文表达清晰流畅，只是个别用词需要修正。修改后的句子既保持了原意，又符合规范用语。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":130,"total_tokens":174,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:49:55,173 - app - INFO - 响应内容长度: 674字符
2025-05-17 18:49:55,173 - app - INFO - ==============================================================

2025-05-17 18:49:55,174 - app - INFO - 助手回复: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。

修改说明：
1. "遵询"改为"遵循" - "遵询"是错误用词，正确表达应该是"遵循建议"或"遵照建议"
2. 调整了标点符号 - 在"决定"后面添加了"定"字，使句子完整
3. 保持了原文的语义和语气，只是修正了用词错误

其他建议：
原文表达清晰流畅，只是个别用词需要修正。修改后的句子既保持了原意，又符合规范用语。
2025-05-17 18:49:55,176 - app - WARNING - 返回内容不是有效的JSON格式: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。

修改说明：
1. "遵询"改为"遵循" - "遵询"是错误用词，正确表达应该是"遵循建议"或"遵照建议"
2. 调整了标点符号 - 在"决定"后面添加了"定"字，使句子完整
3. 保持了原文的语义和语气，只是修正了用词错误

其他建议：
原文表达清晰流畅，只是个别用词需要修正。修改后的句子既保持了原意，又符合规范用语。
2025-05-17 18:50:00,926 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:50:00,927 - app - INFO - 响应时间: 2025-05-17 18:50:00
2025-05-17 18:50:00,928 - app - INFO - 请求耗时: 5.747秒
2025-05-17 18:50:00,928 - app - INFO - 响应状态码: 200
2025-05-17 18:50:00,929 - app - INFO - 响应内容: {"id":"f534be3e-d10f-4713-ab6a-64c54f1c0ba0","object":"chat.completion","created":1747478995,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，句子中没有发现错别字。原句\"报告要三天后才能取到，希望不会有什么大问题。\"书写规范，用词准确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":33,"total_tokens":63,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:50:00,930 - app - INFO - ==============================================================

2025-05-17 18:50:00,931 - app - INFO - 助手回复: 经过检查，句子中没有发现错别字。原句"报告要三天后才能取到，希望不会有什么大问题。"书写规范，用词准确。
2025-05-17 18:50:00,931 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，句子中没有发现错别字。原句"报告要三天后才能取到，希望不会有什么大问题。"书写规范，用词准确。
2025-05-17 18:50:00,937 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:50:00] "POST /process HTTP/1.1" 200 -
2025-05-17 18:50:01,094 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:50:01,095 - app - INFO - 响应时间: 2025-05-17 18:50:01
2025-05-17 18:50:01,096 - app - INFO - 请求耗时: 8.134秒
2025-05-17 18:50:01,096 - app - INFO - 响应状态码: 200
2025-05-17 18:50:01,097 - app - INFO - 响应内容(前500字符): {"id":"7ef18cc9-f2a7-4109-aa69-0b7ec5825e81","object":"chat.completion","created":1747478993,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，句子中没有错别字。句子表达流畅，用词准确。以下是原句的确认：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n建议：\n1. \"兴冲冲\"也可以写作\"兴致冲冲\"，但两种写法都是正确的\n2. \"深奥\"也可以考虑用\"艰深\"替代，但原词更贴切\n3. 标点符号使用规范\n\n这个句子完全正确，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":103,"total_tokens":142,"prompt_tokens_details":...
2025-05-17 18:50:01,098 - app - INFO - 响应内容(后500字符): ...{"index":0,"message":{"role":"assistant","content":"经过检查，句子中没有错别字。句子表达流畅，用词准确。以下是原句的确认：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n建议：\n1. \"兴冲冲\"也可以写作\"兴致冲冲\"，但两种写法都是正确的\n2. \"深奥\"也可以考虑用\"艰深\"替代，但原词更贴切\n3. 标点符号使用规范\n\n这个句子完全正确，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":103,"total_tokens":142,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:50:01,100 - app - INFO - 响应内容长度: 628字符
2025-05-17 18:50:01,100 - app - INFO - ==============================================================

2025-05-17 18:50:01,101 - app - INFO - 助手回复: 经过检查，句子中没有错别字。句子表达流畅，用词准确。以下是原句的确认：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

建议：
1. "兴冲冲"也可以写作"兴致冲冲"，但两种写法都是正确的
2. "深奥"也可以考虑用"艰深"替代，但原词更贴切
3. 标点符号使用规范

这个句子完全正确，无需修改。
2025-05-17 18:50:01,103 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，句子中没有错别字。句子表达流畅，用词准确。以下是原句的确认：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

建议：
1. "兴冲冲"也可以写作"兴致冲冲"，但两种写法都是正确的
2. "深奥"也可以考虑用"艰深"替代，但原词更贴切
3. 标点符号使用规范

这个句子完全正确，无需修改。
2025-05-17 18:50:14,045 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:50:14,046 - app - INFO - 响应时间: 2025-05-17 18:50:14
2025-05-17 18:50:14,046 - app - INFO - 请求耗时: 12.938秒
2025-05-17 18:50:14,047 - app - INFO - 响应状态码: 200
2025-05-17 18:50:14,047 - app - INFO - 响应内容(前500字符): {"id":"3ce2c6df-92ce-4d93-816e-15324bae345e","object":"chat.completion","created":1747479001,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话没有错别字，表达准确。但可以稍作优化使其更符合书面表达习惯：\n\n建议修改为：\n\"不过，我还是决定借回去仔细研读。\"\n\n修改说明：\n1. \"慢慢研究\"改为\"仔细研读\"更显正式\n2. 保持原意的同时提升了书面感\n3. 语气更加严谨专业\n\n原句本身没有错别字问题，这个修改只是从文字优化的角度提出的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":96,"total_tokens":123,"prompt_tokens_details":{"cached_...
2025-05-17 18:50:14,049 - app - INFO - 响应内容(后500字符): ...hoices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话没有错别字，表达准确。但可以稍作优化使其更符合书面表达习惯：\n\n建议修改为：\n\"不过，我还是决定借回去仔细研读。\"\n\n修改说明：\n1. \"慢慢研究\"改为\"仔细研读\"更显正式\n2. 保持原意的同时提升了书面感\n3. 语气更加严谨专业\n\n原句本身没有错别字问题，这个修改只是从文字优化的角度提出的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":96,"total_tokens":123,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:50:14,051 - app - INFO - 响应内容长度: 619字符
2025-05-17 18:50:14,052 - app - INFO - ==============================================================

2025-05-17 18:50:14,052 - app - INFO - 助手回复: 经过检查，这句话没有错别字，表达准确。但可以稍作优化使其更符合书面表达习惯：

建议修改为：
"不过，我还是决定借回去仔细研读。"

修改说明：
1. "慢慢研究"改为"仔细研读"更显正式
2. 保持原意的同时提升了书面感
3. 语气更加严谨专业

原句本身没有错别字问题，这个修改只是从文字优化的角度提出的建议。
2025-05-17 18:50:14,055 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这句话没有错别字，表达准确。但可以稍作优化使其更符合书面表达习惯：

建议修改为：
"不过，我还是决定借回去仔细研读。"

修改说明：
1. "慢慢研究"改为"仔细研读"更显正式
2. 保持原意的同时提升了书面感
3. 语气更加严谨专业

原句本身没有错别字问题，这个修改只是从文字优化的角度提出的建议。
2025-05-17 18:50:19,658 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:50:19,659 - app - INFO - 响应时间: 2025-05-17 18:50:19
2025-05-17 18:50:19,659 - app - INFO - 请求耗时: 5.600秒
2025-05-17 18:50:19,659 - app - INFO - 响应状态码: 200
2025-05-17 18:50:19,660 - app - INFO - 响应内容(前500字符): {"id":"2a7597df-8972-4064-920f-f1111ba25b5e","object":"chat.completion","created":1747479014,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，您提供的句子 \"作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\" 中没有发现错别字。所有词语使用正确，表达规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":37,"total_tokens":55,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_p...
2025-05-17 18:50:19,662 - app - INFO - 响应内容(后500字符): ...7df-8972-4064-920f-f1111ba25b5e","object":"chat.completion","created":1747479014,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，您提供的句子 \"作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\" 中没有发现错别字。所有词语使用正确，表达规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":37,"total_tokens":55,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:50:19,664 - app - INFO - 响应内容长度: 512字符
2025-05-17 18:50:19,665 - app - INFO - ==============================================================

2025-05-17 18:50:19,665 - app - INFO - 助手回复: 经过检查，您提供的句子 "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查" 中没有发现错别字。所有词语使用正确，表达规范。
2025-05-17 18:50:19,666 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，您提供的句子 "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查" 中没有发现错别字。所有词语使用正确，表达规范。
2025-05-17 18:50:19,669 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:50:19] "POST /process HTTP/1.1" 200 -
2025-05-17 18:50:33,646 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:50:33] "GET /export HTTP/1.1" 200 -
2025-05-17 18:50:33,725 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:50:33] "GET /download/自动文字巡检结果2025年5月.xlsx HTTP/1.1" 200 -
2025-05-17 18:54:46,003 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 18:54:46,004 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 18:54:52,231 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:54:52] "GET / HTTP/1.1" 200 -
2025-05-17 18:54:52,372 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:54:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 18:55:00,699 - app - INFO - 图片保存路径: static/uploads\paste_6a236d01_1747479300.png, 标准化后: static/uploads/paste_6a236d01_1747479300.png
2025-05-17 18:55:00,701 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:00] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:55:00,726 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:00] "GET /static/uploads/paste_6a236d01_1747479300.png HTTP/1.1" 200 -
2025-05-17 18:55:01,211 - app - INFO - 处理图片路径: 原始=static/uploads/paste_6a236d01_1747479300.png, 转换后=static\uploads\paste_6a236d01_1747479300.png
2025-05-17 18:55:01,212 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_6a236d01_1747479300.png
2025-05-17 18:55:03,211 - app - INFO - 上传响应状态码: 200
2025-05-17 18:55:03,211 - app - INFO - 上传响应内容: {"id":"d0k6m1f37oq66hit5ing","object":"file","bytes":38657,"created_at":1747479301,"filename":"paste_6a236d01_1747479300.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:55:03,212 - app - INFO - 获取到的文件ID: d0k6m1f37oq66hit5ing
2025-05-17 18:55:03,213 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6m1f37oq66hit5ing/content
2025-05-17 18:55:03,813 - app - INFO - 内容响应状态码: 200
2025-05-17 18:55:03,814 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 18:55:05,705 - app - INFO - 图片保存路径: static/uploads\paste_2b6a2a91_1747479305.png, 标准化后: static/uploads/paste_2b6a2a91_1747479305.png
2025-05-17 18:55:05,706 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:05] "POST /paste HTTP/1.1" 200 -
2025-05-17 18:55:05,721 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:05] "GET /static/uploads/paste_2b6a2a91_1747479305.png HTTP/1.1" 200 -
2025-05-17 18:55:06,219 - app - INFO - 处理图片路径: 原始=static/uploads/paste_2b6a2a91_1747479305.png, 转换后=static\uploads\paste_2b6a2a91_1747479305.png
2025-05-17 18:55:06,220 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_2b6a2a91_1747479305.png
2025-05-17 18:55:07,645 - app - INFO - 上传响应状态码: 200
2025-05-17 18:55:07,645 - app - INFO - 上传响应内容: {"id":"d0k6m2imisdua6kgkpe0","object":"file","bytes":58166,"created_at":1747479306,"filename":"paste_2b6a2a91_1747479305.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 18:55:07,646 - app - INFO - 获取到的文件ID: d0k6m2imisdua6kgkpe0
2025-05-17 18:55:07,647 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6m2imisdua6kgkpe0/content
2025-05-17 18:55:08,196 - app - INFO - 内容响应状态码: 200
2025-05-17 18:55:08,197 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 18:55:09,914 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:09,915 - app - INFO - 响应时间: 2025-05-17 18:55:09
2025-05-17 18:55:09,915 - app - INFO - 请求耗时: 6.094秒
2025-05-17 18:55:09,916 - app - INFO - 响应状态码: 200
2025-05-17 18:55:09,916 - app - INFO - 响应内容: {"id":"a4e45962-001f-40bc-8189-1645d58c4768","object":"chat.completion","created":1747479304,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，发现句子中没有错别字。句子表达规范，用词准确，专业名词\"首都医科大学附属北京友谊医院\"书写正确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":31,"total_tokens":66,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:09,918 - app - INFO - ==============================================================

2025-05-17 18:55:09,919 - app - INFO - 助手回复: 经过检查，发现句子中没有错别字。句子表达规范，用词准确，专业名词"首都医科大学附属北京友谊医院"书写正确。
2025-05-17 18:55:09,919 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，发现句子中没有错别字。句子表达规范，用词准确，专业名词"首都医科大学附属北京友谊医院"书写正确。
2025-05-17 18:55:13,912 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:13,913 - app - INFO - 响应时间: 2025-05-17 18:55:13
2025-05-17 18:55:13,914 - app - INFO - 请求耗时: 5.711秒
2025-05-17 18:55:13,914 - app - INFO - 响应状态码: 200
2025-05-17 18:55:13,915 - app - INFO - 响应内容(前500字符): {"id":"3315faac-13d0-4f88-8e9f-9ff34f630846","object":"chat.completion","created":1747479308,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为\"数\"是指数字或数学，而\"书\"才是正确的表达。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":43,"total_tokens":72,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_...
2025-05-17 18:55:13,917 - app - INFO - 响应内容(后500字符): ...8-8e9f-9ff34f630846","object":"chat.completion","created":1747479308,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为\"数\"是指数字或数学，而\"书\"才是正确的表达。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":43,"total_tokens":72,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:13,919 - app - INFO - 响应内容长度: 524字符
2025-05-17 18:55:13,920 - app - INFO - ==============================================================

2025-05-17 18:55:13,921 - app - INFO - 助手回复: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. 将"数"改为"书"，因为"数"是指数字或数学，而"书"才是正确的表达。
2025-05-17 18:55:13,922 - app - WARNING - 返回内容不是有效的JSON格式: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. 将"数"改为"书"，因为"数"是指数字或数学，而"书"才是正确的表达。
2025-05-17 18:55:20,459 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:20,460 - app - INFO - 响应时间: 2025-05-17 18:55:20
2025-05-17 18:55:20,460 - app - INFO - 请求耗时: 10.536秒
2025-05-17 18:55:20,461 - app - INFO - 响应状态码: 200
2025-05-17 18:55:20,461 - app - INFO - 响应内容(前500字符): {"id":"839d465c-4c63-4972-b1ad-dab1258dba3b","object":"chat.completion","created":1747479310,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。每个词语的使用都是正确的：\n1. \"由于\" - 正确\n2. \"最近\" - 正确\n3. \"工作\" - 正确\n4. \"压力\" - 正确\n5. \"大\" - 正确\n6. \"经常\" - 正确\n7. \"感到\" - 正确\n8. \"头昏脑胀\" - 正确（注意这是固定成语）\n9. \"睡眠\" - 正确\n10. \"质量\" - 正确\n11. \"很\" - 正确\n12. \"差\" - 正确\n\n整体语句通顺，表达清晰，没有需要修改的地方。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_...
2025-05-17 18:55:20,463 - app - INFO - 响应内容(后500字符): ...确的：\n1. \"由于\" - 正确\n2. \"最近\" - 正确\n3. \"工作\" - 正确\n4. \"压力\" - 正确\n5. \"大\" - 正确\n6. \"经常\" - 正确\n7. \"感到\" - 正确\n8. \"头昏脑胀\" - 正确（注意这是固定成语）\n9. \"睡眠\" - 正确\n10. \"质量\" - 正确\n11. \"很\" - 正确\n12. \"差\" - 正确\n\n整体语句通顺，表达清晰，没有需要修改的地方。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":145,"total_tokens":181,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":36},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:20,464 - app - INFO - 响应内容长度: 706字符
2025-05-17 18:55:20,465 - app - INFO - ==============================================================

2025-05-17 18:55:20,465 - app - INFO - 助手回复: 经过检查，这段文字中没有错别字。每个词语的使用都是正确的：
1. "由于" - 正确
2. "最近" - 正确
3. "工作" - 正确
4. "压力" - 正确
5. "大" - 正确
6. "经常" - 正确
7. "感到" - 正确
8. "头昏脑胀" - 正确（注意这是固定成语）
9. "睡眠" - 正确
10. "质量" - 正确
11. "很" - 正确
12. "差" - 正确

整体语句通顺，表达清晰，没有需要修改的地方。
2025-05-17 18:55:20,468 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这段文字中没有错别字。每个词语的使用都是正确的：
1. "由于" - 正确
2. "最近" - 正确
3. "工作" - 正确
4. "压力" - 正确
5. "大" - 正确
6. "经常" - 正确
7. "感到" - 正确
8. "头昏脑胀" - 正确（注意这是固定成语）
9. "睡眠" - 正确
10. "质量" - 正确
11. "很" - 正确
12. "差" - 正确

整体语句通顺，表达清晰，没有需要修改的地方。
2025-05-17 18:55:20,641 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:20,642 - app - INFO - 响应时间: 2025-05-17 18:55:20
2025-05-17 18:55:20,643 - app - INFO - 请求耗时: 6.717秒
2025-05-17 18:55:20,643 - app - INFO - 响应状态码: 200
2025-05-17 18:55:20,644 - app - INFO - 响应内容(前500字符): {"id":"fe2d04c3-8bbe-4d3c-87fa-678767332f83","object":"chat.completion","created":1747479314,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为根据上下文，这里应该是指找到一本书，而不是数字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":44,"total_tokens":78,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint...
2025-05-17 18:55:20,645 - app - INFO - 响应内容(后500字符): ...-678767332f83","object":"chat.completion","created":1747479314,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为根据上下文，这里应该是指找到一本书，而不是数字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":44,"total_tokens":78,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:20,646 - app - INFO - 响应内容长度: 530字符
2025-05-17 18:55:20,647 - app - INFO - ==============================================================

2025-05-17 18:55:20,647 - app - INFO - 助手回复: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
1. 将"数"改为"书"，因为根据上下文，这里应该是指找到一本书，而不是数字。
2025-05-17 18:55:20,649 - app - WARNING - 返回内容不是有效的JSON格式: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
1. 将"数"改为"书"，因为根据上下文，这里应该是指找到一本书，而不是数字。
2025-05-17 18:55:29,709 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:29,710 - app - INFO - 响应时间: 2025-05-17 18:55:29
2025-05-17 18:55:29,710 - app - INFO - 请求耗时: 9.237秒
2025-05-17 18:55:29,711 - app - INFO - 响应状态码: 200
2025-05-17 18:55:29,711 - app - INFO - 响应内容(前500字符): {"id":"a2897208-32db-42a2-83d6-957bb2e9c320","object":"chat.completion","created":1747479320,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n1. \"生份证\" 应为 \"身份证\"\n   - \"份\"是错别字，正确应为\"身\"\n   - \"身份证\"是标准用语\n\n修改建议：\n将\"生份证\"改为\"身份证\"\n\n修改后的正确句子：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":84,"total_tokens":129,"prompt_tokens_details":{"cached_tokens":0},"...
2025-05-17 18:55:29,714 - app - INFO - 响应内容(后500字符): ...eek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查：\n\n1. \"生份证\" 应为 \"身份证\"\n   - \"份\"是错别字，正确应为\"身\"\n   - \"身份证\"是标准用语\n\n修改建议：\n将\"生份证\"改为\"身份证\"\n\n修改后的正确句子：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":84,"total_tokens":129,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:29,715 - app - INFO - 响应内容长度: 607字符
2025-05-17 18:55:29,716 - app - INFO - ==============================================================

2025-05-17 18:55:29,716 - app - INFO - 助手回复: 错别字检查：

1. "生份证" 应为 "身份证"
   - "份"是错别字，正确应为"身"
   - "身份证"是标准用语

修改建议：
将"生份证"改为"身份证"

修改后的正确句子：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 18:55:29,718 - app - WARNING - 返回内容不是有效的JSON格式: 错别字检查：

1. "生份证" 应为 "身份证"
   - "份"是错别字，正确应为"身"
   - "身份证"是标准用语

修改建议：
将"生份证"改为"身份证"

修改后的正确句子：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 18:55:29,779 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:29,780 - app - INFO - 响应时间: 2025-05-17 18:55:29
2025-05-17 18:55:29,781 - app - INFO - 请求耗时: 9.125秒
2025-05-17 18:55:29,781 - app - INFO - 响应状态码: 200
2025-05-17 18:55:29,781 - app - INFO - 响应内容(前500字符): {"id":"5644880c-84b7-4422-913f-ea23f6669fa6","object":"chat.completion","created":1747479320,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。用词准确，表达流畅。如果需要进一步优化，可以考虑以下几点：\n\n1. \"兴冲冲\"可以替换为更正式的\"兴致勃勃\"（根据语境需要）\n2. \"发\n现\"中间有换行，建议调整为连续书写\"发现\"\n\n修改建议：\n\"我兴致勃勃地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n但原句本身没有错别字问题，表达也是完整准确的。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":102,"total_tokens":141,"prompt_toke...
2025-05-17 18:55:29,783 - app - INFO - 响应内容(后500字符): ...message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。用词准确，表达流畅。如果需要进一步优化，可以考虑以下几点：\n\n1. \"兴冲冲\"可以替换为更正式的\"兴致勃勃\"（根据语境需要）\n2. \"发\n现\"中间有换行，建议调整为连续书写\"发现\"\n\n修改建议：\n\"我兴致勃勃地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n但原句本身没有错别字问题，表达也是完整准确的。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":102,"total_tokens":141,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:29,785 - app - INFO - 响应内容长度: 640字符
2025-05-17 18:55:29,786 - app - INFO - ==============================================================

2025-05-17 18:55:29,786 - app - INFO - 助手回复: 经过检查，这段文字中没有错别字。用词准确，表达流畅。如果需要进一步优化，可以考虑以下几点：

1. "兴冲冲"可以替换为更正式的"兴致勃勃"（根据语境需要）
2. "发
现"中间有换行，建议调整为连续书写"发现"

修改建议：
"我兴致勃勃地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

但原句本身没有错别字问题，表达也是完整准确的。
2025-05-17 18:55:29,788 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这段文字中没有错别字。用词准确，表达流畅。如果需要进一步优化，可以考虑以下几点：

1. "兴冲冲"可以替换为更正式的"兴致勃勃"（根据语境需要）
2. "发
现"中间有换行，建议调整为连续书写"发现"

修改建议：
"我兴致勃勃地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

但原句本身没有错别字问题，表达也是完整准确的。
2025-05-17 18:55:35,459 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:35,460 - app - INFO - 响应时间: 2025-05-17 18:55:35
2025-05-17 18:55:35,461 - app - INFO - 请求耗时: 5.669秒
2025-05-17 18:55:35,461 - app - INFO - 响应状态码: 200
2025-05-17 18:55:35,462 - app - INFO - 响应内容: {"id":"450e2cc3-54f2-4741-a47c-0d3585cd7dec","object":"chat.completion","created":1747479330,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这个句子中没有错别字。句子表达完整通顺，用词准确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":20,"total_tokens":47,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:35,463 - app - INFO - ==============================================================

2025-05-17 18:55:35,464 - app - INFO - 助手回复: 经过检查，这个句子中没有错别字。句子表达完整通顺，用词准确。
2025-05-17 18:55:35,464 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这个句子中没有错别字。句子表达完整通顺，用词准确。
2025-05-17 18:55:36,854 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:36,855 - app - INFO - 响应时间: 2025-05-17 18:55:36
2025-05-17 18:55:36,856 - app - INFO - 请求耗时: 7.132秒
2025-05-17 18:55:36,856 - app - INFO - 响应状态码: 200
2025-05-17 18:55:36,857 - app - INFO - 响应内容(前500字符): {"id":"80d90c05-78fd-42be-98d5-ce21beb9e2a7","object":"chat.completion","created":1747479329,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"\"遵询\"应为\"遵循\"。\n\n修改后的句子：\n缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":37,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369e...
2025-05-17 18:55:36,858 - app - INFO - 响应内容(后500字符): ...78fd-42be-98d5-ce21beb9e2a7","object":"chat.completion","created":1747479329,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"\"遵询\"应为\"遵循\"。\n\n修改后的句子：\n缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":37,"total_tokens":81,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:36,860 - app - INFO - 响应内容长度: 516字符
2025-05-17 18:55:36,860 - app - INFO - ==============================================================

2025-05-17 18:55:36,861 - app - INFO - 助手回复: "遵询"应为"遵循"。

修改后的句子：
缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-17 18:55:36,862 - app - WARNING - 返回内容不是有效的JSON格式: "遵询"应为"遵循"。

修改后的句子：
缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-17 18:55:43,743 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:43,744 - app - INFO - 响应时间: 2025-05-17 18:55:43
2025-05-17 18:55:43,744 - app - INFO - 请求耗时: 6.878秒
2025-05-17 18:55:43,745 - app - INFO - 响应状态码: 200
2025-05-17 18:55:43,745 - app - INFO - 响应内容(前500字符): {"id":"9cc6b29a-fca2-4713-8d24-f0719bfda594","object":"chat.completion","created":1747479337,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"句子中没有发现错别字。这是一个表达完整、用词准确的句子。\n\n建议：如果要更正式一些，可以将\"取到\"改为\"领取\"或\"取得\"，但这不属于错别字范畴。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":43,"total_tokens":73,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp...
2025-05-17 18:55:43,746 - app - INFO - 响应内容(后500字符): ...-8d24-f0719bfda594","object":"chat.completion","created":1747479337,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"句子中没有发现错别字。这是一个表达完整、用词准确的句子。\n\n建议：如果要更正式一些，可以将\"取到\"改为\"领取\"或\"取得\"，但这不属于错别字范畴。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":43,"total_tokens":73,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:43,748 - app - INFO - 响应内容长度: 525字符
2025-05-17 18:55:43,748 - app - INFO - ==============================================================

2025-05-17 18:55:43,748 - app - INFO - 助手回复: 句子中没有发现错别字。这是一个表达完整、用词准确的句子。

建议：如果要更正式一些，可以将"取到"改为"领取"或"取得"，但这不属于错别字范畴。
2025-05-17 18:55:43,750 - app - WARNING - 返回内容不是有效的JSON格式: 句子中没有发现错别字。这是一个表达完整、用词准确的句子。

建议：如果要更正式一些，可以将"取到"改为"领取"或"取得"，但这不属于错别字范畴。
2025-05-17 18:55:43,753 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:43] "POST /process HTTP/1.1" 200 -
2025-05-17 18:55:47,819 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 18:55:47,820 - app - INFO - 响应时间: 2025-05-17 18:55:47
2025-05-17 18:55:47,820 - app - INFO - 请求耗时: 12.353秒
2025-05-17 18:55:47,821 - app - INFO - 响应状态码: 200
2025-05-17 18:55:47,821 - app - INFO - 响应内容(前500字符): {"id":"6653273f-46e2-453b-bfca-bee6153b9dd5","object":"chat.completion","created":1747479335,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"1. 句子中没有明显的错别字或语法错误。  \n2. 标点符号使用正确，符合中文写作规范。  \n3. 表达清晰简洁，符合文字秘书的写作要求。  \n\n建议：  \n- 如果这是需要检查的句子片段，建议提供更完整的上下文，以便更准确地检查语义和逻辑是否通顺。  \n- 若需进一步润色或调整语气风格，可以补充具体需求。  \n\n（注：由于原句仅为描述性内容，无实际文本可纠错，以上反馈基于常规检查流程。请提供具体需要检查的文本内容以便更精准校对。）"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":13...
2025-05-17 18:55:47,823 - app - INFO - 响应内容(后500字符): ...tent":"1. 句子中没有明显的错别字或语法错误。  \n2. 标点符号使用正确，符合中文写作规范。  \n3. 表达清晰简洁，符合文字秘书的写作要求。  \n\n建议：  \n- 如果这是需要检查的句子片段，建议提供更完整的上下文，以便更准确地检查语义和逻辑是否通顺。  \n- 若需进一步润色或调整语气风格，可以补充具体需求。  \n\n（注：由于原句仅为描述性内容，无实际文本可纠错，以上反馈基于常规检查流程。请提供具体需要检查的文本内容以便更精准校对。）"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":131,"total_tokens":149,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 18:55:47,825 - app - INFO - 响应内容长度: 673字符
2025-05-17 18:55:47,825 - app - INFO - ==============================================================

2025-05-17 18:55:47,826 - app - INFO - 助手回复: 1. 句子中没有明显的错别字或语法错误。  
2. 标点符号使用正确，符合中文写作规范。  
3. 表达清晰简洁，符合文字秘书的写作要求。  

建议：  
- 如果这是需要检查的句子片段，建议提供更完整的上下文，以便更准确地检查语义和逻辑是否通顺。  
- 若需进一步润色或调整语气风格，可以补充具体需求。  

（注：由于原句仅为描述性内容，无实际文本可纠错，以上反馈基于常规检查流程。请提供具体需要检查的文本内容以便更精准校对。）
2025-05-17 18:55:47,828 - app - WARNING - 返回内容不是有效的JSON格式: 1. 句子中没有明显的错别字或语法错误。  
2. 标点符号使用正确，符合中文写作规范。  
3. 表达清晰简洁，符合文字秘书的写作要求。  

建议：  
- 如果这是需要检查的句子片段，建议提供更完整的上下文，以便更准确地检查语义和逻辑是否通顺。  
- 若需进一步润色或调整语气风格，可以补充具体需求。  

（注：由于原句仅为描述性内容，无实际文本可纠错，以上反馈基于常规检查流程。请提供具体需要检查的文本内容以便更精准校对。）
2025-05-17 18:55:47,833 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 18:55:47] "POST /process HTTP/1.1" 200 -
2025-05-17 19:01:17,124 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:01:17,125 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:01:22,913 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:22] "GET / HTTP/1.1" 200 -
2025-05-17 19:01:23,210 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:23] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:01:29,371 - app - INFO - 图片保存路径: static/uploads\paste_eb84b890_1747479689.png, 标准化后: static/uploads/paste_eb84b890_1747479689.png
2025-05-17 19:01:29,372 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:29] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:01:29,392 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:29] "GET /static/uploads/paste_eb84b890_1747479689.png HTTP/1.1" 200 -
2025-05-17 19:01:29,890 - app - INFO - 处理图片路径: 原始=static/uploads/paste_eb84b890_1747479689.png, 转换后=static\uploads\paste_eb84b890_1747479689.png
2025-05-17 19:01:29,892 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_eb84b890_1747479689.png
2025-05-17 19:01:31,734 - app - INFO - 上传响应状态码: 200
2025-05-17 19:01:31,734 - app - INFO - 上传响应内容: {"id":"d0k6p2i1ol7h6f37rb4g","object":"file","bytes":38657,"created_at":1747479690,"filename":"paste_eb84b890_1747479689.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:01:31,735 - app - INFO - 获取到的文件ID: d0k6p2i1ol7h6f37rb4g
2025-05-17 19:01:31,736 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6p2i1ol7h6f37rb4g/content
2025-05-17 19:01:32,324 - app - INFO - 内容响应状态码: 200
2025-05-17 19:01:32,325 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:01:34,429 - app - INFO - 图片保存路径: static/uploads\paste_a6b6b7fe_1747479694.png, 标准化后: static/uploads/paste_a6b6b7fe_1747479694.png
2025-05-17 19:01:34,430 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:34] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:01:34,449 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:01:34] "GET /static/uploads/paste_a6b6b7fe_1747479694.png HTTP/1.1" 200 -
2025-05-17 19:01:34,937 - app - INFO - 处理图片路径: 原始=static/uploads/paste_a6b6b7fe_1747479694.png, 转换后=static\uploads\paste_a6b6b7fe_1747479694.png
2025-05-17 19:01:34,939 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_a6b6b7fe_1747479694.png
2025-05-17 19:01:36,369 - app - INFO - 上传响应状态码: 200
2025-05-17 19:01:36,370 - app - INFO - 上传响应内容: {"id":"d0k6p3qmisdua6kglb10","object":"file","bytes":58166,"created_at":1747479695,"filename":"paste_a6b6b7fe_1747479694.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:01:36,371 - app - INFO - 获取到的文件ID: d0k6p3qmisdua6kglb10
2025-05-17 19:01:36,372 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6p3qmisdua6kglb10/content
2025-05-17 19:01:36,984 - app - INFO - 内容响应状态码: 200
2025-05-17 19:01:36,985 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 19:01:40,326 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:01:40,327 - app - INFO - 响应时间: 2025-05-17 19:01:40
2025-05-17 19:01:40,327 - app - INFO - 请求耗时: 7.997秒
2025-05-17 19:01:40,327 - app - INFO - 响应状态码: 200
2025-05-17 19:01:40,328 - app - INFO - 响应内容(前500字符): {"id":"2c11e06a-4800-4c14-aba6-0fadc6873507","object":"chat.completion","created":1747479692,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，以下句子中没有发现错别字：\n\n\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"\n\n这个句子用词准确规范，所有专业名称（\"首都医科大学附属北京友谊医院\"）和医学术语（\"就诊\"、\"健康体检\"）的书写都正确无误。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":69,"total_tokens":104,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0...
2025-05-17 19:01:40,329 - app - INFO - 响应内容(后500字符): ...:1747479692,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，以下句子中没有发现错别字：\n\n\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"\n\n这个句子用词准确规范，所有专业名称（\"首都医科大学附属北京友谊医院\"）和医学术语（\"就诊\"、\"健康体检\"）的书写都正确无误。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":69,"total_tokens":104,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:01:40,331 - app - INFO - 响应内容长度: 581字符
2025-05-17 19:01:40,332 - app - INFO - ==============================================================

2025-05-17 19:01:40,333 - app - INFO - 助手回复: 经过检查，以下句子中没有发现错别字：

"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"

这个句子用词准确规范，所有专业名称（"首都医科大学附属北京友谊医院"）和医学术语（"就诊"、"健康体检"）的书写都正确无误。
2025-05-17 19:01:40,335 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，以下句子中没有发现错别字：

"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"

这个句子用词准确规范，所有专业名称（"首都医科大学附属北京友谊医院"）和医学术语（"就诊"、"健康体检"）的书写都正确无误。
2025-05-17 19:01:46,026 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:01:46,027 - app - INFO - 响应时间: 2025-05-17 19:01:46
2025-05-17 19:01:46,028 - app - INFO - 请求耗时: 9.037秒
2025-05-17 19:01:46,028 - app - INFO - 响应状态码: 200
2025-05-17 19:01:46,029 - app - INFO - 响应内容(前500字符): {"id":"6c34a38d-98a8-4a64-b792-7d53d58fe7d0","object":"chat.completion","created":1747479697,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. \"数\"改为\"书\" - \"数\"是数字的意思，而这里应该是指\"书籍\"的\"书\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":43,"total_tokens":72,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"...
2025-05-17 19:01:46,030 - app - INFO - 响应内容(后500字符): ...792-7d53d58fe7d0","object":"chat.completion","created":1747479697,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. \"数\"改为\"书\" - \"数\"是数字的意思，而这里应该是指\"书籍\"的\"书\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":43,"total_tokens":72,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:01:46,032 - app - INFO - 响应内容长度: 527字符
2025-05-17 19:01:46,032 - app - INFO - ==============================================================

2025-05-17 19:01:46,033 - app - INFO - 助手回复: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. "数"改为"书" - "数"是数字的意思，而这里应该是指"书籍"的"书"
2025-05-17 19:01:46,034 - app - WARNING - 返回内容不是有效的JSON格式: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. "数"改为"书" - "数"是数字的意思，而这里应该是指"书籍"的"书"
2025-05-17 19:01:49,991 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:01:49,991 - app - INFO - 响应时间: 2025-05-17 19:01:49
2025-05-17 19:01:49,992 - app - INFO - 请求耗时: 9.652秒
2025-05-17 19:01:49,992 - app - INFO - 响应状态码: 200
2025-05-17 19:01:49,993 - app - INFO - 响应内容(前500字符): {"id":"a748d833-2974-4ba1-83a4-6b06cb6722fc","object":"chat.completion","created":1747479700,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话没有错别字，用词准确。不过建议可以稍作优化：\n\n\"由于最近工作压力大，我经常感到头昏脑胀，睡眠质量也很差。\"\n\n修改建议：\n1. \"头昏脑胀\"也可以写作\"头晕脑胀\"，两者都是正确的\n2. 可以在\"压力大\"后加个逗号，使语气更自然\n3. \"睡眠质量也很差\"可以改为\"睡眠质量明显下降\"更专业\n\n总体来说，原句表达清晰准确，没有错别字问题。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":114,"total_tokens":150,"prompt_...
2025-05-17 19:01:49,995 - app - INFO - 响应内容(后500字符): ...age":{"role":"assistant","content":"经过检查，这句话没有错别字，用词准确。不过建议可以稍作优化：\n\n\"由于最近工作压力大，我经常感到头昏脑胀，睡眠质量也很差。\"\n\n修改建议：\n1. \"头昏脑胀\"也可以写作\"头晕脑胀\"，两者都是正确的\n2. 可以在\"压力大\"后加个逗号，使语气更自然\n3. \"睡眠质量也很差\"可以改为\"睡眠质量明显下降\"更专业\n\n总体来说，原句表达清晰准确，没有错别字问题。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":114,"total_tokens":150,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":36},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:01:49,997 - app - INFO - 响应内容长度: 644字符
2025-05-17 19:01:49,997 - app - INFO - ==============================================================

2025-05-17 19:01:49,998 - app - INFO - 助手回复: 经过检查，这句话没有错别字，用词准确。不过建议可以稍作优化：

"由于最近工作压力大，我经常感到头昏脑胀，睡眠质量也很差。"

修改建议：
1. "头昏脑胀"也可以写作"头晕脑胀"，两者都是正确的
2. 可以在"压力大"后加个逗号，使语气更自然
3. "睡眠质量也很差"可以改为"睡眠质量明显下降"更专业

总体来说，原句表达清晰准确，没有错别字问题。
2025-05-17 19:01:50,001 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这句话没有错别字，用词准确。不过建议可以稍作优化：

"由于最近工作压力大，我经常感到头昏脑胀，睡眠质量也很差。"

修改建议：
1. "头昏脑胀"也可以写作"头晕脑胀"，两者都是正确的
2. 可以在"压力大"后加个逗号，使语气更自然
3. "睡眠质量也很差"可以改为"睡眠质量明显下降"更专业

总体来说，原句表达清晰准确，没有错别字问题。
2025-05-17 19:01:53,640 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:01:53,640 - app - INFO - 响应时间: 2025-05-17 19:01:53
2025-05-17 19:01:53,641 - app - INFO - 请求耗时: 7.603秒
2025-05-17 19:01:53,642 - app - INFO - 响应状态码: 200
2025-05-17 19:01:53,642 - app - INFO - 响应内容(前500字符): {"id":"37e8e4c8-46bd-4f2a-9b28-577f86a33047","object":"chat.completion","created":1747479706,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于  \n在书架的角落里找到了一本看起来很专业的书。  \n\n修改说明：  \n1. 将\"数\"改为\"书\"，因为从上下文看应该是指\"书\"而不是\"数字\"的\"数\"。  \n2. 调整了标点符号的间距，使排版更规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":67,"total_tokens":101,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cach...
2025-05-17 19:01:53,643 - app - INFO - 响应内容(后500字符): ...on","created":1747479706,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于  \n在书架的角落里找到了一本看起来很专业的书。  \n\n修改说明：  \n1. 将\"数\"改为\"书\"，因为从上下文看应该是指\"书\"而不是\"数字\"的\"数\"。  \n2. 调整了标点符号的间距，使排版更规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":67,"total_tokens":101,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:01:53,645 - app - INFO - 响应内容长度: 568字符
2025-05-17 19:01:53,645 - app - INFO - ==============================================================

2025-05-17 19:01:53,646 - app - INFO - 助手回复: 我找了半天，终于  
在书架的角落里找到了一本看起来很专业的书。  

修改说明：  
1. 将"数"改为"书"，因为从上下文看应该是指"书"而不是"数字"的"数"。  
2. 调整了标点符号的间距，使排版更规范。
2025-05-17 19:01:53,647 - app - WARNING - 返回内容不是有效的JSON格式: 我找了半天，终于  
在书架的角落里找到了一本看起来很专业的书。  

修改说明：  
1. 将"数"改为"书"，因为从上下文看应该是指"书"而不是"数字"的"数"。  
2. 调整了标点符号的间距，使排版更规范。
2025-05-17 19:01:56,930 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:01:56,931 - app - INFO - 响应时间: 2025-05-17 19:01:56
2025-05-17 19:01:56,931 - app - INFO - 请求耗时: 6.925秒
2025-05-17 19:01:56,932 - app - INFO - 响应状态码: 200
2025-05-17 19:01:56,933 - app - INFO - 响应内容(前500字符): {"id":"1d84fc5a-d883-4b23-a105-97c01fbdb972","object":"chat.completion","created":1747479710,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查结果：\n\n1. \"生份证\"应为\"身份证\"（正确写法：身份证）\n\n修改后的句子：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\n\n其他部分均无错别字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":60,"total_tokens":105,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_token...
2025-05-17 19:01:56,934 - app - INFO - 响应内容(后500字符): ...hat.completion","created":1747479710,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查结果：\n\n1. \"生份证\"应为\"身份证\"（正确写法：身份证）\n\n修改后的句子：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\n\n其他部分均无错别字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":60,"total_tokens":105,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:01:56,936 - app - INFO - 响应内容长度: 556字符
2025-05-17 19:01:56,937 - app - INFO - ==============================================================

2025-05-17 19:01:56,938 - app - INFO - 助手回复: 错别字检查结果：

1. "生份证"应为"身份证"（正确写法：身份证）

修改后的句子：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。

其他部分均无错别字。
2025-05-17 19:01:56,940 - app - WARNING - 返回内容不是有效的JSON格式: 错别字检查结果：

1. "生份证"应为"身份证"（正确写法：身份证）

修改后的句子：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。

其他部分均无错别字。
2025-05-17 19:02:03,042 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:02:03,043 - app - INFO - 响应时间: 2025-05-17 19:02:03
2025-05-17 19:02:03,043 - app - INFO - 请求耗时: 9.391秒
2025-05-17 19:02:03,044 - app - INFO - 响应状态码: 200
2025-05-17 19:02:03,044 - app - INFO - 响应内容(前500字符): {"id":"0d0b9bf5-e260-454c-924f-e73d3a9da85c","object":"chat.completion","created":1747479713,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。句子表达通顺，用词准确。以下是原文的确认：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n每个词语的使用都正确无误：\n1. \"兴冲冲\"是正确用法\n2. \"打开\"、\"发现\"等动词使用恰当\n3. \"深奥\"、\"看不懂\"等表达准确\n\n这段文字完全符合规范汉语表达，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":99,"total_tokens":138,"prompt_tokens_details...
2025-05-17 19:02:03,046 - app - INFO - 响应内容(后500字符): ...index":0,"message":{"role":"assistant","content":"经过检查，这段文字中没有错别字。句子表达通顺，用词准确。以下是原文的确认：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n每个词语的使用都正确无误：\n1. \"兴冲冲\"是正确用法\n2. \"打开\"、\"发现\"等动词使用恰当\n3. \"深奥\"、\"看不懂\"等表达准确\n\n这段文字完全符合规范汉语表达，无需修改。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":99,"total_tokens":138,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:02:03,048 - app - INFO - 响应内容长度: 630字符
2025-05-17 19:02:03,049 - app - INFO - ==============================================================

2025-05-17 19:02:03,049 - app - INFO - 助手回复: 经过检查，这段文字中没有错别字。句子表达通顺，用词准确。以下是原文的确认：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

每个词语的使用都正确无误：
1. "兴冲冲"是正确用法
2. "打开"、"发现"等动词使用恰当
3. "深奥"、"看不懂"等表达准确

这段文字完全符合规范汉语表达，无需修改。
2025-05-17 19:02:03,051 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这段文字中没有错别字。句子表达通顺，用词准确。以下是原文的确认：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

每个词语的使用都正确无误：
1. "兴冲冲"是正确用法
2. "打开"、"发现"等动词使用恰当
3. "深奥"、"看不懂"等表达准确

这段文字完全符合规范汉语表达，无需修改。
2025-05-17 19:02:05,006 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:02:05,007 - app - INFO - 响应时间: 2025-05-17 19:02:05
2025-05-17 19:02:05,008 - app - INFO - 请求耗时: 8.062秒
2025-05-17 19:02:05,008 - app - INFO - 响应状态码: 200
2025-05-17 19:02:05,009 - app - INFO - 响应内容(前500字符): {"id":"9504db01-30c5-4731-8a56-f8c69ab86e02","object":"chat.completion","created":1747479717,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\n\n修改说明：\n1. \"遵询\"改为\"遵循\"：\n   - \"遵询\"是错误搭配，\"遵\"与\"询\"不能组合成词\n   - \"遵循\"意为遵照、依从，符合语境\n   - 医生建议应该\"遵循\"而非\"遵询\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":87,"total_tokens":131,"prompt_tokens_details":{"cached_tokens":0},"p...
2025-05-17 19:02:05,011 - app - INFO - 响应内容(后500字符): ...seek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\n\n修改说明：\n1. \"遵询\"改为\"遵循\"：\n   - \"遵询\"是错误搭配，\"遵\"与\"询\"不能组合成词\n   - \"遵循\"意为遵照、依从，符合语境\n   - 医生建议应该\"遵循\"而非\"遵询\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":87,"total_tokens":131,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:02:05,013 - app - INFO - 响应内容长度: 606字符
2025-05-17 19:02:05,013 - app - INFO - ==============================================================

2025-05-17 19:02:05,014 - app - INFO - 助手回复: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。

修改说明：
1. "遵询"改为"遵循"：
   - "遵询"是错误搭配，"遵"与"询"不能组合成词
   - "遵循"意为遵照、依从，符合语境
   - 医生建议应该"遵循"而非"遵询"
2025-05-17 19:02:05,015 - app - WARNING - 返回内容不是有效的JSON格式: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。

修改说明：
1. "遵询"改为"遵循"：
   - "遵询"是错误搭配，"遵"与"询"不能组合成词
   - "遵循"意为遵照、依从，符合语境
   - 医生建议应该"遵循"而非"遵询"
2025-05-17 19:02:08,215 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:02:08,216 - app - INFO - 响应时间: 2025-05-17 19:02:08
2025-05-17 19:02:08,216 - app - INFO - 请求耗时: 5.162秒
2025-05-17 19:02:08,216 - app - INFO - 响应状态码: 200
2025-05-17 19:02:08,217 - app - INFO - 响应内容: {"id":"080aa087-8101-4536-85bb-b699f43f389a","object":"chat.completion","created":1747479723,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经检查，句子中没有错别字。句子\"不过，我还是决定借回去慢慢研究。\"书写规范，表达清晰。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":26,"total_tokens":53,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:02:08,218 - app - INFO - ==============================================================

2025-05-17 19:02:08,218 - app - INFO - 助手回复: 经检查，句子中没有错别字。句子"不过，我还是决定借回去慢慢研究。"书写规范，表达清晰。
2025-05-17 19:02:08,219 - app - WARNING - 返回内容不是有效的JSON格式: 经检查，句子中没有错别字。句子"不过，我还是决定借回去慢慢研究。"书写规范，表达清晰。
2025-05-17 19:02:09,832 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:02:09,833 - app - INFO - 响应时间: 2025-05-17 19:02:09
2025-05-17 19:02:09,834 - app - INFO - 请求耗时: 4.815秒
2025-05-17 19:02:09,834 - app - INFO - 响应状态码: 200
2025-05-17 19:02:09,835 - app - INFO - 响应内容: {"id":"0d2c4a4d-1a44-4a15-9f53-fd6fd52aa760","object":"chat.completion","created":1747479725,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，原句中没有错别字。句子表达通顺，用词准确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":19,"total_tokens":49,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:02:09,836 - app - INFO - ==============================================================

2025-05-17 19:02:09,837 - app - INFO - 助手回复: 经过检查，原句中没有错别字。句子表达通顺，用词准确。
2025-05-17 19:02:09,838 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，原句中没有错别字。句子表达通顺，用词准确。
2025-05-17 19:02:09,841 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:02:09] "POST /process HTTP/1.1" 200 -
2025-05-17 19:02:14,104 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:02:14,105 - app - INFO - 响应时间: 2025-05-17 19:02:14
2025-05-17 19:02:14,106 - app - INFO - 请求耗时: 5.882秒
2025-05-17 19:02:14,106 - app - INFO - 响应状态码: 200
2025-05-17 19:02:14,107 - app - INFO - 响应内容(前500字符): {"id":"9970695b-ab64-4cbb-8c08-83e2e58b8eb8","object":"chat.completion","created":1747479728,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，您提供的句子 \"作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\" 中没有发现错别字。句子表达准确，用词规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":37,"total_tokens":55,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_pro...
2025-05-17 19:02:14,108 - app - INFO - 响应内容(后500字符): ...0695b-ab64-4cbb-8c08-83e2e58b8eb8","object":"chat.completion","created":1747479728,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，您提供的句子 \"作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\" 中没有发现错别字。句子表达准确，用词规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":37,"total_tokens":55,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:02:14,110 - app - INFO - 响应内容长度: 510字符
2025-05-17 19:02:14,110 - app - INFO - ==============================================================

2025-05-17 19:02:14,111 - app - INFO - 助手回复: 经过检查，您提供的句子 "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查" 中没有发现错别字。句子表达准确，用词规范。
2025-05-17 19:02:14,111 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，您提供的句子 "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查" 中没有发现错别字。句子表达准确，用词规范。
2025-05-17 19:02:14,113 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:02:14] "POST /process HTTP/1.1" 200 -
2025-05-17 19:10:41,360 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:10:41,361 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:10:49,519 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:10:49] "GET / HTTP/1.1" 200 -
2025-05-17 19:10:49,652 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:10:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:10:55,917 - app - INFO - 图片保存路径: static/uploads\paste_71279c7a_1747480255.png, 标准化后: static/uploads/paste_71279c7a_1747480255.png
2025-05-17 19:10:55,918 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:10:55] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:10:55,934 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:10:55] "GET /static/uploads/paste_71279c7a_1747480255.png HTTP/1.1" 200 -
2025-05-17 19:10:56,426 - app - INFO - 处理图片路径: 原始=static/uploads/paste_71279c7a_1747480255.png, 转换后=static\uploads\paste_71279c7a_1747480255.png
2025-05-17 19:10:56,427 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_71279c7a_1747480255.png
2025-05-17 19:10:58,154 - app - INFO - 上传响应状态码: 200
2025-05-17 19:10:58,154 - app - INFO - 上传响应内容: {"id":"d0k6tg21ol7h6f37sh8g","object":"file","bytes":38657,"created_at":1747480256,"filename":"paste_71279c7a_1747480255.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:10:58,155 - app - INFO - 获取到的文件ID: d0k6tg21ol7h6f37sh8g
2025-05-17 19:10:58,156 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6tg21ol7h6f37sh8g/content
2025-05-17 19:10:58,738 - app - INFO - 内容响应状态码: 200
2025-05-17 19:10:58,739 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:11:03,713 - app - INFO - 图片保存路径: static/uploads\paste_710b8f63_1747480263.png, 标准化后: static/uploads/paste_710b8f63_1747480263.png
2025-05-17 19:11:03,714 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:11:03] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:11:03,729 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:11:03] "GET /static/uploads/paste_710b8f63_1747480263.png HTTP/1.1" 200 -
2025-05-17 19:11:04,223 - app - INFO - 处理图片路径: 原始=static/uploads/paste_710b8f63_1747480263.png, 转换后=static\uploads\paste_710b8f63_1747480263.png
2025-05-17 19:11:04,225 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_710b8f63_1747480263.png
2025-05-17 19:11:05,488 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:05,489 - app - INFO - 响应时间: 2025-05-17 19:11:05
2025-05-17 19:11:05,489 - app - INFO - 请求耗时: 6.744秒
2025-05-17 19:11:05,491 - app - INFO - 响应状态码: 200
2025-05-17 19:11:05,491 - app - INFO - 响应内容(前500字符): {"id":"a3f653e4-87b5-4cd3-b9c3-50bcd8a1952c","object":"chat.completion","created":1747480259,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我仔细检查了这句话，没有发现任何错别字。句子表达清晰准确，专业名词\"首都医科大学附属北京友谊医院\"的书写也完全正确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":34,"total_tokens":69,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425...
2025-05-17 19:11:05,493 - app - INFO - 响应内容(后500字符): ...:"a3f653e4-87b5-4cd3-b9c3-50bcd8a1952c","object":"chat.completion","created":1747480259,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我仔细检查了这句话，没有发现任何错别字。句子表达清晰准确，专业名词\"首都医科大学附属北京友谊医院\"的书写也完全正确。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":35,"completion_tokens":34,"total_tokens":69,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":35},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:05,495 - app - INFO - 响应内容长度: 505字符
2025-05-17 19:11:05,495 - app - INFO - ==============================================================

2025-05-17 19:11:05,497 - app - INFO - 助手回复: 我仔细检查了这句话，没有发现任何错别字。句子表达清晰准确，专业名词"首都医科大学附属北京友谊医院"的书写也完全正确。
2025-05-17 19:11:05,497 - app - WARNING - 返回内容不是有效的JSON格式: 我仔细检查了这句话，没有发现任何错别字。句子表达清晰准确，专业名词"首都医科大学附属北京友谊医院"的书写也完全正确。
2025-05-17 19:11:05,736 - app - INFO - 上传响应状态码: 200
2025-05-17 19:11:05,736 - app - INFO - 上传响应内容: {"id":"d0k6ti45rbs2bc6t1r5g","object":"file","bytes":58166,"created_at":1747480264,"filename":"paste_710b8f63_1747480263.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:11:05,737 - app - INFO - 获取到的文件ID: d0k6ti45rbs2bc6t1r5g
2025-05-17 19:11:05,738 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6ti45rbs2bc6t1r5g/content
2025-05-17 19:11:06,418 - app - INFO - 内容响应状态码: 200
2025-05-17 19:11:06,419 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 19:11:13,764 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:13,765 - app - INFO - 响应时间: 2025-05-17 19:11:13
2025-05-17 19:11:13,765 - app - INFO - 请求耗时: 7.342秒
2025-05-17 19:11:13,766 - app - INFO - 响应状态码: 200
2025-05-17 19:11:13,766 - app - INFO - 响应内容(前500字符): {"id":"e96b8148-1617-469f-a523-4a75052aff66","object":"chat.completion","created":1747480266,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. \"数\"改为\"书\" - 根据上下文语义，这里应该是指\"书籍\"而非\"数字\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":40,"total_tokens":69,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_...
2025-05-17 19:11:13,768 - app - INFO - 响应内容(后500字符): ...f-a523-4a75052aff66","object":"chat.completion","created":1747480266,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"昨天我去了图书馆，想找一本关于人工智能的书。\n\n修改说明：\n1. \"数\"改为\"书\" - 根据上下文语义，这里应该是指\"书籍\"而非\"数字\""},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":29,"completion_tokens":40,"total_tokens":69,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:13,769 - app - INFO - 响应内容长度: 524字符
2025-05-17 19:11:13,769 - app - INFO - ==============================================================

2025-05-17 19:11:13,770 - app - INFO - 助手回复: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. "数"改为"书" - 根据上下文语义，这里应该是指"书籍"而非"数字"
2025-05-17 19:11:13,771 - app - WARNING - 返回内容不是有效的JSON格式: 昨天我去了图书馆，想找一本关于人工智能的书。

修改说明：
1. "数"改为"书" - 根据上下文语义，这里应该是指"书籍"而非"数字"
2025-05-17 19:11:14,602 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:14,603 - app - INFO - 响应时间: 2025-05-17 19:11:14
2025-05-17 19:11:14,603 - app - INFO - 请求耗时: 9.101秒
2025-05-17 19:11:14,604 - app - INFO - 响应状态码: 200
2025-05-17 19:11:14,604 - app - INFO - 响应内容(前500字符): {"id":"c8f8250f-2dfe-426b-8780-a23f9d5902e5","object":"chat.completion","created":1747480266,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经检查，这段话没有错别字。以下是规范表达：\n\n由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。\n\n说明：\n1. \"头昏脑胀\"是正确写法，形容头脑发昏发胀的感觉\n2. \"睡眠质量\"是规范表达\n3. 其他用词也都符合规范\n\n建议：\n如果感到长期疲劳，建议适当调整作息，必要时可以寻求专业医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":93,"total_tokens":129,"prompt_tokens_details":{"cached_tokens...
2025-05-17 19:11:14,606 - app - INFO - 响应内容(后500字符): ...at","choices":[{"index":0,"message":{"role":"assistant","content":"经检查，这段话没有错别字。以下是规范表达：\n\n由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。\n\n说明：\n1. \"头昏脑胀\"是正确写法，形容头脑发昏发胀的感觉\n2. \"睡眠质量\"是规范表达\n3. 其他用词也都符合规范\n\n建议：\n如果感到长期疲劳，建议适当调整作息，必要时可以寻求专业医生的建议。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":93,"total_tokens":129,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":36},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:14,608 - app - INFO - 响应内容长度: 613字符
2025-05-17 19:11:14,609 - app - INFO - ==============================================================

2025-05-17 19:11:14,609 - app - INFO - 助手回复: 经检查，这段话没有错别字。以下是规范表达：

由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。

说明：
1. "头昏脑胀"是正确写法，形容头脑发昏发胀的感觉
2. "睡眠质量"是规范表达
3. 其他用词也都符合规范

建议：
如果感到长期疲劳，建议适当调整作息，必要时可以寻求专业医生的建议。
2025-05-17 19:11:14,612 - app - WARNING - 返回内容不是有效的JSON格式: 经检查，这段话没有错别字。以下是规范表达：

由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。

说明：
1. "头昏脑胀"是正确写法，形容头脑发昏发胀的感觉
2. "睡眠质量"是规范表达
3. 其他用词也都符合规范

建议：
如果感到长期疲劳，建议适当调整作息，必要时可以寻求专业医生的建议。
2025-05-17 19:11:19,751 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:19,752 - app - INFO - 响应时间: 2025-05-17 19:11:19
2025-05-17 19:11:19,753 - app - INFO - 请求耗时: 5.976秒
2025-05-17 19:11:19,753 - app - INFO - 响应状态码: 200
2025-05-17 19:11:19,754 - app - INFO - 响应内容(前500字符): {"id":"8d559ae3-fc79-478f-a285-f12a355118bc","object":"chat.completion","created":1747480273,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为根据上下文，这里应该是指找到一本书，而不是数字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":44,"total_tokens":78,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint...
2025-05-17 19:11:19,756 - app - INFO - 响应内容(后500字符): ...-f12a355118bc","object":"chat.completion","created":1747480273,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"我找了半天，终于\n在书架的角落里找到了一本看起来很专业的书。\n\n修改说明：\n1. 将\"数\"改为\"书\"，因为根据上下文，这里应该是指找到一本书，而不是数字。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":44,"total_tokens":78,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":34},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:19,757 - app - INFO - 响应内容长度: 530字符
2025-05-17 19:11:19,758 - app - INFO - ==============================================================

2025-05-17 19:11:19,759 - app - INFO - 助手回复: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
1. 将"数"改为"书"，因为根据上下文，这里应该是指找到一本书，而不是数字。
2025-05-17 19:11:19,760 - app - WARNING - 返回内容不是有效的JSON格式: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的书。

修改说明：
1. 将"数"改为"书"，因为根据上下文，这里应该是指找到一本书，而不是数字。
2025-05-17 19:11:21,715 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:21,715 - app - INFO - 响应时间: 2025-05-17 19:11:21
2025-05-17 19:11:21,716 - app - INFO - 请求耗时: 7.099秒
2025-05-17 19:11:21,716 - app - INFO - 响应状态码: 200
2025-05-17 19:11:21,716 - app - INFO - 响应内容(前500字符): {"id":"b8a751d0-bcae-4e31-a53f-0fc1f270bc94","object":"chat.completion","created":1747480274,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查如下：\n\n原句：\n\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\"\n\n错误：\n\"生份证\"应为\"身份证\"\n\n修改建议：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":76,"total_tokens":121,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tok...
2025-05-17 19:11:21,718 - app - INFO - 响应内容(后500字符): ...80274,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"错别字检查如下：\n\n原句：\n\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\"\n\n错误：\n\"生份证\"应为\"身份证\"\n\n修改建议：\n医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":45,"completion_tokens":76,"total_tokens":121,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":45},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:21,720 - app - INFO - 响应内容长度: 587字符
2025-05-17 19:11:21,720 - app - INFO - ==============================================================

2025-05-17 19:11:21,722 - app - INFO - 助手回复: 错别字检查如下：

原句：
"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。"

错误：
"生份证"应为"身份证"

修改建议：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 19:11:21,724 - app - WARNING - 返回内容不是有效的JSON格式: 错别字检查如下：

原句：
"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。"

错误：
"生份证"应为"身份证"

修改建议：
医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-17 19:11:29,770 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:29,771 - app - INFO - 响应时间: 2025-05-17 19:11:29
2025-05-17 19:11:29,771 - app - INFO - 请求耗时: 10.008秒
2025-05-17 19:11:29,771 - app - INFO - 响应状态码: 200
2025-05-17 19:11:29,772 - app - INFO - 响应内容(前500字符): {"id":"c87b5c54-3828-4e2c-813d-def10274aadf","object":"chat.completion","created":1747480279,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，句子中没有明显的错别字。整体表达通顺流畅，用词准确。以下是句子原文：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n建议：\n1. \"兴冲冲\"也可以写作\"兴致冲冲\"，但两种写法都是正确的\n2. \"深奥\"也可以考虑用\"晦涩\"等近义词，但原词使用恰当\n3. 标点符号使用规范\n\n这个句子表达完整，情感传递到位，没有需要修改的错别字问题。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":115,"total_tokens":154,"p...
2025-05-17 19:11:29,773 - app - INFO - 响应内容(后500字符): ..."role":"assistant","content":"经过检查，句子中没有明显的错别字。整体表达通顺流畅，用词准确。以下是句子原文：\n\n\"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。\"\n\n建议：\n1. \"兴冲冲\"也可以写作\"兴致冲冲\"，但两种写法都是正确的\n2. \"深奥\"也可以考虑用\"晦涩\"等近义词，但原词使用恰当\n3. 标点符号使用规范\n\n这个句子表达完整，情感传递到位，没有需要修改的错别字问题。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":39,"completion_tokens":115,"total_tokens":154,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:29,774 - app - INFO - 响应内容长度: 650字符
2025-05-17 19:11:29,774 - app - INFO - ==============================================================

2025-05-17 19:11:29,775 - app - INFO - 助手回复: 经过检查，句子中没有明显的错别字。整体表达通顺流畅，用词准确。以下是句子原文：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

建议：
1. "兴冲冲"也可以写作"兴致冲冲"，但两种写法都是正确的
2. "深奥"也可以考虑用"晦涩"等近义词，但原词使用恰当
3. 标点符号使用规范

这个句子表达完整，情感传递到位，没有需要修改的错别字问题。
2025-05-17 19:11:29,776 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，句子中没有明显的错别字。整体表达通顺流畅，用词准确。以下是句子原文：

"我兴冲冲地打开它，发现里面的内容非常深奥，有些地方我甚至看不懂。"

建议：
1. "兴冲冲"也可以写作"兴致冲冲"，但两种写法都是正确的
2. "深奥"也可以考虑用"晦涩"等近义词，但原词使用恰当
3. 标点符号使用规范

这个句子表达完整，情感传递到位，没有需要修改的错别字问题。
2025-05-17 19:11:30,619 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:30,620 - app - INFO - 响应时间: 2025-05-17 19:11:30
2025-05-17 19:11:30,621 - app - INFO - 请求耗时: 8.891秒
2025-05-17 19:11:30,621 - app - INFO - 响应状态码: 200
2025-05-17 19:11:30,622 - app - INFO - 响应内容(前500字符): {"id":"297c9d44-36cd-405e-84f5-138b15f38be7","object":"chat.completion","created":1747480281,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"1. \"遵询\"应为\"遵循\"。\"遵询\"是错误搭配，正确用法是\"遵循建议\"或\"遵照建议\"。\n\n修改建议：\n\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n\n其他可能的正确表达：\n- \"决定遵照医生的建议\"\n- \"决定听从医生的建议\"\n- \"决定采纳医生的建议\"\n\n这些修改都保持了原句的意思，同时使用了正确的词语搭配。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":99,"total_tokens":143...
2025-05-17 19:11:30,624 - app - INFO - 响应内容(后500字符): ...le":"assistant","content":"1. \"遵询\"应为\"遵循\"。\"遵询\"是错误搭配，正确用法是\"遵循建议\"或\"遵照建议\"。\n\n修改建议：\n\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n\n其他可能的正确表达：\n- \"决定遵照医生的建议\"\n- \"决定听从医生的建议\"\n- \"决定采纳医生的建议\"\n\n这些修改都保持了原句的意思，同时使用了正确的词语搭配。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":44,"completion_tokens":99,"total_tokens":143,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":44},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:30,626 - app - INFO - 响应内容长度: 653字符
2025-05-17 19:11:30,626 - app - INFO - ==============================================================

2025-05-17 19:11:30,627 - app - INFO - 助手回复: 1. "遵询"应为"遵循"。"遵询"是错误搭配，正确用法是"遵循建议"或"遵照建议"。

修改建议：
"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"

其他可能的正确表达：
- "决定遵照医生的建议"
- "决定听从医生的建议"
- "决定采纳医生的建议"

这些修改都保持了原句的意思，同时使用了正确的词语搭配。
2025-05-17 19:11:30,629 - app - WARNING - 返回内容不是有效的JSON格式: 1. "遵询"应为"遵循"。"遵询"是错误搭配，正确用法是"遵循建议"或"遵照建议"。

修改建议：
"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"

其他可能的正确表达：
- "决定遵照医生的建议"
- "决定听从医生的建议"
- "决定采纳医生的建议"

这些修改都保持了原句的意思，同时使用了正确的词语搭配。
2025-05-17 19:11:38,890 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:38,891 - app - INFO - 响应时间: 2025-05-17 19:11:38
2025-05-17 19:11:38,891 - app - INFO - 请求耗时: 8.257秒
2025-05-17 19:11:38,892 - app - INFO - 响应状态码: 200
2025-05-17 19:11:38,892 - app - INFO - 响应内容: {"id":"1217cc74-cf09-4f20-9dea-02a70f3b58e7","object":"chat.completion","created":1747480290,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"经过检查，这句话中没有错别字。句子表达清晰准确，用词规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":30,"completion_tokens":18,"total_tokens":48,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:38,893 - app - INFO - ==============================================================

2025-05-17 19:11:38,894 - app - INFO - 助手回复: 经过检查，这句话中没有错别字。句子表达清晰准确，用词规范。
2025-05-17 19:11:38,895 - app - WARNING - 返回内容不是有效的JSON格式: 经过检查，这句话中没有错别字。句子表达清晰准确，用词规范。
2025-05-17 19:11:38,898 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:11:38] "POST /process HTTP/1.1" 200 -
2025-05-17 19:11:39,770 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:39,771 - app - INFO - 响应时间: 2025-05-17 19:11:39
2025-05-17 19:11:39,771 - app - INFO - 请求耗时: 9.991秒
2025-05-17 19:11:39,771 - app - INFO - 响应状态码: 200
2025-05-17 19:11:39,772 - app - INFO - 响应内容(前500字符): {"id":"0e3f4537-8254-4944-b71b-4cd564c1bfde","object":"chat.completion","created":1747480290,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"这句话没有明显的错别字，但可以稍作优化：\n\n原句：\"不过，我还是决定借回去慢慢研究。\"\n\n建议修改为：\"不过，我还是决定借回去慢慢研读。\"\n\n修改理由：\n1. \"研究\"一词虽然正确，但用于借阅书籍时，\"研读\"更符合中文表达习惯\n2. \"研读\"更能体现认真阅读的态度\n\n其他可能的优化：\n- 如果想更口语化，可以说\"拿回去\"\n- 如果想更正式，可以说\"带回去\"\n\n但原句本身没有错别字，表达也基本通顺。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":...
2025-05-17 19:11:39,773 - app - INFO - 响应内容(后500字符): ...nt":"这句话没有明显的错别字，但可以稍作优化：\n\n原句：\"不过，我还是决定借回去慢慢研究。\"\n\n建议修改为：\"不过，我还是决定借回去慢慢研读。\"\n\n修改理由：\n1. \"研究\"一词虽然正确，但用于借阅书籍时，\"研读\"更符合中文表达习惯\n2. \"研读\"更能体现认真阅读的态度\n\n其他可能的优化：\n- 如果想更口语化，可以说\"拿回去\"\n- 如果想更正式，可以说\"带回去\"\n\n但原句本身没有错别字，表达也基本通顺。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":27,"completion_tokens":121,"total_tokens":148,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:39,775 - app - INFO - 响应内容长度: 675字符
2025-05-17 19:11:39,775 - app - INFO - ==============================================================

2025-05-17 19:11:39,776 - app - INFO - 助手回复: 这句话没有明显的错别字，但可以稍作优化：

原句："不过，我还是决定借回去慢慢研究。"

建议修改为："不过，我还是决定借回去慢慢研读。"

修改理由：
1. "研究"一词虽然正确，但用于借阅书籍时，"研读"更符合中文表达习惯
2. "研读"更能体现认真阅读的态度

其他可能的优化：
- 如果想更口语化，可以说"拿回去"
- 如果想更正式，可以说"带回去"

但原句本身没有错别字，表达也基本通顺。
2025-05-17 19:11:39,778 - app - WARNING - 返回内容不是有效的JSON格式: 这句话没有明显的错别字，但可以稍作优化：

原句："不过，我还是决定借回去慢慢研究。"

建议修改为："不过，我还是决定借回去慢慢研读。"

修改理由：
1. "研究"一词虽然正确，但用于借阅书籍时，"研读"更符合中文表达习惯
2. "研读"更能体现认真阅读的态度

其他可能的优化：
- 如果想更口语化，可以说"拿回去"
- 如果想更正式，可以说"带回去"

但原句本身没有错别字，表达也基本通顺。
2025-05-17 19:11:49,049 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:11:49,050 - app - INFO - 响应时间: 2025-05-17 19:11:49
2025-05-17 19:11:49,050 - app - INFO - 请求耗时: 9.266秒
2025-05-17 19:11:49,050 - app - INFO - 响应状态码: 200
2025-05-17 19:11:49,051 - app - INFO - 响应内容(前500字符): {"id":"c988af62-1cc0-4331-9708-93cd6e46e80b","object":"chat.completion","created":1747480299,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"好的，我将对句子进行细致的错别字检查：\n\n原句：作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\n\n检查结果：\n1. \"细致\" - 正确\n2. \"耐心\" - 正确\n3. \"文字\" - 正确\n4. \"秘书\" - 正确\n5. \"句子\" - 正确\n6. \"错别字\" - 正确\n\n整体检查结论：该句子中没有错别字，所有词语使用正确，表达规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":108,"total_tokens":126,"prompt_tok...
2025-05-17 19:11:49,053 - app - INFO - 响应内容(后500字符): ...essage":{"role":"assistant","content":"好的，我将对句子进行细致的错别字检查：\n\n原句：作为一个细致耐心的文字秘书，对下面的句子进行错别字检查\n\n检查结果：\n1. \"细致\" - 正确\n2. \"耐心\" - 正确\n3. \"文字\" - 正确\n4. \"秘书\" - 正确\n5. \"句子\" - 正确\n6. \"错别字\" - 正确\n\n整体检查结论：该句子中没有错别字，所有词语使用正确，表达规范。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":18,"completion_tokens":108,"total_tokens":126,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:11:49,054 - app - INFO - 响应内容长度: 641字符
2025-05-17 19:11:49,055 - app - INFO - ==============================================================

2025-05-17 19:11:49,056 - app - INFO - 助手回复: 好的，我将对句子进行细致的错别字检查：

原句：作为一个细致耐心的文字秘书，对下面的句子进行错别字检查

检查结果：
1. "细致" - 正确
2. "耐心" - 正确
3. "文字" - 正确
4. "秘书" - 正确
5. "句子" - 正确
6. "错别字" - 正确

整体检查结论：该句子中没有错别字，所有词语使用正确，表达规范。
2025-05-17 19:11:49,058 - app - WARNING - 返回内容不是有效的JSON格式: 好的，我将对句子进行细致的错别字检查：

原句：作为一个细致耐心的文字秘书，对下面的句子进行错别字检查

检查结果：
1. "细致" - 正确
2. "耐心" - 正确
3. "文字" - 正确
4. "秘书" - 正确
5. "句子" - 正确
6. "错别字" - 正确

整体检查结论：该句子中没有错别字，所有词语使用正确，表达规范。
2025-05-17 19:11:49,063 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:11:49] "POST /process HTTP/1.1" 200 -
2025-05-17 19:13:29,563 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:13:29] "GET /config HTTP/1.1" 200 -
2025-05-17 19:13:30,185 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:13:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:14:06,127 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:14:06] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 19:14:06,149 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:14:06] "GET / HTTP/1.1" 200 -
2025-05-17 19:14:06,188 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:14:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:14:21,058 - app - INFO - 图片保存路径: static/uploads\paste_13c20dba_1747480461.png, 标准化后: static/uploads/paste_13c20dba_1747480461.png
2025-05-17 19:14:21,059 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:14:21] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:14:21,079 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:14:21] "GET /static/uploads/paste_13c20dba_1747480461.png HTTP/1.1" 200 -
2025-05-17 19:14:21,571 - app - INFO - 处理图片路径: 原始=static/uploads/paste_13c20dba_1747480461.png, 转换后=static\uploads\paste_13c20dba_1747480461.png
2025-05-17 19:14:21,573 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_13c20dba_1747480461.png
2025-05-17 19:14:23,314 - app - INFO - 上传响应状态码: 200
2025-05-17 19:14:23,315 - app - INFO - 上传响应内容: {"id":"d0k6v3f37oq66hit7ntg","object":"file","bytes":38657,"created_at":1747480461,"filename":"paste_13c20dba_1747480461.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:14:23,316 - app - INFO - 获取到的文件ID: d0k6v3f37oq66hit7ntg
2025-05-17 19:14:23,317 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k6v3f37oq66hit7ntg/content
2025-05-17 19:14:23,934 - app - INFO - 内容响应状态码: 200
2025-05-17 19:14:23,935 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:14:29,810 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:14:29,811 - app - INFO - 响应时间: 2025-05-17 19:14:29
2025-05-17 19:14:29,811 - app - INFO - 请求耗时: 5.872秒
2025-05-17 19:14:29,812 - app - INFO - 响应状态码: 200
2025-05-17 19:14:29,812 - app - INFO - 响应内容(前500字符): {"id":"3f3be92e-df69-4084-be1e-1b431bf3af64","object":"chat.completion","created":1747480464,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache...
2025-05-17 19:14:29,814 - app - INFO - 响应内容(后500字符): ...del":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":145},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:14:29,816 - app - INFO - 响应内容长度: 596字符
2025-05-17 19:14:29,816 - app - INFO - ==============================================================

2025-05-17 19:14:29,818 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:14:29,819 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:14:36,365 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:14:36,366 - app - INFO - 响应时间: 2025-05-17 19:14:36
2025-05-17 19:14:36,366 - app - INFO - 请求耗时: 6.540秒
2025-05-17 19:14:36,367 - app - INFO - 响应状态码: 200
2025-05-17 19:14:36,367 - app - INFO - 响应内容(前500字符): {"id":"e1210078-5632-4224-b9e1-d6d315d8b18d","object":"chat.completion","created":1747480470,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_...
2025-05-17 19:14:36,369 - app - INFO - 响应内容(后500字符): ...0,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":82},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:14:36,370 - app - INFO - 响应内容长度: 591字符
2025-05-17 19:14:36,371 - app - INFO - ==============================================================

2025-05-17 19:14:36,372 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:14:36,374 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:14:45,160 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:14:45,160 - app - INFO - 响应时间: 2025-05-17 19:14:45
2025-05-17 19:14:45,161 - app - INFO - 请求耗时: 8.784秒
2025-05-17 19:14:45,161 - app - INFO - 响应状态码: 200
2025-05-17 19:14:45,162 - app - INFO - 响应内容(前500字符): {"id":"936ec41b-7ae5-4a55-876d-a2dfba5e35c1","object":"chat.completion","created":1747480476,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens"...
2025-05-17 19:14:45,163 - app - INFO - 响应内容(后500字符): ...:"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":112,"total_tokens":267,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":91},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:14:45,165 - app - INFO - 响应内容长度: 678字符
2025-05-17 19:14:45,165 - app - INFO - ==============================================================

2025-05-17 19:14:45,166 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:14:45,168 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:14:54,167 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:14:54,167 - app - INFO - 响应时间: 2025-05-17 19:14:54
2025-05-17 19:14:54,168 - app - INFO - 请求耗时: 8.995秒
2025-05-17 19:14:54,168 - app - INFO - 响应状态码: 200
2025-05-17 19:14:54,169 - app - INFO - 响应内容(前500字符): {"id":"78d4f56c-0568-474e-9da4-8dbc5dbedcc5","object":"chat.completion","created":1747480485,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照、听从医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":98,"tot...
2025-05-17 19:14:54,171 - app - INFO - 响应内容(后500字符): ..."content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照、听从医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":98,"total_tokens":252,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":90},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:14:54,172 - app - INFO - 响应内容长度: 669字符
2025-05-17 19:14:54,173 - app - INFO - ==============================================================

2025-05-17 19:14:54,174 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照、听从医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:14:54,176 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照、听从医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:15:02,173 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:15:02,174 - app - INFO - 响应时间: 2025-05-17 19:15:02
2025-05-17 19:15:02,175 - app - INFO - 请求耗时: 7.993秒
2025-05-17 19:15:02,175 - app - INFO - 响应状态码: 200
2025-05-17 19:15:02,176 - app - INFO - 响应内容(前500字符): {"id":"6d7f42b1-8e8f-4e70-87e4-ac50417740d3","object":"chat.completion","created":1747480494,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"报告要三天后才能取到，希望不会有什么大问题。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":40,"total_tokens":180,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_ca...
2025-05-17 19:15:02,178 - app - INFO - 响应内容(后500字符): ...","created":1747480494,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"报告要三天后才能取到，希望不会有什么大问题。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":40,"total_tokens":180,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":76},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:15:02,180 - app - INFO - 响应内容长度: 570字符
2025-05-17 19:15:02,181 - app - INFO - ==============================================================

2025-05-17 19:15:02,182 - app - INFO - 助手回复: ```json
{
"content_0":"报告要三天后才能取到，希望不会有什么大问题。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 19:15:02,186 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"报告要三天后才能取到，希望不会有什么大问题。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 19:15:02,190 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:15:02] "POST /process HTTP/1.1" 200 -
2025-05-17 19:23:21,005 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:23:21,008 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:23:25,464 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:25] "GET / HTTP/1.1" 200 -
2025-05-17 19:23:25,596 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:25] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:23:31,385 - app - INFO - 图片保存路径: static/uploads\paste_99154ef1_1747481011.png, 标准化后: static/uploads/paste_99154ef1_1747481011.png
2025-05-17 19:23:31,386 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:31] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:23:31,400 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:31] "GET /static/uploads/paste_99154ef1_1747481011.png HTTP/1.1" 200 -
2025-05-17 19:23:31,897 - app - INFO - 处理图片路径: 原始=static/uploads/paste_99154ef1_1747481011.png, 转换后=static\uploads\paste_99154ef1_1747481011.png
2025-05-17 19:23:31,898 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_99154ef1_1747481011.png
2025-05-17 19:23:33,608 - app - INFO - 上传响应状态码: 200
2025-05-17 19:23:33,608 - app - INFO - 上传响应内容: {"id":"d0k73d45rbs2bc6t3g3g","object":"file","bytes":38657,"created_at":1747481012,"filename":"paste_99154ef1_1747481011.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:23:33,609 - app - INFO - 获取到的文件ID: d0k73d45rbs2bc6t3g3g
2025-05-17 19:23:33,610 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k73d45rbs2bc6t3g3g/content
2025-05-17 19:23:34,238 - app - INFO - 内容响应状态码: 200
2025-05-17 19:23:34,238 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:23:36,592 - app - INFO - 图片保存路径: static/uploads\paste_2006dfb1_1747481016.png, 标准化后: static/uploads/paste_2006dfb1_1747481016.png
2025-05-17 19:23:36,593 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:36] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:23:36,610 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:23:36] "GET /static/uploads/paste_2006dfb1_1747481016.png HTTP/1.1" 200 -
2025-05-17 19:23:37,108 - app - INFO - 处理图片路径: 原始=static/uploads/paste_2006dfb1_1747481016.png, 转换后=static\uploads\paste_2006dfb1_1747481016.png
2025-05-17 19:23:37,109 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_2006dfb1_1747481016.png
2025-05-17 19:23:38,551 - app - INFO - 上传响应状态码: 200
2025-05-17 19:23:38,552 - app - INFO - 上传响应内容: {"id":"d0k73ec5rbs2bc6t3gig","object":"file","bytes":58166,"created_at":1747481017,"filename":"paste_2006dfb1_1747481016.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:23:38,553 - app - INFO - 获取到的文件ID: d0k73ec5rbs2bc6t3gig
2025-05-17 19:23:38,554 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k73ec5rbs2bc6t3gig/content
2025-05-17 19:23:39,167 - app - INFO - 内容响应状态码: 200
2025-05-17 19:23:39,168 - app - INFO - 成功获取到文本内容，长度: 213
2025-05-17 19:23:40,283 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:23:40,284 - app - INFO - 响应时间: 2025-05-17 19:23:40
2025-05-17 19:23:40,284 - app - INFO - 请求耗时: 6.041秒
2025-05-17 19:23:40,285 - app - INFO - 响应状态码: 200
2025-05-17 19:23:40,285 - app - INFO - 响应内容(前500字符): {"id":"0abc7c44-5e6a-43e1-896f-27b1cadc9e65","object":"chat.completion","created":1747481014,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 19:23:40,287 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":17},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:23:40,289 - app - INFO - 响应内容长度: 599字符
2025-05-17 19:23:40,290 - app - INFO - ==============================================================

2025-05-17 19:23:40,291 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:23:40,293 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:23:46,475 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:23:46,476 - app - INFO - 响应时间: 2025-05-17 19:23:46
2025-05-17 19:23:46,476 - app - INFO - 请求耗时: 6.178秒
2025-05-17 19:23:46,477 - app - INFO - 响应状态码: 200
2025-05-17 19:23:46,477 - app - INFO - 响应内容(前500字符): {"id":"de0780e3-de30-446c-8dd6-87fa2430c633","object":"chat.completion","created":1747481020,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 19:23:46,479 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:23:46,481 - app - INFO - 响应内容长度: 593字符
2025-05-17 19:23:46,481 - app - INFO - ==============================================================

2025-05-17 19:23:46,482 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:23:46,484 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:23:47,321 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:23:47,322 - app - INFO - 响应时间: 2025-05-17 19:23:47
2025-05-17 19:23:47,322 - app - INFO - 请求耗时: 8.149秒
2025-05-17 19:23:47,323 - app - INFO - 响应状态码: 200
2025-05-17 19:23:47,323 - app - INFO - 响应内容(前500字符): {"id":"a1eb0b2c-8507-441a-a61c-f98d399f81b3","object":"chat.completion","created":1747481019,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"“数”应为“书”，指代书籍。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":139,"completion_tokens":69,"total_tokens":208,"prompt_tokens_details":{"cached_toke...
2025-05-17 19:23:47,325 - app - INFO - 响应内容(后500字符): ..."choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"“数”应为“书”，指代书籍。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":139,"completion_tokens":69,"total_tokens":208,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":75},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:23:47,327 - app - INFO - 响应内容长度: 617字符
2025-05-17 19:23:47,327 - app - INFO - ==============================================================

2025-05-17 19:23:47,328 - app - INFO - 助手回复: ```json
{
  "content_0": "昨天我去了图书馆，想找一本关于人工智能的数。",
  "wrong": true,
  "annotation": "“数”应为“书”，指代书籍。",
  "content_1": "昨天我去了图书馆，想找一本关于人工智能的书。"
}
```
2025-05-17 19:23:47,329 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "昨天我去了图书馆，想找一本关于人工智能的数。",
  "wrong": true,
  "annotation": "“数”应为“书”，指代书籍。",
  "content_1": "昨天我去了图书馆，想找一本关于人工智能的书。"
}
```
2025-05-17 19:23:54,665 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:23:54,666 - app - INFO - 响应时间: 2025-05-17 19:23:54
2025-05-17 19:23:54,666 - app - INFO - 请求耗时: 7.331秒
2025-05-17 19:23:54,667 - app - INFO - 响应状态码: 200
2025-05-17 19:23:54,668 - app - INFO - 响应内容(前500字符): {"id":"81c57f9b-76d2-4bf7-989c-efed2634cd62","object":"chat.completion","created":1747481027,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“数”应为“书”，属于错别字。\",\n  \"content_1\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":78,"total_tokens":222,"prompt_tokens_det...
2025-05-17 19:23:54,670 - app - INFO - 响应内容(后500字符): ...:0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“数”应为“书”，属于错别字。\",\n  \"content_1\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":78,"total_tokens":222,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":80},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:23:54,672 - app - INFO - 响应内容长度: 636字符
2025-05-17 19:23:54,672 - app - INFO - ==============================================================

2025-05-17 19:23:54,673 - app - INFO - 助手回复: ```json
{
  "content_0": "我找了半天，终于在书架的角落里找到了一本看起来很专业的数。",
  "wrong": true,
  "annotation": "句子中的“数”应为“书”，属于错别字。",
  "content_1": "我找了半天，终于在书架的角落里找到了一本看起来很专业的书。"
}
```
2025-05-17 19:23:54,675 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "我找了半天，终于在书架的角落里找到了一本看起来很专业的数。",
  "wrong": true,
  "annotation": "句子中的“数”应为“书”，属于错别字。",
  "content_1": "我找了半天，终于在书架的角落里找到了一本看起来很专业的书。"
}
```
2025-05-17 19:23:55,358 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:23:55,359 - app - INFO - 响应时间: 2025-05-17 19:23:55
2025-05-17 19:23:55,359 - app - INFO - 请求耗时: 8.870秒
2025-05-17 19:23:55,360 - app - INFO - 响应状态码: 200
2025-05-17 19:23:55,360 - app - INFO - 响应内容(前500字符): {"id":"a4b5f585-463b-4599-889f-423212695795","object":"chat.completion","created":1747481026,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是常见的错别字。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":101,"total_...
2025-05-17 19:23:55,362 - app - INFO - 响应内容(后500字符): ...,"content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是常见的错别字。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":101,"total_tokens":256,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:23:55,364 - app - INFO - 响应内容长度: 668字符
2025-05-17 19:23:55,364 - app - INFO - ==============================================================

2025-05-17 19:23:55,365 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "“生份证”应为“身份证”，这是常见的错别字。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:23:55,368 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "“生份证”应为“身份证”，这是常见的错别字。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:24:01,736 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:24:01,736 - app - INFO - 响应时间: 2025-05-17 19:24:01
2025-05-17 19:24:01,737 - app - INFO - 请求耗时: 7.057秒
2025-05-17 19:24:01,737 - app - INFO - 响应状态码: 200
2025-05-17 19:24:01,738 - app - INFO - 响应内容(前500字符): {"id":"82f0c7ec-096c-4cc5-b76b-652625de92c9","object":"chat.completion","created":1747481034,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我兴冲冲地打开它，发 现里面的内容非常深奥，有些地方我甚至看不懂。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":149,"completion_tokens":54,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hi...
2025-05-17 19:24:01,740 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我兴冲冲地打开它，发 现里面的内容非常深奥，有些地方我甚至看不懂。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":149,"completion_tokens":54,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":85},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:24:01,741 - app - INFO - 响应内容长度: 593字符
2025-05-17 19:24:01,742 - app - INFO - ==============================================================

2025-05-17 19:24:01,743 - app - INFO - 助手回复: ```json
{
  "content_0": "我兴冲冲地打开它，发 现里面的内容非常深奥，有些地方我甚至看不懂。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:01,745 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "我兴冲冲地打开它，发 现里面的内容非常深奥，有些地方我甚至看不懂。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:03,493 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:24:03,494 - app - INFO - 响应时间: 2025-05-17 19:24:03
2025-05-17 19:24:03,494 - app - INFO - 请求耗时: 8.122秒
2025-05-17 19:24:03,495 - app - INFO - 响应状态码: 200
2025-05-17 19:24:03,495 - app - INFO - 响应内容(前500字符): {"id":"4e8d6278-dda7-421a-8319-8ba0a8a467b6","object":"chat.completion","created":1747481035,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照、听从医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":98,"tot...
2025-05-17 19:24:03,497 - app - INFO - 响应内容(后500字符): ...ontent":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照、听从医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":98,"total_tokens":252,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":26},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:24:03,499 - app - INFO - 响应内容长度: 671字符
2025-05-17 19:24:03,500 - app - INFO - ==============================================================

2025-05-17 19:24:03,500 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照、听从医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:24:03,503 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照、听从医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:24:08,155 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:24:08,155 - app - INFO - 响应时间: 2025-05-17 19:24:08
2025-05-17 19:24:08,156 - app - INFO - 请求耗时: 6.406秒
2025-05-17 19:24:08,156 - app - INFO - 响应状态码: 200
2025-05-17 19:24:08,157 - app - INFO - 响应内容(前500字符): {"id":"43ae6ca8-1d32-4034-8859-df95f940c14c","object":"chat.completion","created":1747481041,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"不过，我还是决定借 回去慢慢研究。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":137,"completion_tokens":42,"total_tokens":179,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"pr...
2025-05-17 19:24:08,158 - app - INFO - 响应内容(后500字符): ...ted":1747481041,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"不过，我还是决定借 回去慢慢研究。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":137,"completion_tokens":42,"total_tokens":179,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":73},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:24:08,160 - app - INFO - 响应内容长度: 577字符
2025-05-17 19:24:08,161 - app - INFO - ==============================================================

2025-05-17 19:24:08,162 - app - INFO - 助手回复: ```json
{
  "content_0": "不过，我还是决定借 回去慢慢研究。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:08,163 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "不过，我还是决定借 回去慢慢研究。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:09,426 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:24:09,427 - app - INFO - 响应时间: 2025-05-17 19:24:09
2025-05-17 19:24:09,428 - app - INFO - 请求耗时: 5.920秒
2025-05-17 19:24:09,429 - app - INFO - 响应状态码: 200
2025-05-17 19:24:09,429 - app - INFO - 响应内容(前500字符): {"id":"ea56d9d3-9785-421d-b578-f2039d8cb0a3","object":"chat.completion","created":1747481043,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-17 19:24:09,431 - app - INFO - 响应内容(后500字符): ...47481043,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":12},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:24:09,432 - app - INFO - 响应内容长度: 584字符
2025-05-17 19:24:09,433 - app - INFO - ==============================================================

2025-05-17 19:24:09,434 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:09,436 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:09,440 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:24:09] "POST /process HTTP/1.1" 200 -
2025-05-17 19:24:13,555 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:24:13,555 - app - INFO - 响应时间: 2025-05-17 19:24:13
2025-05-17 19:24:13,556 - app - INFO - 请求耗时: 5.388秒
2025-05-17 19:24:13,556 - app - INFO - 响应状态码: 200
2025-05-17 19:24:13,557 - app - INFO - 响应内容(前500字符): {"id":"3268d452-bbf6-4b8e-bceb-15cf83d74645","object":"chat.completion","created":1747481048,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":128,"completion_tokens":31,"total_tokens":159,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_t...
2025-05-17 19:24:13,559 - app - INFO - 响应内容(后500字符): ...completion","created":1747481048,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":128,"completion_tokens":31,"total_tokens":159,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":64},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:24:13,560 - app - INFO - 响应内容长度: 560字符
2025-05-17 19:24:13,561 - app - INFO - ==============================================================

2025-05-17 19:24:13,562 - app - INFO - 助手回复: ```json
{
  "content_0": "",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:13,564 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:24:13,569 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:24:13] "POST /process HTTP/1.1" 200 -
2025-05-17 19:27:59,108 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:27:59,109 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:28:06,446 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:28:06] "GET / HTTP/1.1" 200 -
2025-05-17 19:28:06,573 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:28:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:28:17,889 - app - INFO - 图片保存路径: static/uploads\paste_335005b0_1747481297.png, 标准化后: static/uploads/paste_335005b0_1747481297.png
2025-05-17 19:28:17,892 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:28:17] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:28:17,909 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:28:17] "GET /static/uploads/paste_335005b0_1747481297.png HTTP/1.1" 200 -
2025-05-17 19:28:18,406 - app - INFO - 处理图片路径: 原始=static/uploads/paste_335005b0_1747481297.png, 转换后=static\uploads\paste_335005b0_1747481297.png
2025-05-17 19:28:18,408 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_335005b0_1747481297.png
2025-05-17 19:28:20,226 - app - INFO - 上传响应状态码: 200
2025-05-17 19:28:20,227 - app - INFO - 上传响应内容: {"id":"d0k75kk5rbs2bc6t3u6g","object":"file","bytes":38657,"created_at":1747481298,"filename":"paste_335005b0_1747481297.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:28:20,228 - app - INFO - 获取到的文件ID: d0k75kk5rbs2bc6t3u6g
2025-05-17 19:28:20,228 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k75kk5rbs2bc6t3u6g/content
2025-05-17 19:28:20,865 - app - INFO - 内容响应状态码: 200
2025-05-17 19:28:20,866 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:28:27,091 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:28:27,092 - app - INFO - 响应时间: 2025-05-17 19:28:27
2025-05-17 19:28:27,092 - app - INFO - 请求耗时: 6.221秒
2025-05-17 19:28:27,092 - app - INFO - 响应状态码: 200
2025-05-17 19:28:27,093 - app - INFO - 响应内容(前500字符): {"id":"568ef08c-dab2-4874-8edb-469b91ec08cb","object":"chat.completion","created":1747481301,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 19:28:27,095 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":17},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:28:27,096 - app - INFO - 响应内容长度: 599字符
2025-05-17 19:28:27,096 - app - INFO - ==============================================================

2025-05-17 19:28:27,097 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:28:27,098 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:28:33,487 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:28:33,488 - app - INFO - 响应时间: 2025-05-17 19:28:33
2025-05-17 19:28:33,489 - app - INFO - 请求耗时: 6.386秒
2025-05-17 19:28:33,489 - app - INFO - 响应状态码: 200
2025-05-17 19:28:33,490 - app - INFO - 响应内容(前500字符): {"id":"7b8f7d09-cd0e-43fe-b860-a21f2c40730b","object":"chat.completion","created":1747481307,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 19:28:33,491 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:28:33,493 - app - INFO - 响应内容长度: 593字符
2025-05-17 19:28:33,494 - app - INFO - ==============================================================

2025-05-17 19:28:33,494 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:28:33,496 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:28:41,955 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:28:41,955 - app - INFO - 响应时间: 2025-05-17 19:28:41
2025-05-17 19:28:41,956 - app - INFO - 请求耗时: 8.454秒
2025-05-17 19:28:41,956 - app - INFO - 响应状态码: 200
2025-05-17 19:28:41,957 - app - INFO - 响应内容(前500字符): {"id":"f7437d04-643b-49a3-9e75-6d3533e4fe6b","object":"chat.completion","created":1747481313,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n\"wrong\":true,\n\"annotation\":\"句子中的'生份证'应为'身份证'，'份'是错别字，正确的写法是'身份证'。\",\n\"content_1\":\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":106,"tot...
2025-05-17 19:28:41,958 - app - INFO - 响应内容(后500字符): ...ontent":"```json\n{\n\"content_0\":\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n\"wrong\":true,\n\"annotation\":\"句子中的'生份证'应为'身份证'，'份'是错别字，正确的写法是'身份证'。\",\n\"content_1\":\"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":106,"total_tokens":261,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:28:41,960 - app - INFO - 响应内容长度: 671字符
2025-05-17 19:28:41,960 - app - INFO - ==============================================================

2025-05-17 19:28:41,961 - app - INFO - 助手回复: ```json
{
"content_0":"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
"wrong":true,
"annotation":"句子中的'生份证'应为'身份证'，'份'是错别字，正确的写法是'身份证'。",
"content_1":"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:28:41,963 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
"wrong":true,
"annotation":"句子中的'生份证'应为'身份证'，'份'是错别字，正确的写法是'身份证'。",
"content_1":"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:28:53,644 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:28:53,645 - app - INFO - 响应时间: 2025-05-17 19:28:53
2025-05-17 19:28:53,645 - app - INFO - 请求耗时: 11.676秒
2025-05-17 19:28:53,645 - app - INFO - 响应状态码: 200
2025-05-17 19:28:53,646 - app - INFO - 响应内容(前500字符): {"id":"0a96ba85-f840-415d-aa84-2513eee009fc","object":"chat.completion","created":1747481322,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n\"wrong\":true,\n\"annotation\":\"'遵询'应为'遵循'，'遵询'是错别字，正确的用词是'遵循'，表示遵照、听从。\",\n\"content_1\":\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":107,...
2025-05-17 19:28:53,648 - app - INFO - 响应内容(后500字符): ...nt":"```json\n{\n\"content_0\":\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n\"wrong\":true,\n\"annotation\":\"'遵询'应为'遵循'，'遵询'是错别字，正确的用词是'遵循'，表示遵照、听从。\",\n\"content_1\":\"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":107,"total_tokens":261,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":26},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:28:53,650 - app - INFO - 响应内容长度: 675字符
2025-05-17 19:28:53,650 - app - INFO - ==============================================================

2025-05-17 19:28:53,651 - app - INFO - 助手回复: ```json
{
"content_0":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
"wrong":true,
"annotation":"'遵询'应为'遵循'，'遵询'是错别字，正确的用词是'遵循'，表示遵照、听从。",
"content_1":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:28:53,653 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
"wrong":true,
"annotation":"'遵询'应为'遵循'，'遵询'是错别字，正确的用词是'遵循'，表示遵照、听从。",
"content_1":"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:29:01,530 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:29:01,530 - app - INFO - 响应时间: 2025-05-17 19:29:01
2025-05-17 19:29:01,532 - app - INFO - 请求耗时: 7.873秒
2025-05-17 19:29:01,532 - app - INFO - 响应状态码: 200
2025-05-17 19:29:01,532 - app - INFO - 响应内容(前500字符): {"id":"6f4cd747-a7c9-4c07-a528-ff700f088cbb","object":"chat.completion","created":1747481333,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-17 19:29:01,533 - app - INFO - 响应内容(后500字符): ...47481333,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":12},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:29:01,535 - app - INFO - 响应内容长度: 584字符
2025-05-17 19:29:01,535 - app - INFO - ==============================================================

2025-05-17 19:29:01,536 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:29:01,539 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:29:01,542 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:29:01] "POST /process HTTP/1.1" 200 -
2025-05-17 19:34:26,607 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:34:26,608 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:34:33,219 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:34:33] "GET / HTTP/1.1" 200 -
2025-05-17 19:34:33,355 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:34:33] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:34:39,137 - app - INFO - 图片保存路径: static/uploads\paste_58a92bad_1747481679.png, 标准化后: static/uploads/paste_58a92bad_1747481679.png
2025-05-17 19:34:39,139 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:34:39] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:34:39,156 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:34:39] "GET /static/uploads/paste_58a92bad_1747481679.png HTTP/1.1" 200 -
2025-05-17 19:34:39,648 - app - INFO - 处理图片路径: 原始=static/uploads/paste_58a92bad_1747481679.png, 转换后=static\uploads\paste_58a92bad_1747481679.png
2025-05-17 19:34:39,650 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_58a92bad_1747481679.png
2025-05-17 19:34:41,427 - app - INFO - 上传响应状态码: 200
2025-05-17 19:34:41,428 - app - INFO - 上传响应内容: {"id":"d0k78k21ol7h6f37v2pg","object":"file","bytes":38657,"created_at":1747481680,"filename":"paste_58a92bad_1747481679.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:34:41,429 - app - INFO - 获取到的文件ID: d0k78k21ol7h6f37v2pg
2025-05-17 19:34:41,429 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k78k21ol7h6f37v2pg/content
2025-05-17 19:34:42,056 - app - INFO - 内容响应状态码: 200
2025-05-17 19:34:42,056 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:34:48,378 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:34:48,379 - app - INFO - 响应时间: 2025-05-17 19:34:48
2025-05-17 19:34:48,379 - app - INFO - 请求耗时: 6.318秒
2025-05-17 19:34:48,380 - app - INFO - 响应状态码: 200
2025-05-17 19:34:48,380 - app - INFO - 响应内容(前500字符): {"id":"0fe392f4-e80d-4f76-83b8-6ba8089ace7a","object":"chat.completion","created":1747481682,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 19:34:48,382 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":17},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:34:48,384 - app - INFO - 响应内容长度: 599字符
2025-05-17 19:34:48,384 - app - INFO - ==============================================================

2025-05-17 19:34:48,385 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:34:48,386 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:34:54,505 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:34:54,506 - app - INFO - 响应时间: 2025-05-17 19:34:54
2025-05-17 19:34:54,507 - app - INFO - 请求耗时: 6.115秒
2025-05-17 19:34:54,508 - app - INFO - 响应状态码: 200
2025-05-17 19:34:54,509 - app - INFO - 响应内容(前500字符): {"id":"42de88b4-0689-4df9-b000-12c12234adca","object":"chat.completion","created":1747481688,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":48,"total_tokens":194,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128...
2025-05-17 19:34:54,511 - app - INFO - 响应内容(后500字符): ...:1747481688,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":48,"total_tokens":194,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:34:54,512 - app - INFO - 响应内容长度: 581字符
2025-05-17 19:34:54,513 - app - INFO - ==============================================================

2025-05-17 19:34:54,513 - app - INFO - 助手回复: ```json
{
"content_0":"由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 19:34:54,515 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 19:35:03,315 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:35:03,315 - app - INFO - 响应时间: 2025-05-17 19:35:03
2025-05-17 19:35:03,316 - app - INFO - 请求耗时: 8.796秒
2025-05-17 19:35:03,316 - app - INFO - 响应状态码: 200
2025-05-17 19:35:03,317 - app - INFO - 响应内容(前500字符): {"id":"be480076-8d3e-4cac-9239-00e4dce4a955","object":"chat.completion","created":1747481694,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“生份证”应为“身份证”，属于常见的错别字。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":103,"to...
2025-05-17 19:35:03,319 - app - INFO - 响应内容(后500字符): ...ntent":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“生份证”应为“身份证”，属于常见的错别字。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":155,"completion_tokens":103,"total_tokens":258,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":27},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:35:03,321 - app - INFO - 响应内容长度: 672字符
2025-05-17 19:35:03,322 - app - INFO - ==============================================================

2025-05-17 19:35:03,323 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的“生份证”应为“身份证”，属于常见的错别字。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:35:03,325 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的“生份证”应为“身份证”，属于常见的错别字。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 19:35:13,720 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:35:13,720 - app - INFO - 响应时间: 2025-05-17 19:35:13
2025-05-17 19:35:13,721 - app - INFO - 请求耗时: 10.392秒
2025-05-17 19:35:13,721 - app - INFO - 响应状态码: 200
2025-05-17 19:35:13,722 - app - INFO - 响应内容(前500字符): {"id":"9953ade7-13f6-4890-adb6-67d1de673754","object":"chat.completion","created":1747481703,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，意为遵照、依从。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":97,"total_to...
2025-05-17 19:35:13,724 - app - INFO - 响应内容(后500字符): ...t","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，意为遵照、依从。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":154,"completion_tokens":97,"total_tokens":251,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":26},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:35:13,726 - app - INFO - 响应内容长度: 666字符
2025-05-17 19:35:13,726 - app - INFO - ==============================================================

2025-05-17 19:35:13,727 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，意为遵照、依从。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:35:13,728 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，意为遵照、依从。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 19:35:19,487 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:35:19,488 - app - INFO - 响应时间: 2025-05-17 19:35:19
2025-05-17 19:35:19,488 - app - INFO - 请求耗时: 5.756秒
2025-05-17 19:35:19,489 - app - INFO - 响应状态码: 200
2025-05-17 19:35:19,489 - app - INFO - 响应内容(前500字符): {"id":"74d69c1e-27a5-4a63-a4d9-ac5989ee1beb","object":"chat.completion","created":1747481713,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-17 19:35:19,491 - app - INFO - 响应内容(后500字符): ...47481713,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":140,"completion_tokens":45,"total_tokens":185,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":12},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:35:19,492 - app - INFO - 响应内容长度: 584字符
2025-05-17 19:35:19,492 - app - INFO - ==============================================================

2025-05-17 19:35:19,493 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:35:19,495 - app - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:35:19,500 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:35:19] "POST /process HTTP/1.1" 200 -
2025-05-17 19:37:18,906 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:37:18] "GET /config HTTP/1.1" 200 -
2025-05-17 19:37:19,550 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:37:19] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:42:59,677 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 19:42:59,677 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 19:42:59,701 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 19:43:03,349 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 19:43:03,363 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 19:43:03,749 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:03] "GET / HTTP/1.1" 200 -
2025-05-17 19:43:04,713 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:04] "GET /static/css/style.css HTTP/1.1" 200 -
2025-05-17 19:43:04,804 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-17 19:43:16,014 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:16] "GET / HTTP/1.1" 200 -
2025-05-17 19:43:16,067 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:16] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:43:16,132 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-17 19:43:19,396 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:19] "GET /config HTTP/1.1" 200 -
2025-05-17 19:43:20,363 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:43:30,438 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:30] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 19:43:30,447 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:30] "GET / HTTP/1.1" 200 -
2025-05-17 19:43:30,480 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 19:43:50,273 - __main__ - INFO - 图片保存路径: static/uploads\paste_bcbda412_1747482230.png, 标准化后: static/uploads/paste_bcbda412_1747482230.png
2025-05-17 19:43:50,274 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:50] "POST /paste HTTP/1.1" 200 -
2025-05-17 19:43:50,290 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 19:43:50] "GET /static/uploads/paste_bcbda412_1747482230.png HTTP/1.1" 200 -
2025-05-17 19:43:50,794 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_bcbda412_1747482230.png, 转换后=static\uploads\paste_bcbda412_1747482230.png
2025-05-17 19:43:50,796 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_bcbda412_1747482230.png
2025-05-17 19:43:52,130 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 19:43:52,130 - __main__ - INFO - 上传响应内容: {"id":"d0k7ctimisdua6kgpup0","object":"file","bytes":38657,"created_at":1747482230,"filename":"paste_bcbda412_1747482230.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 19:43:52,130 - __main__ - INFO - 获取到的文件ID: d0k7ctimisdua6kgpup0
2025-05-17 19:43:52,131 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k7ctimisdua6kgpup0/content
2025-05-17 19:43:52,316 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 19:43:52,316 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 19:46:54,051 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:46:54,052 - __main__ - INFO - 响应时间: 2025-05-17 19:46:50
2025-05-17 19:46:54,052 - __main__ - INFO - 请求耗时: 177.848秒
2025-05-17 19:46:54,052 - __main__ - INFO - 响应状态码: 200
2025-05-17 19:46:54,052 - __main__ - INFO - 响应内容(前500字符): {"id":"904c2508-3c32-42c0-86aa-1d4fc491ebde","object":"chat.completion","created":1747482239,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 19:46:54,052 - __main__ - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":145,"completion_tokens":50,"total_tokens":195,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":17},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:46:54,053 - __main__ - INFO - 响应内容长度: 599字符
2025-05-17 19:46:54,053 - __main__ - INFO - ==============================================================

2025-05-17 19:47:02,896 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:47:02,897 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:49:05,966 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 19:49:05,967 - __main__ - INFO - 响应时间: 2025-05-17 19:49:01
2025-05-17 19:49:05,967 - __main__ - INFO - 请求耗时: 93.522秒
2025-05-17 19:49:05,967 - __main__ - INFO - 响应状态码: 200
2025-05-17 19:49:05,968 - __main__ - INFO - 响应内容(前500字符): {"id":"c66fe456-18da-42d8-bc9e-0f282939269f","object":"chat.completion","created":1747482457,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 19:49:05,968 - __main__ - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":53,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 19:49:05,968 - __main__ - INFO - 响应内容长度: 593字符
2025-05-17 19:49:05,968 - __main__ - INFO - ==============================================================

2025-05-17 19:51:12,641 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:51:28,914 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 19:52:30,523 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_vars.py', reloading
2025-05-17 19:52:30,524 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_utils.py', reloading
2025-05-17 19:52:31,613 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 19:52:34,611 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 19:52:34,623 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 19:54:59,669 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\flask_monitoringdashboard\\__init__.py', reloading
2025-05-17 19:54:59,688 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\flask_monitoringdashboard\\core\\__init__.py', reloading
2025-05-17 19:54:59,709 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\flask_monitoringdashboard\\core\\config\\__init__.py', reloading
2025-05-17 19:55:00,676 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 19:55:04,341 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 19:55:04,353 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 19:55:51,357 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\google\\generativeai\\__init__.py', reloading
2025-05-17 19:55:51,654 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 19:55:55,054 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 19:55:55,066 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 19:58:59,926 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\sympy\\logic\\__init__.py', reloading
2025-05-17 19:59:00,321 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 19:59:03,279 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 19:59:03,292 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 20:38:59,832 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\lmdb\\__init__.py', reloading
2025-05-17 20:38:59,886 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\matplotlib\\__init__.py', reloading
2025-05-17 20:38:59,900 - werkzeug - INFO -  * Detected change in 'C:\\Users\\weibingbing\\AppData\\Roaming\\Python\\Python39\\site-packages\\packaging\\__init__.py', reloading
2025-05-17 20:38:59,909 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\packaging\\__init__.py', reloading
2025-05-17 20:38:59,967 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\sqlite3\\__init__.py', reloading
2025-05-17 20:39:00,007 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\psutil\\__init__.py', reloading
2025-05-17 20:39:00,094 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\pywt\\__init__.py', reloading
2025-05-17 20:39:00,289 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\scipy\\__init__.py', reloading
2025-05-17 20:39:00,328 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\fontTools\\ttLib\\__init__.py', reloading
2025-05-17 20:39:00,571 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 20:39:04,060 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 20:39:04,089 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 20:45:21,677 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 20:45:21,677 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 20:45:21,702 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 20:45:24,674 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 20:45:24,684 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 20:45:34,897 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:45:34] "GET / HTTP/1.1" 200 -
2025-05-17 20:45:35,344 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:45:35] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:45:40,183 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:45:40] "GET /config HTTP/1.1" 200 -
2025-05-17 20:45:40,505 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:45:40] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:48:08,981 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:48:08] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 20:48:09,003 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:48:09] "GET / HTTP/1.1" 200 -
2025-05-17 20:48:09,049 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:48:09] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:48:36,266 - __main__ - INFO - 图片保存路径: static/uploads\paste_d234d76b_1747486116.png, 标准化后: static/uploads/paste_d234d76b_1747486116.png
2025-05-17 20:48:36,268 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:48:36] "POST /paste HTTP/1.1" 200 -
2025-05-17 20:48:36,286 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:48:36] "GET /static/uploads/paste_d234d76b_1747486116.png HTTP/1.1" 200 -
2025-05-17 20:48:36,784 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_d234d76b_1747486116.png, 转换后=static\uploads\paste_d234d76b_1747486116.png
2025-05-17 20:48:36,786 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_d234d76b_1747486116.png
2025-05-17 20:48:37,875 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 20:48:37,876 - __main__ - INFO - 上传响应内容: {"id":"d0k8b921ol7h6f383vgg","object":"file","bytes":58166,"created_at":1747486116,"filename":"paste_d234d76b_1747486116.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 20:48:37,876 - __main__ - INFO - 获取到的文件ID: d0k8b921ol7h6f383vgg
2025-05-17 20:48:37,876 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8b921ol7h6f383vgg/content
2025-05-17 20:48:38,065 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 20:48:38,066 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-17 20:48:47,529 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 20:48:47,529 - __main__ - INFO - 响应时间: 2025-05-17 20:48:47
2025-05-17 20:48:47,529 - __main__ - INFO - 请求耗时: 9.463秒
2025-05-17 20:48:47,529 - __main__ - INFO - 响应状态码: 200
2025-05-17 20:48:47,530 - __main__ - INFO - 响应内容(前500字符): {"id":"5a46ca36-b341-4e1d-bf8a-46fb696ca3de","object":"chat.completion","created":1747486117,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"昨天我去了图书馆，想找一本关于人工智能的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处指代的是书籍，'数'通常用于数字或数学概念，而'书'指代的是书籍。\",\n\"content_1\":\"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":128,"completion_tokens":84,"total_tokens":212,"prompt_tokens_deta...
2025-05-17 20:48:47,530 - __main__ - INFO - 响应内容(后500字符): ...x":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"昨天我去了图书馆，想找一本关于人工智能的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处指代的是书籍，'数'通常用于数字或数学概念，而'书'指代的是书籍。\",\n\"content_1\":\"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":128,"completion_tokens":84,"total_tokens":212,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":128},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 20:48:47,530 - __main__ - INFO - 响应内容长度: 634字符
2025-05-17 20:48:47,530 - __main__ - INFO - ==============================================================

2025-05-17 20:50:22,380 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:50:22] "GET /config HTTP/1.1" 200 -
2025-05-17 20:50:22,920 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:50:22] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:51:06,825 - __main__ - INFO - 助手回复: ```json
{
"content_0":"昨天我去了图书馆，想找一本关于人工智能的数。",
"wrong":true,
"annotation":"'数'应为'书'，此处指代的是书籍，'数'通常用于数字或数学概念，而'书'指代的是书籍。",
"content_1":"昨天我去了图书馆，想找一本关于人工智能的书。"
}
```
2025-05-17 20:51:35,652 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"昨天我去了图书馆，想找一本关于人工智能的数。",
"wrong":true,
"annotation":"'数'应为'书'，此处指代的是书籍，'数'通常用于数字或数学概念，而'书'指代的是书籍。",
"content_1":"昨天我去了图书馆，想找一本关于人工智能的书。"
}
```
2025-05-17 20:51:53,019 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 20:51:53,019 - __main__ - INFO - 响应时间: 2025-05-17 20:51:53
2025-05-17 20:51:53,019 - __main__ - INFO - 请求耗时: 7.101秒
2025-05-17 20:51:53,019 - __main__ - INFO - 响应状态码: 200
2025-05-17 20:51:53,019 - __main__ - INFO - 响应内容(前500字符): {"id":"afb25f10-1892-4025-a8bc-305570e042fd","object":"chat.completion","created":1747486305,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处指代的是'一本书'，'数'是错别字。\",\n\"content_1\":\"我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":133,"completion_tokens":85,"total_tokens":218,"prompt_tokens...
2025-05-17 20:51:53,020 - __main__ - INFO - 响应内容(后500字符): ...message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处指代的是'一本书'，'数'是错别字。\",\n\"content_1\":\"我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":133,"completion_tokens":85,"total_tokens":218,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":69},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 20:51:53,020 - __main__ - INFO - 响应内容长度: 640字符
2025-05-17 20:51:53,020 - __main__ - INFO - ==============================================================

2025-05-17 20:53:29,682 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:53:29] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 20:53:29,704 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:53:29] "GET / HTTP/1.1" 200 -
2025-05-17 20:53:29,752 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:53:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:54:15,576 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 20:54:15,576 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 20:54:15,610 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 20:54:18,724 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 20:54:18,735 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 20:54:37,909 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:37] "GET / HTTP/1.1" 200 -
2025-05-17 20:54:38,406 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:54:42,332 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:42] "GET / HTTP/1.1" 200 -
2025-05-17 20:54:42,351 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:54:44,779 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:44] "GET / HTTP/1.1" 200 -
2025-05-17 20:54:44,803 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:44] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:54:46,478 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:46] "GET /config HTTP/1.1" 200 -
2025-05-17 20:54:46,608 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:54:52,723 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:52] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 20:54:52,734 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:52] "GET / HTTP/1.1" 200 -
2025-05-17 20:54:52,772 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:54:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 20:55:03,629 - __main__ - INFO - 图片保存路径: static/uploads\paste_cf355efa_1747486503.png, 标准化后: static/uploads/paste_cf355efa_1747486503.png
2025-05-17 20:55:03,631 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:55:03] "POST /paste HTTP/1.1" 200 -
2025-05-17 20:55:03,647 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 20:55:03] "GET /static/uploads/paste_cf355efa_1747486503.png HTTP/1.1" 200 -
2025-05-17 20:55:04,148 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_cf355efa_1747486503.png, 转换后=static\uploads\paste_cf355efa_1747486503.png
2025-05-17 20:55:04,151 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_cf355efa_1747486503.png
2025-05-17 20:55:05,481 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 20:55:05,482 - __main__ - INFO - 上传响应内容: {"id":"d0k8ea21ol7h6f384flg","object":"file","bytes":38657,"created_at":1747486504,"filename":"paste_cf355efa_1747486503.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 20:55:05,482 - __main__ - INFO - 获取到的文件ID: d0k8ea21ol7h6f384flg
2025-05-17 20:55:05,483 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8ea21ol7h6f384flg/content
2025-05-17 20:55:05,671 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 20:55:05,672 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 20:55:11,717 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 20:55:11,717 - __main__ - INFO - 响应时间: 2025-05-17 20:55:11
2025-05-17 20:55:11,717 - __main__ - INFO - 请求耗时: 6.045秒
2025-05-17 20:55:11,717 - __main__ - INFO - 响应状态码: 200
2025-05-17 20:55:11,717 - __main__ - INFO - 响应内容(前500字符): {"id":"c73ab9e8-8f67-4d8f-b2a6-8d476613ed4d","object":"chat.completion","created":1747486505,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":134,"completion_tokens":50,"total_tokens":184,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache...
2025-05-17 20:55:11,717 - __main__ - INFO - 响应内容(后500字符): ...del":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":134,"completion_tokens":50,"total_tokens":184,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":134},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 20:55:11,717 - __main__ - INFO - 响应内容长度: 596字符
2025-05-17 20:55:11,718 - __main__ - INFO - ==============================================================

2025-05-17 21:02:27,039 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:02:27] "GET /config HTTP/1.1" 200 -
2025-05-17 21:02:27,368 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:02:27] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:03:18,132 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:03:18] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 21:03:18,155 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:03:18] "GET / HTTP/1.1" 200 -
2025-05-17 21:03:18,189 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:03:18] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:03:59,779 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:03:59,780 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:03:59,803 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:04:02,925 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:04:02,937 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:04:06,177 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:04:06] "GET / HTTP/1.1" 200 -
2025-05-17 21:04:06,661 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:04:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:04:10,694 - __main__ - INFO - 图片保存路径: static/uploads\paste_a51d77d5_1747487050.png, 标准化后: static/uploads/paste_a51d77d5_1747487050.png
2025-05-17 21:04:10,695 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:04:10] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:04:10,711 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:04:10] "GET /static/uploads/paste_a51d77d5_1747487050.png HTTP/1.1" 200 -
2025-05-17 21:04:11,217 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_a51d77d5_1747487050.png, 转换后=static\uploads\paste_a51d77d5_1747487050.png
2025-05-17 21:04:11,219 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_a51d77d5_1747487050.png
2025-05-17 21:04:12,616 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:04:12,616 - __main__ - INFO - 上传响应内容: {"id":"d0k8iis5rbs2bc6tadqg","object":"file","bytes":38657,"created_at":1747487051,"filename":"paste_a51d77d5_1747487050.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:04:12,617 - __main__ - INFO - 获取到的文件ID: d0k8iis5rbs2bc6tadqg
2025-05-17 21:04:12,617 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8iis5rbs2bc6tadqg/content
2025-05-17 21:04:12,778 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:04:12,778 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:04:18,822 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:04:18,822 - __main__ - INFO - 响应时间: 2025-05-17 21:04:18
2025-05-17 21:04:18,823 - __main__ - INFO - 请求耗时: 6.043秒
2025-05-17 21:04:18,823 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:04:18,824 - __main__ - INFO - 响应内容(前500字符): {"id":"9f91a454-059a-4f4b-aa8f-4d5735ec59a8","object":"chat.completion","created":1747487052,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":50,"total_tokens":211,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache...
2025-05-17 21:04:18,824 - __main__ - INFO - 响应内容(后500字符): ...del":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":50,"total_tokens":211,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":161},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:04:18,824 - __main__ - INFO - 响应内容长度: 596字符
2025-05-17 21:04:18,825 - __main__ - INFO - ==============================================================

2025-05-17 21:09:36,265 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:09:36,266 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:09:36,293 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:09:39,883 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:09:39,898 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:09:46,952 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:09:46] "GET / HTTP/1.1" 200 -
2025-05-17 21:09:47,414 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:09:47] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:10:02,186 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:02] "GET /config HTTP/1.1" 200 -
2025-05-17 21:10:02,614 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:02] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:10:10,017 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:10] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 21:10:10,041 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:10] "GET / HTTP/1.1" 200 -
2025-05-17 21:10:10,084 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:10] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:10:25,306 - __main__ - INFO - 图片保存路径: static/uploads\paste_c0b8a2f6_1747487425.png, 标准化后: static/uploads/paste_c0b8a2f6_1747487425.png
2025-05-17 21:10:25,307 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:25] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:10:25,331 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:10:25] "GET /static/uploads/paste_c0b8a2f6_1747487425.png HTTP/1.1" 200 -
2025-05-17 21:10:25,838 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_c0b8a2f6_1747487425.png, 转换后=static\uploads\paste_c0b8a2f6_1747487425.png
2025-05-17 21:10:25,841 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_c0b8a2f6_1747487425.png
2025-05-17 21:10:27,248 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:10:27,248 - __main__ - INFO - 上传响应内容: {"id":"d0k8lgf37oq66hitgn0g","object":"file","bytes":38657,"created_at":1747487425,"filename":"paste_c0b8a2f6_1747487425.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:10:27,248 - __main__ - INFO - 获取到的文件ID: d0k8lgf37oq66hitgn0g
2025-05-17 21:10:27,248 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8lgf37oq66hitgn0g/content
2025-05-17 21:10:27,492 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:10:27,492 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:10:33,882 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:10:33,882 - __main__ - INFO - 响应时间: 2025-05-17 21:10:33
2025-05-17 21:10:33,882 - __main__ - INFO - 请求耗时: 6.390秒
2025-05-17 21:10:33,883 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:10:33,883 - __main__ - INFO - 响应内容(前500字符): {"id":"36bee5b6-26ea-4810-b27d-f33112c4e9e5","object":"chat.completion","created":1747487427,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":143,"completion_tokens":50,"total_tokens":193,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache...
2025-05-17 21:10:33,883 - __main__ - INFO - 响应内容(后500字符): ...del":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":143,"completion_tokens":50,"total_tokens":193,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":143},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:10:33,883 - __main__ - INFO - 响应内容长度: 596字符
2025-05-17 21:10:33,884 - __main__ - INFO - ==============================================================

2025-05-17 21:14:06,620 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:14:41,061 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:15:00,013 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:15:00,013 - __main__ - INFO - 响应时间: 2025-05-17 21:15:00
2025-05-17 21:15:00,013 - __main__ - INFO - 请求耗时: 6.358秒
2025-05-17 21:15:00,014 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:15:00,014 - __main__ - INFO - 响应内容(前500字符): {"id":"3c0fdbea-4ac3-46d0-b64e-9398bf0460ad","object":"chat.completion","created":1747487693,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":53,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_...
2025-05-17 21:15:00,014 - __main__ - INFO - 响应内容(后500字符): ...3,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":53,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":80},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:15:00,015 - __main__ - INFO - 响应内容长度: 591字符
2025-05-17 21:15:00,015 - __main__ - INFO - ==============================================================

2025-05-17 21:15:06,714 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:15:08,964 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:15:23,894 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:15:23,895 - __main__ - INFO - 响应时间: 2025-05-17 21:15:23
2025-05-17 21:15:23,895 - __main__ - INFO - 请求耗时: 9.128秒
2025-05-17 21:15:23,895 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:15:23,895 - __main__ - INFO - 响应内容(前500字符): {"id":"42633928-0b4b-4775-85e5-394b26488275","object":"chat.completion","created":1747487714,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是一个常见的错别字。正确的写法是“身份证”，指用于证明个人身份的证件。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":153,"com...
2025-05-17 21:15:23,896 - __main__ - INFO - 响应内容(后500字符): ... \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是一个常见的错别字。正确的写法是“身份证”，指用于证明个人身份的证件。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":153,"completion_tokens":114,"total_tokens":267,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":89},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:15:23,896 - __main__ - INFO - 响应内容长度: 693字符
2025-05-17 21:15:23,896 - __main__ - INFO - ==============================================================

2025-05-17 21:17:58,650 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:17:58,650 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:17:58,670 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:18:00,455 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:18:00,462 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:18:11,159 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:18:11] "GET / HTTP/1.1" 200 -
2025-05-17 21:18:11,686 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:18:11] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:18:24,464 - __main__ - INFO - 图片保存路径: static/uploads\paste_af395b48_1747487904.png, 标准化后: static/uploads/paste_af395b48_1747487904.png
2025-05-17 21:18:24,465 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:18:24] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:18:24,481 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:18:24] "GET /static/uploads/paste_af395b48_1747487904.png HTTP/1.1" 200 -
2025-05-17 21:18:24,976 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_af395b48_1747487904.png, 转换后=static\uploads\paste_af395b48_1747487904.png
2025-05-17 21:18:24,977 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_af395b48_1747487904.png
2025-05-17 21:18:26,297 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:18:26,297 - __main__ - INFO - 上传响应内容: {"id":"d0k8p82misdua6kh0hu0","object":"file","bytes":38657,"created_at":1747487904,"filename":"paste_af395b48_1747487904.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:18:26,298 - __main__ - INFO - 获取到的文件ID: d0k8p82misdua6kh0hu0
2025-05-17 21:18:26,298 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8p82misdua6kh0hu0/content
2025-05-17 21:18:26,485 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:18:26,485 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:18:32,266 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:18:32,267 - __main__ - INFO - 响应时间: 2025-05-17 21:18:32
2025-05-17 21:18:32,267 - __main__ - INFO - 请求耗时: 5.780秒
2025-05-17 21:18:32,267 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:18:32,267 - __main__ - INFO - 响应内容(前500字符): {"id":"4ec3ca2a-f4df-49c8-9d8c-9c60e9eda8b6","object":"chat.completion","created":1747487906,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":143,"completion_tokens":45,"total_tokens":188,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_token...
2025-05-17 21:18:32,267 - __main__ - INFO - 响应内容(后500字符): ...87906,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":143,"completion_tokens":45,"total_tokens":188,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":15},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:18:32,267 - __main__ - INFO - 响应内容长度: 587字符
2025-05-17 21:18:32,267 - __main__ - INFO - ==============================================================

2025-05-17 21:18:32,267 - __main__ - INFO - 助手回复: ```json
{
"content_0":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 21:18:32,267 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
"content_0":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
"wrong":false,
"annotation":"",
"content_1":""
}
```
2025-05-17 21:18:38,257 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:18:38,257 - __main__ - INFO - 响应时间: 2025-05-17 21:18:38
2025-05-17 21:18:38,257 - __main__ - INFO - 请求耗时: 5.990秒
2025-05-17 21:18:38,257 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:18:38,257 - __main__ - INFO - 响应内容(前500字符): {"id":"def39681-ff93-4298-bb35-65f721dd8d96","object":"chat.completion","created":1747487912,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":53,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 21:18:38,257 - __main__ - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":53,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":16},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:18:38,257 - __main__ - INFO - 响应内容长度: 593字符
2025-05-17 21:18:38,257 - __main__ - INFO - ==============================================================

2025-05-17 21:18:38,258 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:18:38,258 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:18:47,440 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:18:47,440 - __main__ - INFO - 响应时间: 2025-05-17 21:18:47
2025-05-17 21:18:47,440 - __main__ - INFO - 请求耗时: 9.181秒
2025-05-17 21:18:47,440 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:18:47,440 - __main__ - INFO - 响应内容(前500字符): {"id":"368936ce-3ea8-4e46-bcf2-73411b5e88ce","object":"chat.completion","created":1747487918,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":153,"completion_tokens...
2025-05-17 21:18:47,440 - __main__ - INFO - 响应内容(后500字符): ...``json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":153,"completion_tokens":111,"total_tokens":264,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":25},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:18:47,440 - __main__ - INFO - 响应内容长度: 681字符
2025-05-17 21:18:47,440 - __main__ - INFO - ==============================================================

2025-05-17 21:18:47,441 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 21:18:47,441 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 21:18:55,990 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:18:55,990 - __main__ - INFO - 响应时间: 2025-05-17 21:18:55
2025-05-17 21:18:55,990 - __main__ - INFO - 请求耗时: 8.550秒
2025-05-17 21:18:55,990 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:18:55,990 - __main__ - INFO - 响应内容(前500字符): {"id":"30bd00d1-7a7c-42fd-8771-6459fe2d5afc","object":"chat.completion","created":1747487927,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'。'遵循'意为遵照、依照，而'遵询'不是一个正确的词语组合。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"com...
2025-05-17 21:18:55,990 - __main__ - INFO - 响应内容(后500字符): ... \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'。'遵循'意为遵照、依照，而'遵询'不是一个正确的词语组合。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":114,"total_tokens":266,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":88},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:18:55,990 - __main__ - INFO - 响应内容长度: 693字符
2025-05-17 21:18:55,991 - __main__ - INFO - ==============================================================

2025-05-17 21:18:55,991 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。",
  "wrong": true,
  "annotation": "句子中的'遵询'应为'遵循'。'遵循'意为遵照、依照，而'遵询'不是一个正确的词语组合。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 21:18:55,991 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。",
  "wrong": true,
  "annotation": "句子中的'遵询'应为'遵循'。'遵循'意为遵照、依照，而'遵询'不是一个正确的词语组合。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 21:19:02,077 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:19:02,077 - __main__ - INFO - 响应时间: 2025-05-17 21:19:02
2025-05-17 21:19:02,077 - __main__ - INFO - 请求耗时: 6.086秒
2025-05-17 21:19:02,077 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:19:02,077 - __main__ - INFO - 响应内容(前500字符): {"id":"203d1dcb-065d-401d-8ace-19efce4452f5","object":"chat.completion","created":1747487935,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":138,"completion_tokens":45,"total_tokens":183,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":6...
2025-05-17 21:19:02,077 - __main__ - INFO - 响应内容(后500字符): ...1747487935,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":138,"completion_tokens":45,"total_tokens":183,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":74},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:19:02,077 - __main__ - INFO - 响应内容长度: 582字符
2025-05-17 21:19:02,077 - __main__ - INFO - ==============================================================

2025-05-17 21:19:02,077 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:19:02,077 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:19:02,080 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:19:02] "POST /process HTTP/1.1" 200 -
2025-05-17 21:26:30,621 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:26:30] "GET /config HTTP/1.1" 200 -
2025-05-17 21:26:30,648 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:26:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:26:55,035 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:26:55] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 21:26:55,057 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:26:55] "GET / HTTP/1.1" 200 -
2025-05-17 21:26:55,094 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:26:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:27:26,778 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:27:26,778 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:27:26,801 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:27:30,131 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:27:30,141 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:27:35,760 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:27:35] "GET / HTTP/1.1" 200 -
2025-05-17 21:27:36,241 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:27:36] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:27:44,803 - __main__ - INFO - 图片保存路径: static/uploads\paste_47966d98_1747488464.png, 标准化后: static/uploads/paste_47966d98_1747488464.png
2025-05-17 21:27:44,806 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:27:44] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:27:44,822 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:27:44] "GET /static/uploads/paste_47966d98_1747488464.png HTTP/1.1" 200 -
2025-05-17 21:27:45,324 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_47966d98_1747488464.png, 转换后=static\uploads\paste_47966d98_1747488464.png
2025-05-17 21:27:45,326 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_47966d98_1747488464.png
2025-05-17 21:27:46,733 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:27:46,734 - __main__ - INFO - 上传响应内容: {"id":"d0k8tkf37oq66hitig7g","object":"file","bytes":38657,"created_at":1747488465,"filename":"paste_47966d98_1747488464.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:27:46,734 - __main__ - INFO - 获取到的文件ID: d0k8tkf37oq66hitig7g
2025-05-17 21:27:46,734 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8tkf37oq66hitig7g/content
2025-05-17 21:27:46,940 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:27:46,940 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:27:53,312 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:27:53,312 - __main__ - INFO - 响应时间: 2025-05-17 21:27:53
2025-05-17 21:27:53,312 - __main__ - INFO - 请求耗时: 6.371秒
2025-05-17 21:27:53,312 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:27:53,313 - __main__ - INFO - 响应内容(前500字符): {"id":"98bb9818-7c46-4539-878a-0f631ead5211","object":"chat.completion","created":1747488466,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":45,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens...
2025-05-17 21:27:53,313 - __main__ - INFO - 响应内容(后500字符): ...7488466,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":45,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":88},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:27:53,313 - __main__ - INFO - 响应内容长度: 585字符
2025-05-17 21:27:53,313 - __main__ - INFO - ==============================================================

2025-05-17 21:30:31,295 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:30:31,295 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:30:31,322 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:30:35,245 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:30:35,259 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:30:40,170 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:30:40] "GET / HTTP/1.1" 200 -
2025-05-17 21:30:40,639 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:30:40] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:30:48,064 - __main__ - INFO - 图片保存路径: static/uploads\paste_056e8d95_1747488648.png, 标准化后: static/uploads/paste_056e8d95_1747488648.png
2025-05-17 21:30:48,065 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:30:48] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:30:48,083 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:30:48] "GET /static/uploads/paste_056e8d95_1747488648.png HTTP/1.1" 200 -
2025-05-17 21:30:48,584 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_056e8d95_1747488648.png, 转换后=static\uploads\paste_056e8d95_1747488648.png
2025-05-17 21:30:48,587 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_056e8d95_1747488648.png
2025-05-17 21:30:49,716 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:30:49,717 - __main__ - INFO - 上传响应内容: {"id":"d0k8v22misdua6kh1tp0","object":"file","bytes":58166,"created_at":1747488648,"filename":"paste_056e8d95_1747488648.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:30:49,717 - __main__ - INFO - 获取到的文件ID: d0k8v22misdua6kh1tp0
2025-05-17 21:30:49,717 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8v22misdua6kh1tp0/content
2025-05-17 21:30:49,913 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:30:49,914 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-17 21:30:57,268 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:30:57,268 - __main__ - INFO - 响应时间: 2025-05-17 21:30:57
2025-05-17 21:30:57,268 - __main__ - INFO - 请求耗时: 7.354秒
2025-05-17 21:30:57,269 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:30:57,269 - __main__ - INFO - 响应内容(前500字符): {"id":"3d0e31b9-c4fe-4e4a-81fc-4d7b5a5b182d","object":"chat.completion","created":1747488649,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“数”应为“书”，属于错别字。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":72,"total_tokens":218,"prompt_tokens_details":{"cached...
2025-05-17 21:30:57,269 - __main__ - INFO - 响应内容(后500字符): ...s":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的“数”应为“书”，属于错别字。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":72,"total_tokens":218,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:30:57,269 - __main__ - INFO - 响应内容长度: 624字符
2025-05-17 21:30:57,269 - __main__ - INFO - ==============================================================

2025-05-17 21:31:15,470 - __main__ - INFO - 助手回复: {'content_0': '昨天我去了图书馆，想找一本关于人工智能的数。', 'wrong': True, 'annotation': '句子中的“数”应为“书”，属于错别字。', 'content_1': '昨天我去了图书馆，想找一本关于人工智能的书。'}
2025-05-17 21:31:37,263 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:31:37,372 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:31:37,377 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\json\\__init__.py', reloading
2025-05-17 21:31:38,157 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:31:41,262 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:31:41,274 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:31:47,881 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_056e8d95_1747488648.png, 转换后=static\uploads\paste_056e8d95_1747488648.png
2025-05-17 21:31:47,882 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_056e8d95_1747488648.png
2025-05-17 21:31:48,980 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:31:48,981 - __main__ - INFO - 上传响应内容: {"id":"d0k8vgqmisdua6kh2070","object":"file","bytes":58166,"created_at":1747488707,"filename":"paste_056e8d95_1747488648.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:31:48,981 - __main__ - INFO - 获取到的文件ID: d0k8vgqmisdua6kh2070
2025-05-17 21:31:48,981 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k8vgqmisdua6kh2070/content
2025-05-17 21:31:49,223 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:31:49,224 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-17 21:31:58,162 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:31:58,163 - __main__ - INFO - 响应时间: 2025-05-17 21:31:58
2025-05-17 21:31:58,163 - __main__ - INFO - 请求耗时: 8.938秒
2025-05-17 21:31:58,164 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:31:58,164 - __main__ - INFO - 响应内容(前500字符): {"id":"edbc5dbe-f17a-487c-9e5a-b174ec2704e6","object":"chat.completion","created":1747488709,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"昨天我去了图书馆，想找一本关于人工智能的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，'数'通常指数字或数量，而此处指代的是书籍。\",\n\"content_1\":\"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":75,"total_tokens":221,"prompt_tokens_details":{"cached...
2025-05-17 21:31:58,164 - __main__ - INFO - 响应内容(后500字符): ...s":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"昨天我去了图书馆，想找一本关于人工智能的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，'数'通常指数字或数量，而此处指代的是书籍。\",\n\"content_1\":\"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":146,"completion_tokens":75,"total_tokens":221,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":18},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:31:58,165 - __main__ - INFO - 响应内容长度: 624字符
2025-05-17 21:31:58,165 - __main__ - INFO - ==============================================================

2025-05-17 21:32:00,225 - __main__ - INFO - 助手回复: {'content_0': '昨天我去了图书馆，想找一本关于人工智能的数。', 'wrong': True, 'annotation': "'数'应为'书'，'数'通常指数字或数量，而此处指代的是书籍。", 'content_1': '昨天我去了图书馆，想找一本关于人工智能的书。'}
2025-05-17 21:32:00,225 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:32:00,228 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:32:09,300 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:32:09,301 - __main__ - INFO - 响应时间: 2025-05-17 21:32:09
2025-05-17 21:32:09,301 - __main__ - INFO - 请求耗时: 9.072秒
2025-05-17 21:32:09,301 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:32:09,301 - __main__ - INFO - 响应内容(前500字符): {"id":"0d938738-5220-469b-bd0c-465258c560cb","object":"chat.completion","created":1747488720,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处应为'书'的误写，'数'通常指数目或数学，而'书'指书籍。\",\n\"content_1\":\"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":151,"completion_tokens":90,"total_tokens":241,"prompt_t...
2025-05-17 21:32:09,301 - __main__ - INFO - 响应内容(后500字符): ...":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n\"wrong\":true,\n\"annotation\":\"'数'应为'书'，此处应为'书'的误写，'数'通常指数目或数学，而'书'指书籍。\",\n\"content_1\":\"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":151,"completion_tokens":90,"total_tokens":241,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":23},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:32:09,302 - __main__ - INFO - 响应内容长度: 647字符
2025-05-17 21:32:09,302 - __main__ - INFO - ==============================================================

2025-05-17 21:32:14,908 - __main__ - INFO - 助手回复: {'content_0': '我找了半天，终于在书架的角落里找到了一本看起来很专业的数。', 'wrong': True, 'annotation': "'数'应为'书'，此处应为'书'的误写，'数'通常指数目或数学，而'书'指书籍。", 'content_1': '我找了半天，终于在书架的角落里找到了一本看起来很专业的书。'}
2025-05-17 21:32:14,908 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:32:14,909 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:32:22,429 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:32:22,429 - __main__ - INFO - 响应时间: 2025-05-17 21:32:22
2025-05-17 21:32:22,429 - __main__ - INFO - 请求耗时: 7.518秒
2025-05-17 21:32:22,429 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:32:22,429 - __main__ - INFO - 响应内容(前500字符): {"id":"caf07630-f274-4e08-8ff3-e3e0c332bb5d","object":"chat.completion","created":1747488734,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":156,"completion_tokens":49,"total_tokens":205,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens"...
2025-05-17 21:32:22,430 - __main__ - INFO - 响应内容(后500字符): ...7488734,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":156,"completion_tokens":49,"total_tokens":205,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":28},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:32:22,430 - __main__ - INFO - 响应内容长度: 585字符
2025-05-17 21:32:22,430 - __main__ - INFO - ==============================================================

2025-05-17 21:32:23,150 - __main__ - INFO - 助手回复: {'content_0': '我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-17 21:32:23,151 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:32:23,151 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:32:28,892 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:32:28,892 - __main__ - INFO - 响应时间: 2025-05-17 21:32:28
2025-05-17 21:32:28,892 - __main__ - INFO - 请求耗时: 5.741秒
2025-05-17 21:32:28,893 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:32:28,893 - __main__ - INFO - 响应内容(前500字符): {"id":"cd399c2e-275b-4ff1-a477-016e10a5d283","object":"chat.completion","created":1747488743,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"不过，我还是决定借\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":32,"total_tokens":176,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_to...
2025-05-17 21:32:28,893 - __main__ - INFO - 响应内容(后500字符): ....completion","created":1747488743,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"不过，我还是决定借\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":144,"completion_tokens":32,"total_tokens":176,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":16},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:32:28,894 - __main__ - INFO - 响应内容长度: 559字符
2025-05-17 21:32:28,894 - __main__ - INFO - ==============================================================

2025-05-17 21:32:29,868 - __main__ - INFO - 助手回复: {'content_0': '不过，我还是决定借', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-17 21:32:29,869 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:32:29,870 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:32:35,736 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:32:35,737 - __main__ - INFO - 响应时间: 2025-05-17 21:32:35
2025-05-17 21:32:35,737 - __main__ - INFO - 请求耗时: 5.866秒
2025-05-17 21:32:35,737 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:32:35,737 - __main__ - INFO - 响应内容(前500字符): {"id":"8e28469c-86cd-4ba4-b236-47b81d869b02","object":"chat.completion","created":1747488749,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"原始句子\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":135,"completion_tokens":34,"total_tokens":169,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_...
2025-05-17 21:32:35,737 - __main__ - INFO - 响应内容(后500字符): ...etion","created":1747488749,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"原始句子\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":135,"completion_tokens":34,"total_tokens":169,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":7},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:32:35,737 - __main__ - INFO - 响应内容长度: 565字符
2025-05-17 21:32:35,738 - __main__ - INFO - ==============================================================

2025-05-17 21:32:38,013 - __main__ - INFO - 助手回复: {'content_0': '原始句子', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-17 21:32:38,014 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:32:38,015 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 523, in _process_successful_response
    return _process_json_content(content)
  File "D:\tupian\app.py", line 539, in _process_json_content
    json_content = json.loads(content)
  File "D:\python3.9\lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2025-05-17 21:32:38,018 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:32:38] "POST /process HTTP/1.1" 200 -
2025-05-17 21:33:21,030 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\json\\decoder.py', reloading
2025-05-17 21:33:22,192 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:33:25,288 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:33:25,298 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:34:11,562 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:34:11] "GET / HTTP/1.1" 200 -
2025-05-17 21:34:12,051 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:34:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:34:20,675 - __main__ - INFO - 图片保存路径: static/uploads\paste_39577601_1747488860.png, 标准化后: static/uploads/paste_39577601_1747488860.png
2025-05-17 21:34:20,676 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:34:20] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:34:20,695 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:34:20] "GET /static/uploads/paste_39577601_1747488860.png HTTP/1.1" 200 -
2025-05-17 21:34:21,190 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_39577601_1747488860.png, 转换后=static\uploads\paste_39577601_1747488860.png
2025-05-17 21:34:21,192 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_39577601_1747488860.png
2025-05-17 21:34:22,588 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:34:22,589 - __main__ - INFO - 上传响应内容: {"id":"d0k90namisdua6kh25v0","object":"file","bytes":38657,"created_at":1747488861,"filename":"paste_39577601_1747488860.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:34:22,589 - __main__ - INFO - 获取到的文件ID: d0k90namisdua6kh25v0
2025-05-17 21:34:22,589 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k90namisdua6kh25v0/content
2025-05-17 21:34:22,747 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:34:22,747 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:34:28,875 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:34:28,876 - __main__ - INFO - 响应时间: 2025-05-17 21:34:28
2025-05-17 21:34:28,876 - __main__ - INFO - 请求耗时: 6.128秒
2025-05-17 21:34:28,876 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:34:28,876 - __main__ - INFO - 响应内容(前500字符): {"id":"44ba6322-7d85-4f51-ac67-107c0f86c0d3","object":"chat.completion","created":1747488862,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":50,"total_tokens":202,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 21:34:28,876 - __main__ - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":50,"total_tokens":202,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":24},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:34:28,876 - __main__ - INFO - 响应内容长度: 599字符
2025-05-17 21:34:28,876 - __main__ - INFO - ==============================================================

2025-05-17 21:34:50,022 - __main__ - INFO - 助手回复: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-17 21:37:24,507 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:37:24,507 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:37:24,534 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:37:27,936 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:37:27,957 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:37:31,467 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:37:31] "GET / HTTP/1.1" 200 -
2025-05-17 21:37:31,942 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:37:31] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:37:37,561 - __main__ - INFO - 图片保存路径: static/uploads\paste_06263b12_1747489057.png, 标准化后: static/uploads/paste_06263b12_1747489057.png
2025-05-17 21:37:37,563 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:37:37] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:37:37,581 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:37:37] "GET /static/uploads/paste_06263b12_1747489057.png HTTP/1.1" 200 -
2025-05-17 21:37:38,084 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_06263b12_1747489057.png, 转换后=static\uploads\paste_06263b12_1747489057.png
2025-05-17 21:37:38,087 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_06263b12_1747489057.png
2025-05-17 21:37:39,643 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:37:39,645 - __main__ - INFO - 上传响应内容: {"id":"d0k928k5rbs2bc6tdnsg","object":"file","bytes":38657,"created_at":1747489058,"filename":"paste_06263b12_1747489057.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:37:39,645 - __main__ - INFO - 获取到的文件ID: d0k928k5rbs2bc6tdnsg
2025-05-17 21:37:39,645 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k928k5rbs2bc6tdnsg/content
2025-05-17 21:37:39,827 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:37:39,827 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:37:48,614 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:37:48,614 - __main__ - INFO - 响应时间: 2025-05-17 21:37:48
2025-05-17 21:37:48,614 - __main__ - INFO - 请求耗时: 8.787秒
2025-05-17 21:37:48,614 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:37:48,614 - __main__ - INFO - 响应内容(前500字符): {"id":"f22371e5-0cd2-4706-bf82-c73e6959a41e","object":"chat.completion","created":1747489059,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":45,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_token...
2025-05-17 21:37:48,616 - __main__ - INFO - 响应内容(后500字符): ...89059,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n\"content_0\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n\"wrong\":false,\n\"annotation\":\"\",\n\"content_1\":\"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":152,"completion_tokens":45,"total_tokens":197,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":24},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:37:48,616 - __main__ - INFO - 响应内容长度: 587字符
2025-05-17 21:37:48,616 - __main__ - INFO - ==============================================================

2025-05-17 21:37:53,038 - __main__ - INFO - 助手回复: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-17 21:44:24,302 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:44:24] "GET /config HTTP/1.1" 200 -
2025-05-17 21:44:24,427 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:44:24] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:44:51,494 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:44:51] "[32mPOST /config HTTP/1.1[0m" 302 -
2025-05-17 21:44:51,519 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:44:51] "GET / HTTP/1.1" 200 -
2025-05-17 21:44:51,557 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:44:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:45:07,879 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:45:07,880 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:45:07,904 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:45:11,777 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:45:11,803 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:45:13,429 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:45:13] "GET / HTTP/1.1" 200 -
2025-05-17 21:45:13,903 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:45:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:45:24,803 - __main__ - INFO - 图片保存路径: static/uploads\paste_6c9af951_1747489524.png, 标准化后: static/uploads/paste_6c9af951_1747489524.png
2025-05-17 21:45:24,804 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:45:24] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:45:24,822 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:45:24] "GET /static/uploads/paste_6c9af951_1747489524.png HTTP/1.1" 200 -
2025-05-17 21:45:25,316 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_6c9af951_1747489524.png, 转换后=static\uploads\paste_6c9af951_1747489524.png
2025-05-17 21:45:25,317 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_6c9af951_1747489524.png
2025-05-17 21:45:26,585 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:45:26,586 - __main__ - INFO - 上传响应内容: {"id":"d0k95tc5rbs2bc6te81g","object":"file","bytes":58166,"created_at":1747489525,"filename":"paste_6c9af951_1747489524.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:45:26,586 - __main__ - INFO - 获取到的文件ID: d0k95tc5rbs2bc6te81g
2025-05-17 21:45:26,586 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k95tc5rbs2bc6te81g/content
2025-05-17 21:45:26,755 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:45:26,755 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-17 21:45:34,743 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:45:34,743 - __main__ - INFO - 响应时间: 2025-05-17 21:45:34
2025-05-17 21:45:34,744 - __main__ - INFO - 请求耗时: 7.987秒
2025-05-17 21:45:34,744 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:45:34,744 - __main__ - INFO - 响应内容(前500字符): {"id":"10de8f46-0da6-491f-bf77-b0a483c56234","object":"chat.completion","created":1747489526,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数量，而此处指的是书籍。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":160,"completion_tokens":82,"total_tokens":242,"prompt_tokens_de...
2025-05-17 21:45:34,744 - __main__ - INFO - 响应内容(后500字符): ...:0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数量，而此处指的是书籍。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":160,"completion_tokens":82,"total_tokens":242,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":160},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:45:34,744 - __main__ - INFO - 响应内容长度: 636字符
2025-05-17 21:45:34,744 - __main__ - INFO - ==============================================================

2025-05-17 21:46:06,833 - __main__ - INFO - 助手回复: {'content_0': '昨天我去了图书馆，想找一本关于人工智能的数。', 'wrong': True, 'annotation': "句子中的'数'应为'书'，'数'通常指数字或数量，而此处指的是书籍。", 'content_1': '昨天我去了图书馆，想找一本关于人工智能的书。'}
2025-05-17 21:47:09,288 - __main__ - ERROR - 处理API响应时出错: the JSON object must be str, bytes or bytearray, not dict
2025-05-17 21:48:30,870 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 21:48:30,870 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 21:48:30,893 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:48:35,182 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:48:35,201 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 21:48:36,474 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:48:36] "GET / HTTP/1.1" 200 -
2025-05-17 21:48:36,900 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:48:36] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 21:48:44,204 - __main__ - INFO - 图片保存路径: static/uploads\paste_c4aa322f_1747489724.png, 标准化后: static/uploads/paste_c4aa322f_1747489724.png
2025-05-17 21:48:44,205 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:48:44] "POST /paste HTTP/1.1" 200 -
2025-05-17 21:48:44,224 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 21:48:44] "GET /static/uploads/paste_c4aa322f_1747489724.png HTTP/1.1" 200 -
2025-05-17 21:48:44,730 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_c4aa322f_1747489724.png, 转换后=static\uploads\paste_c4aa322f_1747489724.png
2025-05-17 21:48:44,732 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_c4aa322f_1747489724.png
2025-05-17 21:48:46,167 - __main__ - INFO - 上传响应状态码: 200
2025-05-17 21:48:46,167 - __main__ - INFO - 上传响应内容: {"id":"d0k97f45rbs2bc6teflg","object":"file","bytes":38657,"created_at":1747489724,"filename":"paste_c4aa322f_1747489724.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 21:48:46,168 - __main__ - INFO - 获取到的文件ID: d0k97f45rbs2bc6teflg
2025-05-17 21:48:46,168 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0k97f45rbs2bc6teflg/content
2025-05-17 21:48:46,385 - __main__ - INFO - 内容响应状态码: 200
2025-05-17 21:48:46,385 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-17 21:48:52,413 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 21:48:52,414 - __main__ - INFO - 响应时间: 2025-05-17 21:48:52
2025-05-17 21:48:52,414 - __main__ - INFO - 请求耗时: 6.027秒
2025-05-17 21:48:52,414 - __main__ - INFO - 响应状态码: 200
2025-05-17 21:48:52,414 - __main__ - INFO - 响应内容(前500字符): {"id":"d0adffa7-119c-4ac8-ac0d-4c4955f0a9dd","object":"chat.completion","created":1747489726,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 21:48:52,414 - __main__ - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 21:48:52,414 - __main__ - INFO - 响应内容长度: 599字符
2025-05-17 21:48:52,414 - __main__ - INFO - ==============================================================

2025-05-17 21:49:19,401 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:50:00,197 - __main__ - WARNING - 返回内容不是有效的JSON格式: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 21:51:05,551 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_vars.py', reloading
2025-05-17 21:51:05,553 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_utils.py', reloading
2025-05-17 21:51:05,995 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 21:51:09,387 - werkzeug - WARNING -  * Debugger is active!
2025-05-17 21:51:09,398 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-17 23:41:05,381 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-17 23:41:05,384 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-17 23:41:05,385 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-17 23:41:06,557 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-17 23:41:56,094 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 23:41:56,096 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 23:42:15,561 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:42:15] "GET / HTTP/1.1" 200 -
2025-05-17 23:42:15,750 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:42:15] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 23:42:25,863 - app - INFO - 图片保存路径: static/uploads\paste_a3e3e82c_1747496545.png, 标准化后: static/uploads/paste_a3e3e82c_1747496545.png
2025-05-17 23:42:25,865 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:42:25] "POST /paste HTTP/1.1" 200 -
2025-05-17 23:42:25,889 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:42:25] "GET /static/uploads/paste_a3e3e82c_1747496545.png HTTP/1.1" 200 -
2025-05-17 23:42:26,380 - app - INFO - 处理图片路径: 原始=static/uploads/paste_a3e3e82c_1747496545.png, 转换后=static\uploads\paste_a3e3e82c_1747496545.png
2025-05-17 23:42:26,383 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_a3e3e82c_1747496545.png
2025-05-17 23:42:28,697 - app - INFO - 上传响应状态码: 200
2025-05-17 23:42:28,698 - app - INFO - 上传响应内容: {"id":"d0kasov37oq66hitsvig","object":"file","bytes":38657,"created_at":1747496547,"filename":"paste_a3e3e82c_1747496545.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 23:42:28,699 - app - INFO - 获取到的文件ID: d0kasov37oq66hitsvig
2025-05-17 23:42:28,700 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kasov37oq66hitsvig/content
2025-05-17 23:42:29,392 - app - INFO - 内容响应状态码: 200
2025-05-17 23:42:29,393 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 23:42:36,470 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:42:36,471 - app - INFO - 响应时间: 2025-05-17 23:42:36
2025-05-17 23:42:36,471 - app - INFO - 请求耗时: 7.074秒
2025-05-17 23:42:36,472 - app - INFO - 响应状态码: 200
2025-05-17 23:42:36,472 - app - INFO - 响应内容(前500字符): {"id":"65fc8f0d-eb96-430e-bc54-e38c3fd68d6b","object":"chat.completion","created":1747496549,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 23:42:36,474 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:42:36,476 - app - INFO - 响应内容长度: 599字符
2025-05-17 23:42:36,476 - app - INFO - ==============================================================

2025-05-17 23:42:36,477 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:42:44,788 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:42:44,789 - app - INFO - 响应时间: 2025-05-17 23:42:44
2025-05-17 23:42:44,790 - app - INFO - 请求耗时: 8.307秒
2025-05-17 23:42:44,790 - app - INFO - 响应状态码: 200
2025-05-17 23:42:44,791 - app - INFO - 响应内容(前500字符): {"id":"59e9c0fe-ecf3-4be4-8ead-8e65f7cb3d9f","object":"chat.completion","created":1747496556,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 23:42:44,793 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:42:44,794 - app - INFO - 响应内容长度: 593字符
2025-05-17 23:42:44,795 - app - INFO - ==============================================================

2025-05-17 23:42:44,796 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:42:53,531 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:42:53,532 - app - INFO - 响应时间: 2025-05-17 23:42:53
2025-05-17 23:42:53,533 - app - INFO - 请求耗时: 8.732秒
2025-05-17 23:42:53,533 - app - INFO - 响应状态码: 200
2025-05-17 23:42:53,534 - app - INFO - 响应内容(前500字符): {"id":"1d4dfb1b-6ca7-40fa-864a-2f9fa741715b","object":"chat.completion","created":1747496565,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是一个常见的错别字，正确的写法是“身份证”。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_token...
2025-05-17 23:42:53,536 - app - INFO - 响应内容(后500字符): ...`json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，这是一个常见的错别字，正确的写法是“身份证”。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":107,"total_tokens":283,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:42:53,538 - app - INFO - 响应内容长度: 682字符
2025-05-17 23:42:53,539 - app - INFO - ==============================================================

2025-05-17 23:42:53,539 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "“生份证”应为“身份证”，这是一个常见的错别字，正确的写法是“身份证”。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 23:43:04,219 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:43:04,220 - app - INFO - 响应时间: 2025-05-17 23:43:04
2025-05-17 23:43:04,221 - app - INFO - 请求耗时: 10.675秒
2025-05-17 23:43:04,221 - app - INFO - 响应状态码: 200
2025-05-17 23:43:04,222 - app - INFO - 响应内容(前500字符): {"id":"42797ec9-8249-4b11-a063-1250fe88ea4c","object":"chat.completion","created":1747496574,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'则是询问的意思，用在此处不恰当。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens"...
2025-05-17 23:43:04,224 - app - INFO - 响应内容(后500字符): ...0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'则是询问的意思，用在此处不恰当。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":126,"total_tokens":301,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:43:04,226 - app - INFO - 响应内容长度: 704字符
2025-05-17 23:43:04,226 - app - INFO - ==============================================================

2025-05-17 23:43:04,227 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'则是询问的意思，用在此处不恰当。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 23:43:12,808 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:43:12,809 - app - INFO - 响应时间: 2025-05-17 23:43:12
2025-05-17 23:43:12,810 - app - INFO - 请求耗时: 8.576秒
2025-05-17 23:43:12,810 - app - INFO - 响应状态码: 200
2025-05-17 23:43:12,811 - app - INFO - 响应内容(前500字符): {"id":"90045ba1-d940-4216-b554-60abc04facef","object":"chat.completion","created":1747496584,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-17 23:43:12,813 - app - INFO - 响应内容(后500字符): ...47496584,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:43:12,814 - app - INFO - 响应内容长度: 584字符
2025-05-17 23:43:12,815 - app - INFO - ==============================================================

2025-05-17 23:43:12,816 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:43:12,821 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:43:12] "POST /process HTTP/1.1" 200 -
2025-05-17 23:52:37,627 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 23:52:37,627 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 23:52:54,185 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:52:54] "GET / HTTP/1.1" 200 -
2025-05-17 23:52:54,349 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:52:54] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 23:53:03,644 - app - INFO - 图片保存路径: static/uploads\paste_e9231ddf_1747497183.png, 标准化后: static/uploads/paste_e9231ddf_1747497183.png
2025-05-17 23:53:03,645 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:53:03] "POST /paste HTTP/1.1" 200 -
2025-05-17 23:53:03,665 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:53:03] "GET /static/uploads/paste_e9231ddf_1747497183.png HTTP/1.1" 200 -
2025-05-17 23:53:04,157 - app - INFO - 处理图片路径: 原始=static/uploads/paste_e9231ddf_1747497183.png, 转换后=static\uploads\paste_e9231ddf_1747497183.png
2025-05-17 23:53:04,158 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_e9231ddf_1747497183.png
2025-05-17 23:53:06,107 - app - INFO - 上传响应状态码: 200
2025-05-17 23:53:06,108 - app - INFO - 上传响应内容: {"id":"d0kb1o2misdua6khd510","object":"file","bytes":38657,"created_at":1747497184,"filename":"paste_e9231ddf_1747497183.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 23:53:06,109 - app - INFO - 获取到的文件ID: d0kb1o2misdua6khd510
2025-05-17 23:53:06,110 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb1o2misdua6khd510/content
2025-05-17 23:53:06,868 - app - INFO - 内容响应状态码: 200
2025-05-17 23:53:06,869 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 23:53:16,722 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:53:16,723 - app - INFO - 响应时间: 2025-05-17 23:53:16
2025-05-17 23:53:16,724 - app - INFO - 请求耗时: 9.849秒
2025-05-17 23:53:16,724 - app - INFO - 响应状态码: 200
2025-05-17 23:53:16,725 - app - INFO - 响应内容(前500字符): {"id":"55e7c5d3-6a01-429f-bc80-4a4f8ea9968a","object":"chat.completion","created":1747497187,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-17 23:53:16,726 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:53:16,728 - app - INFO - 响应内容长度: 599字符
2025-05-17 23:53:16,728 - app - INFO - ==============================================================

2025-05-17 23:53:16,729 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:53:23,692 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:53:23,693 - app - INFO - 响应时间: 2025-05-17 23:53:23
2025-05-17 23:53:23,694 - app - INFO - 请求耗时: 6.958秒
2025-05-17 23:53:23,695 - app - INFO - 响应状态码: 200
2025-05-17 23:53:23,695 - app - INFO - 响应内容(前500字符): {"id":"f6df7290-44c3-40ac-aede-09124cbe22e9","object":"chat.completion","created":1747497197,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-17 23:53:23,697 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:53:23,698 - app - INFO - 响应内容长度: 593字符
2025-05-17 23:53:23,699 - app - INFO - ==============================================================

2025-05-17 23:53:23,700 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:53:34,778 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:53:34,779 - app - INFO - 响应时间: 2025-05-17 23:53:34
2025-05-17 23:53:34,780 - app - INFO - 请求耗时: 11.073秒
2025-05-17 23:53:34,780 - app - INFO - 响应状态码: 200
2025-05-17 23:53:34,781 - app - INFO - 响应内容(前500字符): {"id":"43bb4b05-9479-4093-9171-52dce25939a8","object":"chat.completion","created":1747497204,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens"...
2025-05-17 23:53:34,783 - app - INFO - 响应内容(后500字符): ...```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":112,"total_tokens":288,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:53:34,785 - app - INFO - 响应内容长度: 680字符
2025-05-17 23:53:34,785 - app - INFO - ==============================================================

2025-05-17 23:53:34,786 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'是错别字，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-17 23:53:43,839 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:53:43,841 - app - INFO - 响应时间: 2025-05-17 23:53:43
2025-05-17 23:53:43,841 - app - INFO - 请求耗时: 9.049秒
2025-05-17 23:53:43,842 - app - INFO - 响应状态码: 200
2025-05-17 23:53:43,842 - app - INFO - 响应内容(前500字符): {"id":"e9750403-4a5d-42d9-a367-a83140e628cf","object":"chat.completion","created":1747497215,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":96,"total_...
2025-05-17 23:53:43,844 - app - INFO - 响应内容(后500字符): ...,"content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":96,"total_tokens":271,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:53:43,846 - app - INFO - 响应内容长度: 668字符
2025-05-17 23:53:43,846 - app - INFO - ==============================================================

2025-05-17 23:53:43,847 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-17 23:53:54,960 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:53:54,961 - app - INFO - 响应时间: 2025-05-17 23:53:54
2025-05-17 23:53:54,962 - app - INFO - 请求耗时: 11.109秒
2025-05-17 23:53:54,962 - app - INFO - 响应状态码: 200
2025-05-17 23:53:54,963 - app - INFO - 响应内容(前500字符): {"id":"a48ba6ad-4745-4f86-891d-76f407f3b191","object":"chat.completion","created":1747497224,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-17 23:53:54,965 - app - INFO - 响应内容(后500字符): ...47497224,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-17 23:53:54,966 - app - INFO - 响应内容长度: 584字符
2025-05-17 23:53:54,967 - app - INFO - ==============================================================

2025-05-17 23:53:54,968 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-17 23:53:54,972 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:53:54] "POST /process HTTP/1.1" 200 -
2025-05-17 23:57:20,226 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-17 23:57:20,227 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 23:57:50,951 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:57:50] "GET / HTTP/1.1" 200 -
2025-05-17 23:57:51,112 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:57:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-17 23:58:08,179 - app - INFO - 图片保存路径: static/uploads\paste_18f93fba_1747497488.png, 标准化后: static/uploads/paste_18f93fba_1747497488.png
2025-05-17 23:58:08,181 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:58:08] "POST /paste HTTP/1.1" 200 -
2025-05-17 23:58:08,199 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:58:08] "GET /static/uploads/paste_18f93fba_1747497488.png HTTP/1.1" 200 -
2025-05-17 23:58:08,690 - app - INFO - 处理图片路径: 原始=static/uploads/paste_18f93fba_1747497488.png, 转换后=static\uploads\paste_18f93fba_1747497488.png
2025-05-17 23:58:08,692 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_18f93fba_1747497488.png
2025-05-17 23:58:10,582 - app - INFO - 上传响应状态码: 200
2025-05-17 23:58:10,583 - app - INFO - 上传响应内容: {"id":"d0kb44amisdua6khdgf0","object":"file","bytes":38657,"created_at":1747497489,"filename":"paste_18f93fba_1747497488.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-17 23:58:10,584 - app - INFO - 获取到的文件ID: d0kb44amisdua6khdgf0
2025-05-17 23:58:10,585 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb44amisdua6khdgf0/content
2025-05-17 23:58:11,265 - app - INFO - 内容响应状态码: 200
2025-05-17 23:58:11,266 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-17 23:58:11,273 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:11,274 - app - INFO - 请求时间: 2025-05-17 23:58:11
2025-05-17 23:58:11,274 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:11,275 - app - INFO - 请求方法: POST
2025-05-17 23:58:11,276 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:11,277 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:11,278 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:11,280 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-17 23:58:11,281 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-17 23:58:11,285 - app - INFO - ==============================================================

2025-05-17 23:58:11,889 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:11,890 - app - INFO - 响应时间: 2025-05-17 23:58:11
2025-05-17 23:58:11,891 - app - INFO - 请求耗时: 0.602秒
2025-05-17 23:58:11,891 - app - INFO - 响应状态码: 400
2025-05-17 23:58:11,892 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 424
2025-05-17 23:58:11,892 - app - INFO - ==============================================================

2025-05-17 23:58:11,894 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:11,894 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:11,897 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:11,898 - app - INFO - 请求时间: 2025-05-17 23:58:11
2025-05-17 23:58:11,898 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:11,899 - app - INFO - 请求方法: POST
2025-05-17 23:58:11,899 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:11,900 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:11,901 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:11,905 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-17 23:58:11,905 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-17 23:58:11,909 - app - INFO - ==============================================================

2025-05-17 23:58:12,485 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:12,487 - app - INFO - 响应时间: 2025-05-17 23:58:12
2025-05-17 23:58:12,488 - app - INFO - 请求耗时: 0.576秒
2025-05-17 23:58:12,488 - app - INFO - 响应状态码: 400
2025-05-17 23:58:12,489 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 403
2025-05-17 23:58:12,490 - app - INFO - ==============================================================

2025-05-17 23:58:12,491 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:12,491 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:12,494 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:12,495 - app - INFO - 请求时间: 2025-05-17 23:58:12
2025-05-17 23:58:12,495 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:12,496 - app - INFO - 请求方法: POST
2025-05-17 23:58:12,497 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:12,499 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:12,499 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:12,502 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-17 23:58:12,503 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-17 23:58:12,507 - app - INFO - ==============================================================

2025-05-17 23:58:13,170 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:13,172 - app - INFO - 响应时间: 2025-05-17 23:58:13
2025-05-17 23:58:13,173 - app - INFO - 请求耗时: 0.662秒
2025-05-17 23:58:13,173 - app - INFO - 响应状态码: 400
2025-05-17 23:58:13,174 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 417
2025-05-17 23:58:13,175 - app - INFO - ==============================================================

2025-05-17 23:58:13,176 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:13,176 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:13,179 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:13,180 - app - INFO - 请求时间: 2025-05-17 23:58:13
2025-05-17 23:58:13,181 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:13,182 - app - INFO - 请求方法: POST
2025-05-17 23:58:13,183 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:13,184 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:13,185 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:13,187 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-17 23:58:13,188 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-17 23:58:13,192 - app - INFO - ==============================================================

2025-05-17 23:58:13,868 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:13,870 - app - INFO - 响应时间: 2025-05-17 23:58:13
2025-05-17 23:58:13,870 - app - INFO - 请求耗时: 0.675秒
2025-05-17 23:58:13,871 - app - INFO - 响应状态码: 400
2025-05-17 23:58:13,872 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 418
2025-05-17 23:58:13,872 - app - INFO - ==============================================================

2025-05-17 23:58:13,873 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:13,874 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:13,877 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:13,878 - app - INFO - 请求时间: 2025-05-17 23:58:13
2025-05-17 23:58:13,879 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:13,879 - app - INFO - 请求方法: POST
2025-05-17 23:58:13,880 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:13,884 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:13,886 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:13,888 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-17 23:58:13,889 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-17 23:58:13,893 - app - INFO - ==============================================================

2025-05-17 23:58:14,583 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:14,584 - app - INFO - 响应时间: 2025-05-17 23:58:14
2025-05-17 23:58:14,585 - app - INFO - 请求耗时: 0.690秒
2025-05-17 23:58:14,585 - app - INFO - 响应状态码: 400
2025-05-17 23:58:14,586 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 394
2025-05-17 23:58:14,587 - app - INFO - ==============================================================

2025-05-17 23:58:14,588 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:14,589 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:14,592 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:14,593 - app - INFO - 请求时间: 2025-05-17 23:58:14
2025-05-17 23:58:14,593 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:14,594 - app - INFO - 请求方法: POST
2025-05-17 23:58:14,594 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:14,595 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:14,596 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:14,598 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_18f93fba_1747497488.
2025-05-17 23:58:14,598 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_18f93fba_1747497488."
    }
  ],
  "stream": false
}
2025-05-17 23:58:14,602 - app - INFO - ==============================================================

2025-05-17 23:58:15,180 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:15,181 - app - INFO - 响应时间: 2025-05-17 23:58:15
2025-05-17 23:58:15,181 - app - INFO - 请求耗时: 0.577秒
2025-05-17 23:58:15,182 - app - INFO - 响应状态码: 400
2025-05-17 23:58:15,182 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 444
2025-05-17 23:58:15,183 - app - INFO - ==============================================================

2025-05-17 23:58:15,184 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:15,185 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:15,188 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-17 23:58:15,189 - app - INFO - 请求时间: 2025-05-17 23:58:15
2025-05-17 23:58:15,190 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-17 23:58:15,191 - app - INFO - 请求方法: POST
2025-05-17 23:58:15,191 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-17 23:58:15,192 - app - INFO - 模型: deepseek-chat
2025-05-17 23:58:15,193 - app - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-17 23:58:15,195 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-17 23:58:15,195 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false
}
2025-05-17 23:58:15,199 - app - INFO - ==============================================================

2025-05-17 23:58:15,786 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-17 23:58:15,787 - app - INFO - 响应时间: 2025-05-17 23:58:15
2025-05-17 23:58:15,787 - app - INFO - 请求耗时: 0.587秒
2025-05-17 23:58:15,788 - app - INFO - 响应状态码: 400
2025-05-17 23:58:15,789 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 411
2025-05-17 23:58:15,789 - app - INFO - ==============================================================

2025-05-17 23:58:15,790 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-17 23:58:15,791 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-17 23:58:15,793 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,794 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,794 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,795 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,796 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,796 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,797 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,798 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,798 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,799 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,799 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,800 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,801 - app - INFO - 无错别字 - wrong=false
2025-05-17 23:58:15,801 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-17 23:58:15,803 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 23:58:15] "POST /process HTTP/1.1" 200 -
2025-05-18 00:01:59,710 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:01:59,711 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:01:59,881 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:02:04,030 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:02:04,046 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:02:12,399 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:12] "GET / HTTP/1.1" 200 -
2025-05-18 00:02:12,893 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:02:15,937 - __main__ - INFO - 图片保存路径: static/uploads\paste_b91c39f2_1747497735.png, 标准化后: static/uploads/paste_b91c39f2_1747497735.png
2025-05-18 00:02:15,939 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:15] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:02:15,961 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:15] "GET /static/uploads/paste_b91c39f2_1747497735.png HTTP/1.1" 200 -
2025-05-18 00:02:16,452 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_b91c39f2_1747497735.png, 转换后=static\uploads\paste_b91c39f2_1747497735.png
2025-05-18 00:02:16,454 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_b91c39f2_1747497735.png
2025-05-18 00:02:18,173 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:02:18,173 - __main__ - INFO - 上传响应内容: {"id":"d0kb6245rbs2bc6tp06g","object":"file","bytes":38657,"created_at":1747497736,"filename":"paste_b91c39f2_1747497735.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:02:18,191 - __main__ - INFO - 获取到的文件ID: d0kb6245rbs2bc6tp06g
2025-05-18 00:02:18,191 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb6245rbs2bc6tp06g/content
2025-05-18 00:02:18,397 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:02:18,397 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:02:18,398 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:18,398 - __main__ - INFO - 请求时间: 2025-05-18 00:02:18
2025-05-18 00:02:18,399 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:18,400 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:18,401 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:18,401 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:18,402 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:18,402 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:02:18,403 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:18,404 - __main__ - INFO - ==============================================================

2025-05-18 00:02:18,515 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:18,539 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\api.py', reloading
2025-05-18 00:02:18,565 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\sessions.py', reloading
2025-05-18 00:02:18,569 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\requests\\adapters.py', reloading
2025-05-18 00:02:18,584 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\site-packages\\urllib3\\connectionpool.py', reloading
2025-05-18 00:02:18,790 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:02:23,261 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:02:23,277 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:02:28,220 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:28] "GET /config HTTP/1.1" 200 -
2025-05-18 00:02:29,222 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:02:40,134 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:40] "GET /config HTTP/1.1" 200 -
2025-05-18 00:02:40,157 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:40] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:02:43,067 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:43] "GET / HTTP/1.1" 200 -
2025-05-18 00:02:43,160 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:02:44,877 - __main__ - INFO - 图片保存路径: static/uploads\paste_9873008a_1747497764.png, 标准化后: static/uploads/paste_9873008a_1747497764.png
2025-05-18 00:02:44,878 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:44] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:02:44,899 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:44] "GET /static/uploads/paste_9873008a_1747497764.png HTTP/1.1" 200 -
2025-05-18 00:02:45,397 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_9873008a_1747497764.png, 转换后=static\uploads\paste_9873008a_1747497764.png
2025-05-18 00:02:45,398 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_9873008a_1747497764.png
2025-05-18 00:02:46,692 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:02:46,692 - __main__ - INFO - 上传响应内容: {"id":"d0kb69f37oq66hitugp0","object":"file","bytes":38657,"created_at":1747497765,"filename":"paste_9873008a_1747497764.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:02:46,693 - __main__ - INFO - 获取到的文件ID: d0kb69f37oq66hitugp0
2025-05-18 00:02:46,693 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb69f37oq66hitugp0/content
2025-05-18 00:02:46,890 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:02:46,890 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:02:46,892 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:46,892 - __main__ - INFO - 请求时间: 2025-05-18 00:02:46
2025-05-18 00:02:46,893 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:46,893 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:46,894 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:46,894 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:46,895 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:46,895 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:02:46,896 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:46,897 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,005 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,016 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,017 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,017 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,017 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,018 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,018 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,019 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,019 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,019 - __main__ - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:02:47,020 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,020 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,151 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,154 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,155 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,157 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,158 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,158 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,159 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,159 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,159 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,160 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 00:02:47,160 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,161 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,279 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,283 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,283 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,284 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,284 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,284 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,285 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,285 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,286 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,286 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 00:02:47,287 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,288 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,416 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,419 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,420 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,420 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,420 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,421 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,421 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,422 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,424 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,425 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 00:02:47,426 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,426 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,559 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,563 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,563 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,564 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,564 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,564 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,565 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,565 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,565 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,566 - __main__ - INFO - 检查文本: ","file_type":"image/png","filename":"paste_9873008a_1747497764.
2025-05-18 00:02:47,567 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_9873008a_1747497764."
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,567 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,683 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,686 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,687 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:02:47,687 - __main__ - INFO - 请求时间: 2025-05-18 00:02:47
2025-05-18 00:02:47,688 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:02:47,688 - __main__ - INFO - 请求方法: POST
2025-05-18 00:02:47,689 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:02:47,689 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:02:47,690 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:02:47,691 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:02:47,692 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false
}
2025-05-18 00:02:47,693 - __main__ - INFO - ==============================================================

2025-05-18 00:02:47,871 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:02:47,874 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:02:47,875 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,875 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,876 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,876 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,877 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,877 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,877 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,878 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,878 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,878 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,879 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,879 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,879 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:02:47,880 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:02:47,884 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:02:47] "POST /process HTTP/1.1" 200 -
2025-05-18 00:03:10,107 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:03:10,107 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:03:10,138 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:03:14,065 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:03:14,078 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:03:17,151 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:03:17] "GET / HTTP/1.1" 200 -
2025-05-18 00:03:17,684 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:03:17] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:03:19,971 - __main__ - INFO - 图片保存路径: static/uploads\paste_04fd7cf0_1747497799.png, 标准化后: static/uploads/paste_04fd7cf0_1747497799.png
2025-05-18 00:03:19,972 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:03:19] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:03:19,994 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:03:19] "GET /static/uploads/paste_04fd7cf0_1747497799.png HTTP/1.1" 200 -
2025-05-18 00:03:20,488 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_04fd7cf0_1747497799.png, 转换后=static\uploads\paste_04fd7cf0_1747497799.png
2025-05-18 00:03:20,490 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_04fd7cf0_1747497799.png
2025-05-18 00:03:21,964 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:03:21,964 - __main__ - INFO - 上传响应内容: {"id":"d0kb6i737oq66hituhpg","object":"file","bytes":38657,"created_at":1747497800,"filename":"paste_04fd7cf0_1747497799.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:03:21,965 - __main__ - INFO - 获取到的文件ID: d0kb6i737oq66hituhpg
2025-05-18 00:03:21,965 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb6i737oq66hituhpg/content
2025-05-18 00:03:22,144 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:03:22,144 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:03:22,145 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,146 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,146 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,146 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,147 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,147 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,147 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,148 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:03:22,148 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,148 - __main__ - INFO - ==============================================================

2025-05-18 00:03:22,265 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:22,273 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:22,273 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,274 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,274 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,274 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,274 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,275 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,275 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,275 - __main__ - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:03:22,275 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,276 - __main__ - INFO - ==============================================================

2025-05-18 00:03:22,387 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:22,388 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:22,388 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,388 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,389 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,389 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,389 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,389 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,389 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,390 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 00:03:22,390 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,390 - __main__ - INFO - ==============================================================

2025-05-18 00:03:22,497 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:22,499 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:22,499 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,500 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,500 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,500 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,500 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,500 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,501 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,501 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 00:03:22,501 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,502 - __main__ - INFO - ==============================================================

2025-05-18 00:03:22,604 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:22,606 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:22,606 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,606 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,606 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,606 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,607 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,607 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,607 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,607 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 00:03:22,608 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,608 - __main__ - INFO - ==============================================================

2025-05-18 00:03:22,708 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:22,712 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:22,713 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:22,714 - __main__ - INFO - 请求时间: 2025-05-18 00:03:22
2025-05-18 00:03:22,714 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:22,714 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:22,714 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:22,715 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:22,715 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:22,715 - __main__ - INFO - 检查文本: ","file_type":"image/png","filename":"paste_04fd7cf0_1747497799.
2025-05-18 00:03:22,716 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_04fd7cf0_1747497799."
    }
  ],
  "stream": false
}
2025-05-18 00:03:22,716 - __main__ - INFO - ==============================================================

2025-05-18 00:03:23,038 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:23,040 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:23,040 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:03:23,041 - __main__ - INFO - 请求时间: 2025-05-18 00:03:23
2025-05-18 00:03:23,041 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:03:23,041 - __main__ - INFO - 请求方法: POST
2025-05-18 00:03:23,041 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:03:23,042 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:03:23,042 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:03:23,042 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:03:23,043 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false
}
2025-05-18 00:03:23,043 - __main__ - INFO - ==============================================================

2025-05-18 00:03:23,148 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:03:23,151 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:03:23,152 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,152 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,152 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,152 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,153 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,153 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,153 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,153 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,154 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,154 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,154 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,154 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,155 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:03:23,155 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:03:23,157 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:03:23] "POST /process HTTP/1.1" 200 -
2025-05-18 00:05:02,269 - __main__ - INFO - 准备删除文件: 原始路径=static/uploads/paste_04fd7cf0_1747497799.png, 转换后=static\uploads\paste_04fd7cf0_1747497799.png
2025-05-18 00:05:02,270 - __main__ - INFO - 已删除文件: static\uploads\paste_04fd7cf0_1747497799.png
2025-05-18 00:05:02,271 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:05:02] "POST /delete_image HTTP/1.1" 200 -
2025-05-18 00:05:27,625 - __main__ - INFO - 图片保存路径: static/uploads\paste_6a5a3934_1747497927.png, 标准化后: static/uploads/paste_6a5a3934_1747497927.png
2025-05-18 00:05:27,626 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:05:27] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:05:27,646 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:05:27] "GET /static/uploads/paste_6a5a3934_1747497927.png HTTP/1.1" 200 -
2025-05-18 00:05:28,137 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_6a5a3934_1747497927.png, 转换后=static\uploads\paste_6a5a3934_1747497927.png
2025-05-18 00:05:28,139 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_6a5a3934_1747497927.png
2025-05-18 00:05:29,138 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:05:29,139 - __main__ - INFO - 上传响应内容: {"id":"d0kb7i737oq66hitun2g","object":"file","bytes":58166,"created_at":1747497928,"filename":"paste_6a5a3934_1747497927.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:05:29,139 - __main__ - INFO - 获取到的文件ID: d0kb7i737oq66hitun2g
2025-05-18 00:05:29,139 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb7i737oq66hitun2g/content
2025-05-18 00:05:29,331 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:05:29,332 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 00:05:29,332 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,332 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,333 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,333 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,333 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,334 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,334 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,334 - __main__ - INFO - 检查文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-18 00:05:29,335 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"昨天我去了图书馆，想找一本关于人工智能的数。"
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,336 - __main__ - INFO - ==============================================================

2025-05-18 00:05:29,440 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:29,442 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:29,442 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,442 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,443 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,443 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,443 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,443 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,444 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,444 - __main__ - INFO - 检查文本: 我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。
2025-05-18 00:05:29,444 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的数。"
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,444 - __main__ - INFO - ==============================================================

2025-05-18 00:05:29,540 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:29,542 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:29,543 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,543 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,544 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,544 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,544 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,545 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,545 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,545 - __main__ - INFO - 检查文本: 我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。
2025-05-18 00:05:29,546 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。"
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,547 - __main__ - INFO - ==============================================================

2025-05-18 00:05:29,687 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:29,690 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:29,691 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,692 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,692 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,693 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,693 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,693 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,694 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,694 - __main__ - INFO - 检查文本: 不过，我还是决定借\n回去慢慢研究。
2025-05-18 00:05:29,695 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "不过，我还是决定借\\n回去慢慢研究。"
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,695 - __main__ - INFO - ==============================================================

2025-05-18 00:05:29,802 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:29,806 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:29,808 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,808 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,808 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,808 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,809 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,809 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,809 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,809 - __main__ - INFO - 检查文本: \"","file_type":"image/png","filename":"paste_6a5a3934_1747497927.
2025-05-18 00:05:29,809 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "\\\"\",\"file_type\":\"image/png\",\"filename\":\"paste_6a5a3934_1747497927."
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,809 - __main__ - INFO - ==============================================================

2025-05-18 00:05:29,920 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:29,925 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:29,925 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:05:29,926 - __main__ - INFO - 请求时间: 2025-05-18 00:05:29
2025-05-18 00:05:29,926 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:05:29,926 - __main__ - INFO - 请求方法: POST
2025-05-18 00:05:29,926 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:05:29,927 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:05:29,927 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:05:29,927 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:05:29,928 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false
}
2025-05-18 00:05:29,929 - __main__ - INFO - ==============================================================

2025-05-18 00:05:30,061 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:05:30,063 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:05:30,063 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,064 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,064 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,064 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,065 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,065 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,066 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,066 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,066 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,066 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,067 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:05:30,067 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:05:30,072 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:05:30] "POST /process HTTP/1.1" 200 -
2025-05-18 00:06:04,865 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:06:04,865 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:06:04,896 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:06:08,893 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:06:08,907 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:06:14,807 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:06:14] "GET / HTTP/1.1" 200 -
2025-05-18 00:06:15,317 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:06:15] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:06:17,412 - __main__ - INFO - 图片保存路径: static/uploads\paste_f39eaf00_1747497977.png, 标准化后: static/uploads/paste_f39eaf00_1747497977.png
2025-05-18 00:06:17,413 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:06:17] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:06:17,433 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:06:17] "GET /static/uploads/paste_f39eaf00_1747497977.png HTTP/1.1" 200 -
2025-05-18 00:06:17,931 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_f39eaf00_1747497977.png, 转换后=static\uploads\paste_f39eaf00_1747497977.png
2025-05-18 00:06:17,933 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_f39eaf00_1747497977.png
2025-05-18 00:06:18,943 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:06:18,943 - __main__ - INFO - 上传响应内容: {"id":"d0kb7un37oq66hitup9g","object":"file","bytes":58166,"created_at":1747497978,"filename":"paste_f39eaf00_1747497977.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:06:18,943 - __main__ - INFO - 获取到的文件ID: d0kb7un37oq66hitup9g
2025-05-18 00:06:18,943 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb7un37oq66hitup9g/content
2025-05-18 00:06:19,140 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:06:19,140 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 00:06:19,140 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,141 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,141 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,141 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,141 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,142 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,142 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,142 - __main__ - INFO - 检查文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-18 00:06:19,143 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"昨天我去了图书馆，想找一本关于人工智能的数。"
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,143 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,294 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,303 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,303 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,304 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,304 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,304 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,304 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,305 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,305 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,305 - __main__ - INFO - 检查文本: 我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。
2025-05-18 00:06:19,306 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "我找了半天，终于\\n在书架的角落里找到了一本看起来很专业的数。"
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,306 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,415 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,419 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,419 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,420 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,420 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,420 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,421 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,421 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,421 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,421 - __main__ - INFO - 检查文本: 我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。
2025-05-18 00:06:19,422 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。"
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,422 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,513 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,515 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,516 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,516 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,516 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,517 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,517 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,518 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,518 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,519 - __main__ - INFO - 检查文本: 不过，我还是决定借\n回去慢慢研究。
2025-05-18 00:06:19,520 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "不过，我还是决定借\\n回去慢慢研究。"
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,520 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,622 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,623 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,624 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,624 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,625 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,625 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,625 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,626 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,626 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,626 - __main__ - INFO - 检查文本: \"","file_type":"image/png","filename":"paste_f39eaf00_1747497977.
2025-05-18 00:06:19,627 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "\\\"\",\"file_type\":\"image/png\",\"filename\":\"paste_f39eaf00_1747497977."
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,627 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,739 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,740 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,740 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:06:19,741 - __main__ - INFO - 请求时间: 2025-05-18 00:06:19
2025-05-18 00:06:19,741 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:06:19,741 - __main__ - INFO - 请求方法: POST
2025-05-18 00:06:19,741 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:06:19,741 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:06:19,742 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:06:19,742 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:06:19,743 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false
}
2025-05-18 00:06:19,743 - __main__ - INFO - ==============================================================

2025-05-18 00:06:19,843 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:06:19,846 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 401, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 71-104: Body ('作为一个细致耐心的文字秘书，对下面的句) is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:06:19,847 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,847 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,847 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,847 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,848 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,848 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,848 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,848 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,848 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,849 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,849 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:06:19,849 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:06:19,853 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:06:19] "POST /process HTTP/1.1" 200 -
2025-05-18 00:08:00,097 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:08:00] "GET / HTTP/1.1" 200 -
2025-05-18 00:08:00,857 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:08:00] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:08:02,804 - __main__ - INFO - 图片保存路径: static/uploads\paste_b0c31fea_1747498082.png, 标准化后: static/uploads/paste_b0c31fea_1747498082.png
2025-05-18 00:08:02,805 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:08:02] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:08:02,830 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:08:02] "GET /static/uploads/paste_b0c31fea_1747498082.png HTTP/1.1" 200 -
2025-05-18 00:08:03,328 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_b0c31fea_1747498082.png, 转换后=static\uploads\paste_b0c31fea_1747498082.png
2025-05-18 00:08:03,331 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_b0c31fea_1747498082.png
2025-05-18 00:08:04,607 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:08:04,608 - __main__ - INFO - 上传响应内容: {"id":"d0kb8oq1ol7h6f38k4lg","object":"file","bytes":38657,"created_at":1747498083,"filename":"paste_b0c31fea_1747498082.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:08:04,608 - __main__ - INFO - 获取到的文件ID: d0kb8oq1ol7h6f38k4lg
2025-05-18 00:08:04,608 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb8oq1ol7h6f38k4lg/content
2025-05-18 00:08:04,788 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:08:04,788 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:08:04,885 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:08:04,886 - __main__ - INFO - 请求时间: 2025-05-18 00:08:04
2025-05-18 00:08:04,886 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:08:04,886 - __main__ - INFO - 请求方法: POST
2025-05-18 00:08:04,887 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:08:04,887 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:08:04,887 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:08:04,887 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:08:04,888 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:08:04,888 - __main__ - INFO - ==============================================================

2025-05-18 00:08:18,519 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_vars.py', reloading
2025-05-18 00:08:18,534 - werkzeug - INFO -  * Detected change in 'D:\\pycharm\\PyCharm 2022.3.2\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_utils.py', reloading
2025-05-18 00:08:18,815 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:08:22,374 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:08:22,387 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:09:40,163 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:09:40,163 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:09:40,198 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:09:44,115 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:09:44,129 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:09:58,803 - __main__ - INFO - 准备删除文件: 原始路径=static/uploads/paste_b0c31fea_1747498082.png, 转换后=static\uploads\paste_b0c31fea_1747498082.png
2025-05-18 00:09:58,804 - __main__ - INFO - 已删除文件: static\uploads\paste_b0c31fea_1747498082.png
2025-05-18 00:09:58,806 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:09:58] "POST /delete_image HTTP/1.1" 200 -
2025-05-18 00:10:00,785 - __main__ - INFO - 图片保存路径: static/uploads\paste_746a70e3_1747498200.png, 标准化后: static/uploads/paste_746a70e3_1747498200.png
2025-05-18 00:10:00,787 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:10:00] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:10:01,298 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_746a70e3_1747498200.png, 转换后=static\uploads\paste_746a70e3_1747498200.png
2025-05-18 00:10:01,301 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_746a70e3_1747498200.png
2025-05-18 00:10:01,357 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:10:01] "GET /static/uploads/paste_746a70e3_1747498200.png HTTP/1.1" 200 -
2025-05-18 00:10:02,642 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:10:02,642 - __main__ - INFO - 上传响应内容: {"id":"d0kb9mamisdua6khe9t0","object":"file","bytes":38657,"created_at":1747498201,"filename":"paste_746a70e3_1747498200.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:10:02,643 - __main__ - INFO - 获取到的文件ID: d0kb9mamisdua6khe9t0
2025-05-18 00:10:02,643 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kb9mamisdua6khe9t0/content
2025-05-18 00:10:02,865 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:10:02,866 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:10:02,869 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:10:02,869 - __main__ - INFO - 请求时间: 2025-05-18 00:10:02
2025-05-18 00:10:02,870 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:10:02,870 - __main__ - INFO - 请求方法: POST
2025-05-18 00:10:02,871 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:10:02,871 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:10:02,871 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:10:02,871 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:10:02,872 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:10:02,873 - __main__ - INFO - ==============================================================

2025-05-18 00:13:36,863 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:13:36] "GET / HTTP/1.1" 200 -
2025-05-18 00:13:36,882 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:13:36] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:13:46,072 - __main__ - INFO - 图片保存路径: static/uploads\paste_f321c5b0_1747498426.png, 标准化后: static/uploads/paste_f321c5b0_1747498426.png
2025-05-18 00:13:46,073 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:13:46] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:13:46,102 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:13:46] "GET /static/uploads/paste_f321c5b0_1747498426.png HTTP/1.1" 200 -
2025-05-18 00:13:46,587 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_f321c5b0_1747498426.png, 转换后=static\uploads\paste_f321c5b0_1747498426.png
2025-05-18 00:13:46,589 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_f321c5b0_1747498426.png
2025-05-18 00:13:47,617 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:13:47,617 - __main__ - INFO - 上传响应内容: {"id":"d0kbben37oq66hitvaug","object":"file","bytes":58166,"created_at":1747498426,"filename":"paste_f321c5b0_1747498426.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:13:47,618 - __main__ - INFO - 获取到的文件ID: d0kbben37oq66hitvaug
2025-05-18 00:13:47,618 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbben37oq66hitvaug/content
2025-05-18 00:13:47,894 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:13:47,895 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 00:13:47,896 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:13:47,897 - __main__ - INFO - 请求时间: 2025-05-18 00:13:47
2025-05-18 00:13:47,897 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:13:47,897 - __main__ - INFO - 请求方法: POST
2025-05-18 00:13:47,897 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:13:47,897 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:13:47,898 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:13:47,898 - __main__ - INFO - 检查文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-18 00:13:47,898 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"昨天我去了图书馆，想找一本关于人工智能的数。"
    }
  ],
  "stream": false
}
2025-05-18 00:13:47,898 - __main__ - INFO - ==============================================================

2025-05-18 00:16:34,077 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:16:34,078 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:16:34,125 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:16:37,704 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:16:37,715 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:16:37,859 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:16:37] "GET / HTTP/1.1" 200 -
2025-05-18 00:16:38,312 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:16:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:16:43,822 - __main__ - INFO - 图片保存路径: static/uploads\paste_eafc2dbb_1747498603.png, 标准化后: static/uploads/paste_eafc2dbb_1747498603.png
2025-05-18 00:16:43,823 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:16:43] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:16:43,838 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:16:43] "GET /static/uploads/paste_eafc2dbb_1747498603.png HTTP/1.1" 200 -
2025-05-18 00:16:44,335 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_eafc2dbb_1747498603.png, 转换后=static\uploads\paste_eafc2dbb_1747498603.png
2025-05-18 00:16:44,336 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_eafc2dbb_1747498603.png
2025-05-18 00:16:45,682 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:16:45,682 - __main__ - INFO - 上传响应内容: {"id":"d0kbcr2misdua6khero0","object":"file","bytes":38657,"created_at":1747498604,"filename":"paste_eafc2dbb_1747498603.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:16:45,682 - __main__ - INFO - 获取到的文件ID: d0kbcr2misdua6khero0
2025-05-18 00:16:45,682 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbcr2misdua6khero0/content
2025-05-18 00:16:45,852 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:16:45,853 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:16:45,855 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:16:45,856 - __main__ - INFO - 请求时间: 2025-05-18 00:16:45
2025-05-18 00:16:45,856 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:16:45,856 - __main__ - INFO - 请求方法: POST
2025-05-18 00:16:45,857 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:16:45,857 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:16:45,857 - __main__ - INFO - 系统提示词: 作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：
{
"content_0":"原始句子",
"wrong":true,//是否有需要被修正的错别字，布尔类型
"annotation":"",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值
"content_1":""//修改后的句子，string类型。如果wrong为false则留空
}
2025-05-18 00:16:45,858 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:16:45,859 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，按如下结构以 JOSN 格式输出：\n{\n\"content_0\":\"原始句子\",\n\"wrong\":true,//是否有需要被修正的错别字，布尔类型\n\"annotation\":\"\",//批注内容，string类型。如果wrong为true给出修正的解释；如果 wrong 字段为 false，则为空值\n\"content_1\":\"\"//修改后的句子，string类型。如果wrong为false则留空\n}"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:16:45,859 - __main__ - INFO - ==============================================================

2025-05-18 00:20:59,085 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:20:59,085 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:20:59,118 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:21:03,233 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:21:03,247 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:21:04,808 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:21:04] "GET / HTTP/1.1" 200 -
2025-05-18 00:21:05,228 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:21:05] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:21:14,898 - __main__ - INFO - 图片保存路径: static/uploads\paste_63f8bae7_1747498874.png, 标准化后: static/uploads/paste_63f8bae7_1747498874.png
2025-05-18 00:21:14,900 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:21:14] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:21:14,917 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:21:14] "GET /static/uploads/paste_63f8bae7_1747498874.png HTTP/1.1" 200 -
2025-05-18 00:21:15,411 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_63f8bae7_1747498874.png, 转换后=static\uploads\paste_63f8bae7_1747498874.png
2025-05-18 00:21:15,413 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_63f8bae7_1747498874.png
2025-05-18 00:21:16,756 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:21:16,757 - __main__ - INFO - 上传响应内容: {"id":"d0kbeuq1ol7h6f38l7d0","object":"file","bytes":38657,"created_at":1747498875,"filename":"paste_63f8bae7_1747498874.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:21:16,757 - __main__ - INFO - 获取到的文件ID: d0kbeuq1ol7h6f38l7d0
2025-05-18 00:21:16,757 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbeuq1ol7h6f38l7d0/content
2025-05-18 00:21:16,956 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:21:16,956 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:21:16,958 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:21:16,958 - __main__ - INFO - 请求时间: 2025-05-18 00:21:16
2025-05-18 00:21:16,958 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:21:16,958 - __main__ - INFO - 请求方法: POST
2025-05-18 00:21:16,959 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:21:16,959 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:21:16,959 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:21:16,959 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:21:16,960 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false
}
2025-05-18 00:21:16,960 - __main__ - INFO - ==============================================================

2025-05-18 00:21:29,184 - __main__ - ERROR - 处理错误: 'latin-1' codec can't encode characters in position 73-75: Body ('角色：') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.
2025-05-18 00:21:32,136 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 394, in call_text_check_api
    response = requests.post(api_url, headers=headers, data=json.dumps(data, ensure_ascii=False))
  File "D:\python3.9\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\python3.9\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\python3.9\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "D:\python3.9\lib\site-packages\urllib3\connectionpool.py", line 398, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\python3.9\lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "D:\python3.9\lib\http\client.py", line 1285, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\python3.9\lib\http\client.py", line 1330, in _send_request
    body = _encode(body, 'body')
  File "D:\python3.9\lib\http\client.py", line 168, in _encode
    raise UnicodeEncodeError(
UnicodeEncodeError: 'latin-1' codec can't encode characters in position 73-75: Body ('角色：') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.

2025-05-18 00:22:15,840 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:22:15,841 - __main__ - INFO - 请求时间: 2025-05-18 00:22:15
2025-05-18 00:22:15,841 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:22:15,842 - __main__ - INFO - 请求方法: POST
2025-05-18 00:22:15,843 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:22:15,843 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:22:15,843 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:22:15,843 - __main__ - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:22:15,844 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false
}
2025-05-18 00:22:15,845 - __main__ - INFO - ==============================================================

2025-05-18 00:23:54,803 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:23:54,805 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:23:54,806 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:23:55,233 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:24:00,718 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:24:00,736 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:24:51,505 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:24:51,506 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:24:51,507 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:24:52,796 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:25:00,358 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:25:00,358 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:25:00,380 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:25:03,399 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:25:03,410 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:25:14,944 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:25:14] "GET / HTTP/1.1" 200 -
2025-05-18 00:25:15,446 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:25:15] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:25:21,356 - __main__ - INFO - 图片保存路径: static/uploads\paste_6812436d_1747499121.png, 标准化后: static/uploads/paste_6812436d_1747499121.png
2025-05-18 00:25:21,358 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:25:21] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:25:21,378 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:25:21] "GET /static/uploads/paste_6812436d_1747499121.png HTTP/1.1" 200 -
2025-05-18 00:25:21,870 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_6812436d_1747499121.png, 转换后=static\uploads\paste_6812436d_1747499121.png
2025-05-18 00:25:21,872 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_6812436d_1747499121.png
2025-05-18 00:25:22,823 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:25:22,823 - __main__ - INFO - 上传响应内容: {"id":"d0kbgsimisdua6khfhq0","object":"file","bytes":58166,"created_at":1747499122,"filename":"paste_6812436d_1747499121.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:25:22,824 - __main__ - INFO - 获取到的文件ID: d0kbgsimisdua6khfhq0
2025-05-18 00:25:22,824 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbgsimisdua6khfhq0/content
2025-05-18 00:25:23,027 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:25:23,028 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 00:25:23,029 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:25:23] "POST /process HTTP/1.1" 200 -
2025-05-18 00:28:28,018 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:28:28,020 - werkzeug - INFO -  * Detected change in 'D:\\tupian\\app.py', reloading
2025-05-18 00:28:29,608 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:28:35,736 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:28:35,737 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:28:35,760 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:28:38,705 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:28:38,716 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:28:42,045 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:28:42] "GET / HTTP/1.1" 200 -
2025-05-18 00:28:42,474 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:28:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:28:50,867 - __main__ - INFO - 图片保存路径: static/uploads\paste_553740cd_1747499330.png, 标准化后: static/uploads/paste_553740cd_1747499330.png
2025-05-18 00:28:50,869 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:28:50] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:28:50,890 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:28:50] "GET /static/uploads/paste_553740cd_1747499330.png HTTP/1.1" 200 -
2025-05-18 00:28:51,386 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_553740cd_1747499330.png, 转换后=static\uploads\paste_553740cd_1747499330.png
2025-05-18 00:28:51,388 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_553740cd_1747499330.png
2025-05-18 00:28:52,566 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:28:52,567 - __main__ - INFO - 上传响应内容: {"id":"d0kbigs5rbs2bc6tqv0g","object":"file","bytes":58166,"created_at":1747499331,"filename":"paste_553740cd_1747499330.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:28:52,567 - __main__ - INFO - 获取到的文件ID: d0kbigs5rbs2bc6tqv0g
2025-05-18 00:28:52,567 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbigs5rbs2bc6tqv0g/content
2025-05-18 00:28:52,773 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:28:52,773 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 00:28:52,775 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,775 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,776 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,776 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,777 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,778 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,778 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,778 - __main__ - INFO - 检查文本: {"content":"昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-18 00:28:52,779 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,870 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\json\\__init__.py', reloading
2025-05-18 00:28:52,883 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,884 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,885 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,885 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,885 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,886 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,886 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,886 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,886 - __main__ - INFO - 检查文本: 我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。
2025-05-18 00:28:52,887 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,887 - werkzeug - INFO -  * Detected change in 'D:\\python3.9\\Lib\\json\\encoder.py', reloading
2025-05-18 00:28:52,888 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,889 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,889 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,889 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,890 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,890 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,890 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,890 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,891 - __main__ - INFO - 检查文本: 我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。
2025-05-18 00:28:52,891 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,892 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,892 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,892 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,893 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,893 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,894 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,894 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,895 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,895 - __main__ - INFO - 检查文本: 不过，我还是决定借\n回去慢慢研究。
2025-05-18 00:28:52,895 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,897 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,898 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,898 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,898 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,898 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,899 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,899 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,899 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,899 - __main__ - INFO - 检查文本: \"","file_type":"image/png","filename":"paste_553740cd_1747499330.
2025-05-18 00:28:52,900 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,900 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,901 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:28:52,901 - __main__ - INFO - 请求时间: 2025-05-18 00:28:52
2025-05-18 00:28:52,901 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:28:52,901 - __main__ - INFO - 请求方法: POST
2025-05-18 00:28:52,901 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:28:52,902 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:28:52,902 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:28:52,902 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:28:52,902 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:28:52,903 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:28:52,903 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,903 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,903 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,904 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,904 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,904 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,904 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,904 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,905 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,905 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,905 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:28:52,906 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:28:52,908 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:28:52] "POST /process HTTP/1.1" 200 -
2025-05-18 00:28:53,351 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:28:57,018 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:28:57,031 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:35:20,270 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:35:20] "GET / HTTP/1.1" 200 -
2025-05-18 00:35:21,305 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:35:21] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:35:28,959 - __main__ - INFO - 图片保存路径: static/uploads\paste_dc48d179_1747499728.png, 标准化后: static/uploads/paste_dc48d179_1747499728.png
2025-05-18 00:35:28,961 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:35:28] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:35:28,980 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:35:28] "GET /static/uploads/paste_dc48d179_1747499728.png HTTP/1.1" 200 -
2025-05-18 00:35:29,476 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_dc48d179_1747499728.png, 转换后=static\uploads\paste_dc48d179_1747499728.png
2025-05-18 00:35:29,478 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_dc48d179_1747499728.png
2025-05-18 00:35:30,922 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:35:30,923 - __main__ - INFO - 上传响应内容: {"id":"d0kblkf37oq66hiu0m5g","object":"file","bytes":38657,"created_at":1747499729,"filename":"paste_dc48d179_1747499728.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:35:30,923 - __main__ - INFO - 获取到的文件ID: d0kblkf37oq66hiu0m5g
2025-05-18 00:35:30,923 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kblkf37oq66hiu0m5g/content
2025-05-18 00:35:31,118 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:35:31,119 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:35:31,120 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,120 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,121 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,121 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,121 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,122 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,122 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,122 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:35:31,122 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,127 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,128 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,129 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,129 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,130 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,130 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,131 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,131 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,131 - __main__ - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:35:31,131 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,132 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,133 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,133 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,133 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,133 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,134 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,134 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,134 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,134 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 00:35:31,135 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,136 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,136 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,137 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,137 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,137 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,138 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,138 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,138 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,138 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 00:35:31,139 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,140 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,140 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,140 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,140 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,140 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,141 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,141 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,142 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,142 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 00:35:31,143 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,145 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,146 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,148 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,148 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,148 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,149 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,149 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,149 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,149 - __main__ - INFO - 检查文本: ","file_type":"image/png","filename":"paste_dc48d179_1747499728.
2025-05-18 00:35:31,149 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,150 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,151 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:35:31,151 - __main__ - INFO - 请求时间: 2025-05-18 00:35:31
2025-05-18 00:35:31,151 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:35:31,151 - __main__ - INFO - 请求方法: POST
2025-05-18 00:35:31,152 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:35:31,152 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:35:31,152 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:35:31,152 - __main__ - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:35:31,153 - __main__ - ERROR - 处理错误: Object of type bytes is not JSON serializable
2025-05-18 00:35:31,154 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\tupian\app.py", line 390, in call_text_check_api
    _log_api_request(api_url, headers, model, system_prompt, text, json_data)
  File "D:\tupian\app.py", line 442, in _log_api_request
    logger.info(f"请求体: {json.dumps(data, ensure_ascii=False, indent=2)}")
  File "D:\python3.9\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "D:\python3.9\lib\json\encoder.py", line 201, in encode
    chunks = list(chunks)
  File "D:\python3.9\lib\json\encoder.py", line 438, in _iterencode
    o = _default(o)
  File "D:\python3.9\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

2025-05-18 00:35:31,154 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,154 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,154 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,155 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,155 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,155 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,155 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,156 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,156 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,156 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,156 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,157 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,157 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 00:35:31,157 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:35:31,161 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:35:31] "POST /process HTTP/1.1" 200 -
2025-05-18 00:36:53,749 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:36:53] "GET / HTTP/1.1" 200 -
2025-05-18 00:36:53,767 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:36:53] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:36:56,457 - __main__ - INFO - 图片保存路径: static/uploads\paste_57dd3147_1747499816.png, 标准化后: static/uploads/paste_57dd3147_1747499816.png
2025-05-18 00:36:56,459 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:36:56] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:36:56,476 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:36:56] "GET /static/uploads/paste_57dd3147_1747499816.png HTTP/1.1" 200 -
2025-05-18 00:36:56,983 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_57dd3147_1747499816.png, 转换后=static\uploads\paste_57dd3147_1747499816.png
2025-05-18 00:36:56,985 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_57dd3147_1747499816.png
2025-05-18 00:36:58,255 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:36:58,255 - __main__ - INFO - 上传响应内容: {"id":"d0kbmaamisdua6khfvq0","object":"file","bytes":38657,"created_at":1747499817,"filename":"paste_57dd3147_1747499816.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:36:58,255 - __main__ - INFO - 获取到的文件ID: d0kbmaamisdua6khfvq0
2025-05-18 00:36:58,256 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbmaamisdua6khfvq0/content
2025-05-18 00:36:58,441 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:36:58,442 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:40:22,939 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:42:34,875 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:42:34,875 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:42:34,912 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:42:38,696 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:42:38,711 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:42:38,887 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:42:38] "GET / HTTP/1.1" 200 -
2025-05-18 00:42:39,460 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:42:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:42:55,798 - __main__ - INFO - 图片保存路径: static/uploads\paste_c9e43dfd_1747500175.png, 标准化后: static/uploads/paste_c9e43dfd_1747500175.png
2025-05-18 00:42:55,799 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:42:55] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:42:55,820 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:42:55] "GET /static/uploads/paste_c9e43dfd_1747500175.png HTTP/1.1" 200 -
2025-05-18 00:42:56,313 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_c9e43dfd_1747500175.png, 转换后=static\uploads\paste_c9e43dfd_1747500175.png
2025-05-18 00:42:56,314 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_c9e43dfd_1747500175.png
2025-05-18 00:42:57,640 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:42:57,640 - __main__ - INFO - 上传响应内容: {"id":"d0kbp42misdua6khg860","object":"file","bytes":38657,"created_at":1747500176,"filename":"paste_c9e43dfd_1747500175.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:42:57,640 - __main__ - INFO - 获取到的文件ID: d0kbp42misdua6khg860
2025-05-18 00:42:57,641 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbp42misdua6khg860/content
2025-05-18 00:42:57,840 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:42:57,840 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:43:33,807 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:43:37,325 - __main__ - INFO - 请求时间: 2025-05-18 00:43:37
2025-05-18 00:43:38,730 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:43:39,320 - __main__ - INFO - 请求方法: POST
2025-05-18 00:43:45,953 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:43:46,544 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:43:47,995 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:43:49,553 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:43:50,161 - __main__ - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"{\\\"content\\\":\\\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}], \"stream\": false}"
2025-05-18 00:43:52,321 - __main__ - INFO - ==============================================================

2025-05-18 00:45:54,071 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:45:54,071 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:45:54,094 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:45:57,531 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:45:57,543 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:46:06,435 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:46:06] "GET / HTTP/1.1" 200 -
2025-05-18 00:46:06,974 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:46:06] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:46:18,680 - __main__ - INFO - 图片保存路径: static/uploads\paste_5f886298_1747500378.png, 标准化后: static/uploads/paste_5f886298_1747500378.png
2025-05-18 00:46:18,682 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:46:18] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:46:18,703 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:46:18] "GET /static/uploads/paste_5f886298_1747500378.png HTTP/1.1" 200 -
2025-05-18 00:46:19,194 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_5f886298_1747500378.png, 转换后=static\uploads\paste_5f886298_1747500378.png
2025-05-18 00:46:19,195 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_5f886298_1747500378.png
2025-05-18 00:46:20,544 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:46:20,544 - __main__ - INFO - 上传响应内容: {"id":"d0kbqmv37oq66hiu15kg","object":"file","bytes":38657,"created_at":1747500379,"filename":"paste_5f886298_1747500378.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:46:20,545 - __main__ - INFO - 获取到的文件ID: d0kbqmv37oq66hiu15kg
2025-05-18 00:46:20,545 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbqmv37oq66hiu15kg/content
2025-05-18 00:46:20,749 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:46:20,749 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:46:29,152 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:46:30,385 - __main__ - INFO - 请求时间: 2025-05-18 00:46:30
2025-05-18 00:46:30,848 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:46:31,159 - __main__ - INFO - 请求方法: POST
2025-05-18 00:46:35,183 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:46:35,434 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:46:36,120 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:46:37,725 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:46:38,211 - __main__ - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"{\\\"content\\\":\\\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}], \"stream\": false}"
2025-05-18 00:46:38,662 - __main__ - INFO - ==============================================================

2025-05-18 00:50:57,324 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:50:57,324 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:50:57,346 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 00:51:01,574 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 00:51:01,590 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 00:51:03,320 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:51:03] "GET / HTTP/1.1" 200 -
2025-05-18 00:51:03,841 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:51:03] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:51:12,994 - __main__ - INFO - 图片保存路径: static/uploads\paste_5a4bca37_1747500672.png, 标准化后: static/uploads/paste_5a4bca37_1747500672.png
2025-05-18 00:51:12,995 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:51:12] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:51:13,015 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:51:13] "GET /static/uploads/paste_5a4bca37_1747500672.png HTTP/1.1" 200 -
2025-05-18 00:51:13,508 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_5a4bca37_1747500672.png, 转换后=static\uploads\paste_5a4bca37_1747500672.png
2025-05-18 00:51:13,509 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_5a4bca37_1747500672.png
2025-05-18 00:51:14,869 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 00:51:14,870 - __main__ - INFO - 上传响应内容: {"id":"d0kbt0c5rbs2bc6trtig","object":"file","bytes":38657,"created_at":1747500673,"filename":"paste_5a4bca37_1747500672.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:51:14,870 - __main__ - INFO - 获取到的文件ID: d0kbt0c5rbs2bc6trtig
2025-05-18 00:51:14,870 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbt0c5rbs2bc6trtig/content
2025-05-18 00:51:15,043 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 00:51:15,044 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:51:23,511 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:51:24,385 - __main__ - INFO - 请求时间: 2025-05-18 00:51:24
2025-05-18 00:51:24,711 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:51:25,304 - __main__ - INFO - 请求方法: POST
2025-05-18 00:51:28,472 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:51:28,958 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 00:51:29,413 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:51:29,740 - __main__ - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:51:30,287 - __main__ - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"{\\\"content\\\":\\\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}], \"stream\": false}"
2025-05-18 00:51:30,692 - __main__ - INFO - ==============================================================

2025-05-18 00:55:54,736 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:55:54,737 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:56:11,732 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:56:11] "GET / HTTP/1.1" 200 -
2025-05-18 00:56:11,899 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:56:11] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:56:22,625 - app - INFO - 图片保存路径: static/uploads\paste_5fe9c2f1_1747500982.png, 标准化后: static/uploads/paste_5fe9c2f1_1747500982.png
2025-05-18 00:56:22,627 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:56:22] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:56:22,652 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:56:22] "GET /static/uploads/paste_5fe9c2f1_1747500982.png HTTP/1.1" 200 -
2025-05-18 00:56:23,137 - app - INFO - 处理图片路径: 原始=static/uploads/paste_5fe9c2f1_1747500982.png, 转换后=static\uploads\paste_5fe9c2f1_1747500982.png
2025-05-18 00:56:23,139 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_5fe9c2f1_1747500982.png
2025-05-18 00:56:24,936 - app - INFO - 上传响应状态码: 200
2025-05-18 00:56:24,937 - app - INFO - 上传响应内容: {"id":"d0kbvdq1ol7h6f38mr5g","object":"file","bytes":38657,"created_at":1747500983,"filename":"paste_5fe9c2f1_1747500982.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:56:24,939 - app - INFO - 获取到的文件ID: d0kbvdq1ol7h6f38mr5g
2025-05-18 00:56:24,939 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kbvdq1ol7h6f38mr5g/content
2025-05-18 00:56:25,775 - app - INFO - 内容响应状态码: 200
2025-05-18 00:56:25,776 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:56:25,783 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:25,784 - app - INFO - 请求时间: 2025-05-18 00:56:25
2025-05-18 00:56:25,785 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:25,786 - app - INFO - 请求方法: POST
2025-05-18 00:56:25,786 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:25,788 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:25,788 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:25,791 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:56:25,792 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"{\\\"content\\\":\\\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}], \"stream\": false}"
2025-05-18 00:56:25,795 - app - INFO - ==============================================================

2025-05-18 00:56:26,484 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:26,485 - app - INFO - 响应时间: 2025-05-18 00:56:26
2025-05-18 00:56:26,486 - app - INFO - 请求耗时: 0.687秒
2025-05-18 00:56:26,486 - app - INFO - 响应状态码: 400
2025-05-18 00:56:26,487 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 571
2025-05-18 00:56:26,488 - app - INFO - ==============================================================

2025-05-18 00:56:26,489 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:26,489 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:26,492 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:26,493 - app - INFO - 请求时间: 2025-05-18 00:56:26
2025-05-18 00:56:26,493 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:26,494 - app - INFO - 请求方法: POST
2025-05-18 00:56:26,495 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:26,496 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:26,496 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:26,499 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:56:26,499 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"由于最近工作压力大，\\\\n我经常感到头昏脑胀，睡眠质量也很差。\"}], \"stream\": false}"
2025-05-18 00:56:26,502 - app - INFO - ==============================================================

2025-05-18 00:56:27,178 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:27,179 - app - INFO - 响应时间: 2025-05-18 00:56:27
2025-05-18 00:56:27,180 - app - INFO - 请求耗时: 0.675秒
2025-05-18 00:56:27,180 - app - INFO - 响应状态码: 400
2025-05-18 00:56:27,181 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 550
2025-05-18 00:56:27,182 - app - INFO - ==============================================================

2025-05-18 00:56:27,183 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:27,183 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:27,188 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:27,189 - app - INFO - 请求时间: 2025-05-18 00:56:27
2025-05-18 00:56:27,189 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:27,190 - app - INFO - 请求方法: POST
2025-05-18 00:56:27,191 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:27,192 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:27,193 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:27,196 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 00:56:27,196 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\\\n提醒我携带生份证和医保卡。\"}], \"stream\": false}"
2025-05-18 00:56:27,199 - app - INFO - ==============================================================

2025-05-18 00:56:27,821 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:27,822 - app - INFO - 响应时间: 2025-05-18 00:56:27
2025-05-18 00:56:27,822 - app - INFO - 请求耗时: 0.621秒
2025-05-18 00:56:27,823 - app - INFO - 响应状态码: 400
2025-05-18 00:56:27,823 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 564
2025-05-18 00:56:27,824 - app - INFO - ==============================================================

2025-05-18 00:56:27,825 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:27,825 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:27,828 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:27,829 - app - INFO - 请求时间: 2025-05-18 00:56:27
2025-05-18 00:56:27,830 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:27,830 - app - INFO - 请求方法: POST
2025-05-18 00:56:27,831 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:27,832 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:27,833 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:27,835 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 00:56:27,836 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\\\n定遵询医生的建议。\"}], \"stream\": false}"
2025-05-18 00:56:27,839 - app - INFO - ==============================================================

2025-05-18 00:56:28,368 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:28,369 - app - INFO - 响应时间: 2025-05-18 00:56:28
2025-05-18 00:56:28,370 - app - INFO - 请求耗时: 0.529秒
2025-05-18 00:56:28,370 - app - INFO - 响应状态码: 400
2025-05-18 00:56:28,371 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 565
2025-05-18 00:56:28,371 - app - INFO - ==============================================================

2025-05-18 00:56:28,372 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:28,373 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:28,376 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:28,377 - app - INFO - 请求时间: 2025-05-18 00:56:28
2025-05-18 00:56:28,377 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:28,378 - app - INFO - 请求方法: POST
2025-05-18 00:56:28,378 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:28,379 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:28,380 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:28,383 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 00:56:28,385 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"报告要三天后才能取到，希望不会有什么大问题。\"}], \"stream\": false}"
2025-05-18 00:56:28,388 - app - INFO - ==============================================================

2025-05-18 00:56:28,974 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:28,975 - app - INFO - 响应时间: 2025-05-18 00:56:28
2025-05-18 00:56:28,975 - app - INFO - 请求耗时: 0.585秒
2025-05-18 00:56:28,976 - app - INFO - 响应状态码: 400
2025-05-18 00:56:28,976 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 541
2025-05-18 00:56:28,977 - app - INFO - ==============================================================

2025-05-18 00:56:28,978 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:28,979 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:28,981 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:28,983 - app - INFO - 请求时间: 2025-05-18 00:56:28
2025-05-18 00:56:28,983 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:28,984 - app - INFO - 请求方法: POST
2025-05-18 00:56:28,984 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:28,986 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:28,986 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:28,989 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_5fe9c2f1_1747500982.
2025-05-18 00:56:28,990 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"\\\",\\\"file_type\\\":\\\"image/png\\\",\\\"filename\\\":\\\"paste_5fe9c2f1_1747500982.\"}], \"stream\": false}"
2025-05-18 00:56:28,993 - app - INFO - ==============================================================

2025-05-18 00:56:29,539 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:29,539 - app - INFO - 响应时间: 2025-05-18 00:56:29
2025-05-18 00:56:29,540 - app - INFO - 请求耗时: 0.544秒
2025-05-18 00:56:29,540 - app - INFO - 响应状态码: 400
2025-05-18 00:56:29,541 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 591
2025-05-18 00:56:29,542 - app - INFO - ==============================================================

2025-05-18 00:56:29,543 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:29,543 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:29,546 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:56:29,547 - app - INFO - 请求时间: 2025-05-18 00:56:29
2025-05-18 00:56:29,548 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:56:29,549 - app - INFO - 请求方法: POST
2025-05-18 00:56:29,549 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:56:29,550 - app - INFO - 模型: deepseek-chat
2025-05-18 00:56:29,551 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:56:29,553 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 00:56:29,554 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"\\\"# 角色：\\\\r\\\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\\\r\\\\n## 输出json格式:\\\\r\\\\n '''\\\\r\\\\n{\\\\r\\\\n  \\\\\\\"content_0\\\\\\\": \\\\\\\"原始句子\\\\\\\",  # 原始句子\\\\r\\\\n  \\\\\\\"wrong\\\\\\\": true,            # 是否有需要被修正的错别字，布尔类型\\\\r\\\\n  \\\\\\\"annotation\\\\\\\": \\\\\\\"\\\\\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\\\r\\\\n  \\\\\\\"content_1\\\\\\\": \\\\\\\"\\\\\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\\\r\\\\n}\\\\r\\\\n'''\\\"\"}, {\"role\": \"user\", \"content\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\"}], \"stream\": false}"
2025-05-18 00:56:29,556 - app - INFO - ==============================================================

2025-05-18 00:56:30,105 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:56:30,106 - app - INFO - 响应时间: 2025-05-18 00:56:30
2025-05-18 00:56:30,106 - app - INFO - 请求耗时: 0.548秒
2025-05-18 00:56:30,107 - app - INFO - 响应状态码: 400
2025-05-18 00:56:30,107 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 558
2025-05-18 00:56:30,108 - app - INFO - ==============================================================

2025-05-18 00:56:30,109 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:56:30,109 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:56:30,113 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,113 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,114 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,114 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,115 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,116 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,117 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,117 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,118 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,119 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,119 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,120 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,121 - app - INFO - 无错别字 - wrong=false
2025-05-18 00:56:30,122 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 00:56:30,123 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:56:30] "POST /process HTTP/1.1" 200 -
2025-05-18 00:59:37,325 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 00:59:37,326 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 00:59:47,938 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:59:47] "GET / HTTP/1.1" 200 -
2025-05-18 00:59:48,102 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:59:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 00:59:54,583 - app - INFO - 图片保存路径: static/uploads\paste_b52a8fbe_1747501194.png, 标准化后: static/uploads/paste_b52a8fbe_1747501194.png
2025-05-18 00:59:54,585 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:59:54] "POST /paste HTTP/1.1" 200 -
2025-05-18 00:59:54,604 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 00:59:54] "GET /static/uploads/paste_b52a8fbe_1747501194.png HTTP/1.1" 200 -
2025-05-18 00:59:55,108 - app - INFO - 处理图片路径: 原始=static/uploads/paste_b52a8fbe_1747501194.png, 转换后=static\uploads\paste_b52a8fbe_1747501194.png
2025-05-18 00:59:55,110 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_b52a8fbe_1747501194.png
2025-05-18 00:59:56,865 - app - INFO - 上传响应状态码: 200
2025-05-18 00:59:56,865 - app - INFO - 上传响应内容: {"id":"d0kc12q1ol7h6f38mv5g","object":"file","bytes":38657,"created_at":1747501195,"filename":"paste_b52a8fbe_1747501194.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 00:59:56,866 - app - INFO - 获取到的文件ID: d0kc12q1ol7h6f38mv5g
2025-05-18 00:59:56,867 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kc12q1ol7h6f38mv5g/content
2025-05-18 00:59:57,593 - app - INFO - 内容响应状态码: 200
2025-05-18 00:59:57,594 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 00:59:57,601 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:59:57,602 - app - INFO - 请求时间: 2025-05-18 00:59:57
2025-05-18 00:59:57,602 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:59:57,603 - app - INFO - 请求方法: POST
2025-05-18 00:59:57,604 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:59:57,605 - app - INFO - 模型: deepseek-chat
2025-05-18 00:59:57,605 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:59:57,608 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 00:59:57,609 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"{\\\"content\\\":\\\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\"}], \"stream\": false}"
2025-05-18 00:59:57,612 - app - INFO - ==============================================================

2025-05-18 00:59:58,268 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:59:58,269 - app - INFO - 响应时间: 2025-05-18 00:59:58
2025-05-18 00:59:58,269 - app - INFO - 请求耗时: 0.655秒
2025-05-18 00:59:58,270 - app - INFO - 响应状态码: 400
2025-05-18 00:59:58,270 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 519
2025-05-18 00:59:58,271 - app - INFO - ==============================================================

2025-05-18 00:59:58,272 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:59:58,273 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:59:58,277 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:59:58,277 - app - INFO - 请求时间: 2025-05-18 00:59:58
2025-05-18 00:59:58,278 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:59:58,280 - app - INFO - 请求方法: POST
2025-05-18 00:59:58,282 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:59:58,284 - app - INFO - 模型: deepseek-chat
2025-05-18 00:59:58,285 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:59:58,293 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 00:59:58,294 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"由于最近工作压力大，\\\\n我经常感到头昏脑胀，睡眠质量也很差。\"}], \"stream\": false}"
2025-05-18 00:59:58,304 - app - INFO - ==============================================================

2025-05-18 00:59:58,943 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:59:58,944 - app - INFO - 响应时间: 2025-05-18 00:59:58
2025-05-18 00:59:58,945 - app - INFO - 请求耗时: 0.638秒
2025-05-18 00:59:58,945 - app - INFO - 响应状态码: 400
2025-05-18 00:59:58,946 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 498
2025-05-18 00:59:58,947 - app - INFO - ==============================================================

2025-05-18 00:59:58,948 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:59:58,948 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:59:58,951 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:59:58,952 - app - INFO - 请求时间: 2025-05-18 00:59:58
2025-05-18 00:59:58,953 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:59:58,953 - app - INFO - 请求方法: POST
2025-05-18 00:59:58,954 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:59:58,955 - app - INFO - 模型: deepseek-chat
2025-05-18 00:59:58,956 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:59:58,958 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 00:59:58,959 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\\\n提醒我携带生份证和医保卡。\"}], \"stream\": false}"
2025-05-18 00:59:58,961 - app - INFO - ==============================================================

2025-05-18 00:59:59,602 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 00:59:59,603 - app - INFO - 响应时间: 2025-05-18 00:59:59
2025-05-18 00:59:59,604 - app - INFO - 请求耗时: 0.640秒
2025-05-18 00:59:59,604 - app - INFO - 响应状态码: 400
2025-05-18 00:59:59,605 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 512
2025-05-18 00:59:59,605 - app - INFO - ==============================================================

2025-05-18 00:59:59,605 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 00:59:59,606 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 00:59:59,609 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 00:59:59,610 - app - INFO - 请求时间: 2025-05-18 00:59:59
2025-05-18 00:59:59,610 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 00:59:59,611 - app - INFO - 请求方法: POST
2025-05-18 00:59:59,611 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 00:59:59,612 - app - INFO - 模型: deepseek-chat
2025-05-18 00:59:59,612 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 00:59:59,615 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 00:59:59,616 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\\\n定遵询医生的建议。\"}], \"stream\": false}"
2025-05-18 00:59:59,618 - app - INFO - ==============================================================

2025-05-18 01:00:00,216 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:00:00,217 - app - INFO - 响应时间: 2025-05-18 01:00:00
2025-05-18 01:00:00,218 - app - INFO - 请求耗时: 0.595秒
2025-05-18 01:00:00,218 - app - INFO - 响应状态码: 400
2025-05-18 01:00:00,219 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 513
2025-05-18 01:00:00,219 - app - INFO - ==============================================================

2025-05-18 01:00:00,220 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 01:00:00,221 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 01:00:00,223 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:00:00,224 - app - INFO - 请求时间: 2025-05-18 01:00:00
2025-05-18 01:00:00,225 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:00:00,225 - app - INFO - 请求方法: POST
2025-05-18 01:00:00,226 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:00:00,227 - app - INFO - 模型: deepseek-chat
2025-05-18 01:00:00,228 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:00:00,231 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 01:00:00,231 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"报告要三天后才能取到，希望不会有什么大问题。\"}], \"stream\": false}"
2025-05-18 01:00:00,233 - app - INFO - ==============================================================

2025-05-18 01:00:00,829 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:00:00,830 - app - INFO - 响应时间: 2025-05-18 01:00:00
2025-05-18 01:00:00,831 - app - INFO - 请求耗时: 0.594秒
2025-05-18 01:00:00,831 - app - INFO - 响应状态码: 400
2025-05-18 01:00:00,832 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 489
2025-05-18 01:00:00,833 - app - INFO - ==============================================================

2025-05-18 01:00:00,833 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 01:00:00,834 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 01:00:00,836 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:00:00,837 - app - INFO - 请求时间: 2025-05-18 01:00:00
2025-05-18 01:00:00,838 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:00:00,838 - app - INFO - 请求方法: POST
2025-05-18 01:00:00,839 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:00:00,840 - app - INFO - 模型: deepseek-chat
2025-05-18 01:00:00,841 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:00:00,843 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_b52a8fbe_1747501194.
2025-05-18 01:00:00,844 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"\\\",\\\"file_type\\\":\\\"image/png\\\",\\\"filename\\\":\\\"paste_b52a8fbe_1747501194.\"}], \"stream\": false}"
2025-05-18 01:00:00,846 - app - INFO - ==============================================================

2025-05-18 01:00:01,464 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:00:01,465 - app - INFO - 响应时间: 2025-05-18 01:00:01
2025-05-18 01:00:01,465 - app - INFO - 请求耗时: 0.617秒
2025-05-18 01:00:01,466 - app - INFO - 响应状态码: 400
2025-05-18 01:00:01,466 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 539
2025-05-18 01:00:01,467 - app - INFO - ==============================================================

2025-05-18 01:00:01,468 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 01:00:01,468 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 01:00:01,470 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:00:01,471 - app - INFO - 请求时间: 2025-05-18 01:00:01
2025-05-18 01:00:01,472 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:00:01,472 - app - INFO - 请求方法: POST
2025-05-18 01:00:01,473 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:00:01,474 - app - INFO - 模型: deepseek-chat
2025-05-18 01:00:01,474 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:00:01,477 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 01:00:01,478 - app - INFO - 请求体: "{\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"system\", \"content\": \"# 角色：\\r\\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\\r\\n## 输出json格式:\\r\\n '''\\r\\n{\\r\\n  \\\"content_0\\\": \\\"原始句子\\\",  # 原始句子\\r\\n  \\\"wrong\\\": true,            # 是否有需要被修正的错别字，布尔类型\\r\\n  \\\"annotation\\\": \\\"\\\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\\r\\n  \\\"content_1\\\": \\\"\\\"           # 修改后的句子，string类型。如果wrong为false则留空\\r\\n}\\r\\n'''\"}, {\"role\": \"user\", \"content\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\"}], \"stream\": false}"
2025-05-18 01:00:01,479 - app - INFO - ==============================================================

2025-05-18 01:00:02,091 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:00:02,092 - app - INFO - 响应时间: 2025-05-18 01:00:02
2025-05-18 01:00:02,093 - app - INFO - 请求耗时: 0.611秒
2025-05-18 01:00:02,093 - app - INFO - 响应状态码: 400
2025-05-18 01:00:02,094 - app - INFO - 响应内容: Failed to parse the request body as JSON: messages[0].content: EOF while parsing a string at line 1 column 506
2025-05-18 01:00:02,094 - app - INFO - ==============================================================

2025-05-18 01:00:02,095 - app - ERROR - 错误: API请求格式不正确(400)
2025-05-18 01:00:02,096 - app - ERROR - 解决方案: 请检查API参数和模型名称是否正确
2025-05-18 01:00:02,099 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,099 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,100 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,100 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,101 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,102 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,102 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,103 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,103 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,104 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,105 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,105 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,106 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:00:02,106 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:00:02,107 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:00:02] "POST /process HTTP/1.1" 200 -
2025-05-18 01:02:15,063 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 01:02:15,064 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 01:02:19,905 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:02:19] "GET / HTTP/1.1" 200 -
2025-05-18 01:02:20,072 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:02:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 01:02:28,438 - app - INFO - 图片保存路径: static/uploads\paste_5ee3251e_1747501348.png, 标准化后: static/uploads/paste_5ee3251e_1747501348.png
2025-05-18 01:02:28,440 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:02:28] "POST /paste HTTP/1.1" 200 -
2025-05-18 01:02:28,470 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:02:28] "GET /static/uploads/paste_5ee3251e_1747501348.png HTTP/1.1" 200 -
2025-05-18 01:02:28,961 - app - INFO - 处理图片路径: 原始=static/uploads/paste_5ee3251e_1747501348.png, 转换后=static\uploads\paste_5ee3251e_1747501348.png
2025-05-18 01:02:28,963 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_5ee3251e_1747501348.png
2025-05-18 01:02:30,740 - app - INFO - 上传响应状态码: 200
2025-05-18 01:02:30,740 - app - INFO - 上传响应内容: {"id":"d0kc29amisdua6khh2k0","object":"file","bytes":38657,"created_at":1747501349,"filename":"paste_5ee3251e_1747501348.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 01:02:30,741 - app - INFO - 获取到的文件ID: d0kc29amisdua6khh2k0
2025-05-18 01:02:30,742 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kc29amisdua6khh2k0/content
2025-05-18 01:02:31,369 - app - INFO - 内容响应状态码: 200
2025-05-18 01:02:31,370 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 01:02:31,376 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:02:31,376 - app - INFO - 请求时间: 2025-05-18 01:02:31
2025-05-18 01:02:31,377 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:31,378 - app - INFO - 请求方法: POST
2025-05-18 01:02:31,378 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:02:31,380 - app - INFO - 模型: deepseek-chat
2025-05-18 01:02:31,380 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:02:31,383 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 01:02:31,384 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:02:31,389 - app - INFO - ==============================================================

2025-05-18 01:02:37,601 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:37,602 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:02:37,603 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:02:37,605 - app - INFO - Response Status: 200
2025-05-18 01:02:37,606 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:02:31 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=e3049859241cd80c00; path=/, HWWAFSESTIME=1747501349782; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'bf35938f6f1606c8bb273dcfe96a2646', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:02:37,608 - app - INFO - Response Body: {"id":"0c3a691c-2199-44b5-8750-2737f5808ac5","object":"chat.completion","created":1747501351,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:37,611 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:02:37,612 - app - INFO - 响应时间: 2025-05-18 01:02:37
2025-05-18 01:02:37,612 - app - INFO - 请求耗时: 6.221秒
2025-05-18 01:02:37,613 - app - INFO - 响应状态码: 200
2025-05-18 01:02:37,614 - app - INFO - 响应内容(前500字符): {"id":"0c3a691c-2199-44b5-8750-2737f5808ac5","object":"chat.completion","created":1747501351,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-18 01:02:37,615 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:37,617 - app - INFO - 响应内容长度: 599字符
2025-05-18 01:02:37,618 - app - INFO - ==============================================================

2025-05-18 01:02:37,619 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:02:37,622 - app - INFO - 成功解析为JSON: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:02:37,623 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:02:37,628 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:02:37,630 - app - INFO - 请求时间: 2025-05-18 01:02:37
2025-05-18 01:02:37,631 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:37,631 - app - INFO - 请求方法: POST
2025-05-18 01:02:37,633 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:02:37,634 - app - INFO - 模型: deepseek-chat
2025-05-18 01:02:37,634 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:02:37,637 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 01:02:37,638 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:02:37,644 - app - INFO - ==============================================================

2025-05-18 01:02:44,190 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:44,191 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:02:44,192 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:02:44,194 - app - INFO - Response Status: 200
2025-05-18 01:02:44,195 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:02:38 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=7a11c85689a3f0cd2a; path=/, HWWAFSESTIME=1747501354971; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '576869a7eefdf74a8a5cdf01e44e00bd', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:02:44,197 - app - INFO - Response Body: {"id":"eff2d70d-b436-46be-a1d3-7820a1b8d39d","object":"chat.completion","created":1747501358,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":53,"total_tokens":222,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:44,199 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:02:44,199 - app - INFO - 响应时间: 2025-05-18 01:02:44
2025-05-18 01:02:44,200 - app - INFO - 请求耗时: 6.551秒
2025-05-18 01:02:44,200 - app - INFO - 响应状态码: 200
2025-05-18 01:02:44,201 - app - INFO - 响应内容(前500字符): {"id":"eff2d70d-b436-46be-a1d3-7820a1b8d39d","object":"chat.completion","created":1747501358,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":53,"total_tokens":222,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-18 01:02:44,202 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":53,"total_tokens":222,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:44,204 - app - INFO - 响应内容长度: 593字符
2025-05-18 01:02:44,204 - app - INFO - ==============================================================

2025-05-18 01:02:44,205 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:02:44,208 - app - INFO - 成功解析为JSON: {'content_0': '由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:02:44,209 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:02:44,211 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:02:44,212 - app - INFO - 请求时间: 2025-05-18 01:02:44
2025-05-18 01:02:44,213 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:44,213 - app - INFO - 请求方法: POST
2025-05-18 01:02:44,214 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:02:44,215 - app - INFO - 模型: deepseek-chat
2025-05-18 01:02:44,216 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:02:44,219 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 01:02:44,219 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:02:44,224 - app - INFO - ==============================================================

2025-05-18 01:02:52,878 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:52,879 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:02:52,880 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:02:52,882 - app - INFO - Response Status: 200
2025-05-18 01:02:52,884 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:02:44 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=8dbca85e746355b5ab; path=/, HWWAFSESTIME=1747501360018; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'd50d9152b6df07ca4c00701914fefdc8', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:02:52,886 - app - INFO - Response Body: {"id":"7837315f-d011-412d-838b-12014b82816f","object":"chat.completion","created":1747501364,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":111,"total_tokens":287,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:52,888 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:02:52,888 - app - INFO - 响应时间: 2025-05-18 01:02:52
2025-05-18 01:02:52,889 - app - INFO - 请求耗时: 8.663秒
2025-05-18 01:02:52,890 - app - INFO - 响应状态码: 200
2025-05-18 01:02:52,890 - app - INFO - 响应内容(前500字符): {"id":"7837315f-d011-412d-838b-12014b82816f","object":"chat.completion","created":1747501364,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens...
2025-05-18 01:02:52,893 - app - INFO - 响应内容(后500字符): ...``json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":111,"total_tokens":287,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:02:52,895 - app - INFO - 响应内容长度: 681字符
2025-05-18 01:02:52,896 - app - INFO - ==============================================================

2025-05-18 01:02:52,897 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-18 01:02:52,901 - app - INFO - 成功解析为JSON: {'content_0': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。', 'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:02:52,902 - app - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:02:52,906 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:02:52,907 - app - INFO - 请求时间: 2025-05-18 01:02:52
2025-05-18 01:02:52,908 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:02:52,909 - app - INFO - 请求方法: POST
2025-05-18 01:02:52,909 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:02:52,910 - app - INFO - 模型: deepseek-chat
2025-05-18 01:02:52,911 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:02:52,914 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 01:02:52,915 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:02:52,920 - app - INFO - ==============================================================

2025-05-18 01:03:04,469 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:04,470 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:03:04,470 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:03:04,472 - app - INFO - Response Status: 200
2025-05-18 01:03:04,473 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:02:53 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=672ed88d507112780c; path=/, HWWAFSESTIME=1747501370426; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'dd854b24cd8cc655769f6f15d724b450', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:03:04,475 - app - INFO - Response Body: {"id":"48196bc1-1cc3-4d7a-a178-f60a294674e6","object":"chat.completion","created":1747501373,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":124,"total_tokens":299,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:04,477 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:03:04,478 - app - INFO - 响应时间: 2025-05-18 01:03:04
2025-05-18 01:03:04,478 - app - INFO - 请求耗时: 11.556秒
2025-05-18 01:03:04,479 - app - INFO - 响应状态码: 200
2025-05-18 01:03:04,479 - app - INFO - 响应内容(前500字符): {"id":"48196bc1-1cc3-4d7a-a178-f60a294674e6","object":"chat.completion","created":1747501373,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":17...
2025-05-18 01:03:04,481 - app - INFO - 响应内容(后500字符): ...nt_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":124,"total_tokens":299,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:04,483 - app - INFO - 响应内容长度: 701字符
2025-05-18 01:03:04,484 - app - INFO - ==============================================================

2025-05-18 01:03:04,484 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-18 01:03:04,487 - app - INFO - 成功解析为JSON: {'content_0': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。', 'wrong': True, 'annotation': "句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:03:04,488 - app - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:03:04,491 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:03:04,492 - app - INFO - 请求时间: 2025-05-18 01:03:04
2025-05-18 01:03:04,492 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:04,493 - app - INFO - 请求方法: POST
2025-05-18 01:03:04,493 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:03:04,494 - app - INFO - 模型: deepseek-chat
2025-05-18 01:03:04,495 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:03:04,497 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 01:03:04,498 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:03:04,502 - app - INFO - ==============================================================

2025-05-18 01:03:22,867 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:22,868 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:03:22,870 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "报告要三天后才能取到，希望不会有什么大问题。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:03:22,873 - app - INFO - Response Status: 200
2025-05-18 01:03:22,874 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:03:05 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=e57838267e576d4fdb; path=/, HWWAFSESTIME=1747501382130; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '51a5072a18244b7983030b9fe9611eb6', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:03:22,876 - app - INFO - Response Body: {"id":"2269b18e-55d4-4304-882e-ecb7ebafaff5","object":"chat.completion","created":1747501385,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:22,878 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:03:22,879 - app - INFO - 响应时间: 2025-05-18 01:03:22
2025-05-18 01:03:22,880 - app - INFO - 请求耗时: 18.374秒
2025-05-18 01:03:22,880 - app - INFO - 响应状态码: 200
2025-05-18 01:03:22,881 - app - INFO - 响应内容(前500字符): {"id":"2269b18e-55d4-4304-882e-ecb7ebafaff5","object":"chat.completion","created":1747501385,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-18 01:03:22,882 - app - INFO - 响应内容(后500字符): ...47501385,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:22,884 - app - INFO - 响应内容长度: 584字符
2025-05-18 01:03:22,885 - app - INFO - ==============================================================

2025-05-18 01:03:22,885 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:03:22,888 - app - INFO - 成功解析为JSON: {'content_0': '报告要三天后才能取到，希望不会有什么大问题。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:03:22,888 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:03:22,891 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:03:22,892 - app - INFO - 请求时间: 2025-05-18 01:03:22
2025-05-18 01:03:22,892 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:22,893 - app - INFO - 请求方法: POST
2025-05-18 01:03:22,894 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:03:22,896 - app - INFO - 模型: deepseek-chat
2025-05-18 01:03:22,897 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:03:22,900 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_5ee3251e_1747501348.
2025-05-18 01:03:22,900 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_5ee3251e_1747501348."
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:03:22,905 - app - INFO - ==============================================================

2025-05-18 01:03:31,040 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:31,041 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:03:31,042 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_5ee3251e_1747501348."}], "stream": false, "max_tokens": 1024}
2025-05-18 01:03:31,044 - app - INFO - Response Status: 200
2025-05-18 01:03:31,045 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:03:23 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=e0c9e7c5f12ff2cdfb; path=/, HWWAFSESTIME=1747501402441; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'd3fdeb0af7d2faf7a49a9f50a1ba415a', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:03:31,047 - app - INFO - Response Body: {"id":"cdeeb0a9-dcf3-41c6-a9b3-106e9d98fb6b","object":"chat.completion","created":1747501403,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_5ee3251e_1747501348.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":43},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:31,049 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:03:31,050 - app - INFO - 响应时间: 2025-05-18 01:03:31
2025-05-18 01:03:31,050 - app - INFO - 请求耗时: 8.145秒
2025-05-18 01:03:31,051 - app - INFO - 响应状态码: 200
2025-05-18 01:03:31,051 - app - INFO - 响应内容(前500字符): {"id":"cdeeb0a9-dcf3-41c6-a9b3-106e9d98fb6b","object":"chat.completion","created":1747501403,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_5ee3251e_1747501348.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details...
2025-05-18 01:03:31,053 - app - INFO - 响应内容(后500字符): ...x":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_5ee3251e_1747501348.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":43},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:03:31,055 - app - INFO - 响应内容长度: 634字符
2025-05-18 01:03:31,055 - app - INFO - ==============================================================

2025-05-18 01:03:31,056 - app - INFO - 助手回复: ```json
{
  "content_0": "","file_type":"image/png","filename":"paste_5ee3251e_1747501348.",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:03:31,058 - app - INFO - 成功解析为JSON: {'content_0': '', 'file_type': 'image/png', 'filename': 'paste_5ee3251e_1747501348.', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:03:31,059 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:03:31,063 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:03:31,064 - app - INFO - 请求时间: 2025-05-18 01:03:31
2025-05-18 01:03:31,065 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:03:31,066 - app - INFO - 请求方法: POST
2025-05-18 01:03:31,066 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:03:31,067 - app - INFO - 模型: deepseek-chat
2025-05-18 01:03:31,068 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:03:31,071 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 01:03:31,072 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:03:31,076 - app - INFO - ==============================================================

2025-05-18 01:04:04,854 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:04:04,855 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:04:04,855 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "png\",\"title\":\"\",\"type\":\"file\"}"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:04:04,858 - app - INFO - Response Status: 200
2025-05-18 01:04:04,858 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:03:31 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=5ecc07c4c0be8135c7; path=/, HWWAFSESTIME=1747501408579; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '1b93ce6ec5f9a4a8bb7249bb826d4ac9', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:04:04,860 - app - INFO - Response Body: {"id":"a9065ddf-71e4-49d3-ba57-5415aff445b0","object":"chat.completion","created":1747501411,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:04:04,862 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:04:04,863 - app - INFO - 响应时间: 2025-05-18 01:04:04
2025-05-18 01:04:04,864 - app - INFO - 请求耗时: 33.785秒
2025-05-18 01:04:04,864 - app - INFO - 响应状态码: 200
2025-05-18 01:04:04,865 - app - INFO - 响应内容(前500字符): {"id":"a9065ddf-71e4-49d3-ba57-5415aff445b0","object":"chat.completion","created":1747501411,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_toke...
2025-05-18 01:04:04,866 - app - INFO - 响应内容(后500字符): ...hoices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:04:04,868 - app - INFO - 响应内容长度: 619字符
2025-05-18 01:04:04,869 - app - INFO - ==============================================================

2025-05-18 01:04:04,870 - app - INFO - 助手回复: ```json
{
  "content_0": "png\",\"title\":\"\",\"type\":\"file\"}",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:04:04,872 - app - INFO - 成功解析为JSON: {'content_0': 'png","title":"","type":"file"}', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:04:04,872 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:04:04,876 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:04:04,877 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:04:04,878 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:04:04,879 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:04:04,879 - app - INFO - 检测到错别字 - wrong=true: 句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。
2025-05-18 01:04:04,881 - app - INFO - 句子处理: wrong=True, typo_text=句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。, suggestion=医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-18 01:04:04,881 - app - INFO - 检测到错别字 - wrong=true: 句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。
2025-05-18 01:04:04,882 - app - INFO - 句子处理: wrong=True, typo_text=句子中的'遵询'应为'遵循'，'遵询'是错别字。'遵循'意为遵照、依从，而'询'意为询问，用在此处不合适。, suggestion=缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-18 01:04:04,883 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:04:04,884 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:04:04,885 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:04:04,885 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:04:04,886 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:04:04,886 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:04:04,888 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:04:04] "POST /process HTTP/1.1" 200 -
2025-05-18 01:14:24,695 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 01:14:24,696 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 01:14:39,754 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:14:39] "GET / HTTP/1.1" 200 -
2025-05-18 01:14:39,919 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:14:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 01:14:42,221 - app - INFO - 图片保存路径: static/uploads\paste_ca047a5c_1747502082.png, 标准化后: static/uploads/paste_ca047a5c_1747502082.png
2025-05-18 01:14:42,223 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:14:42] "POST /paste HTTP/1.1" 200 -
2025-05-18 01:14:42,243 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:14:42] "GET /static/uploads/paste_ca047a5c_1747502082.png HTTP/1.1" 200 -
2025-05-18 01:14:42,743 - app - INFO - 处理图片路径: 原始=static/uploads/paste_ca047a5c_1747502082.png, 转换后=static\uploads\paste_ca047a5c_1747502082.png
2025-05-18 01:14:42,745 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_ca047a5c_1747502082.png
2025-05-18 01:14:44,517 - app - INFO - 上传响应状态码: 200
2025-05-18 01:14:44,517 - app - INFO - 上传响应内容: {"id":"d0kc80s5rbs2bc6tteog","object":"file","bytes":38657,"created_at":1747502083,"filename":"paste_ca047a5c_1747502082.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 01:14:44,518 - app - INFO - 获取到的文件ID: d0kc80s5rbs2bc6tteog
2025-05-18 01:14:44,519 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kc80s5rbs2bc6tteog/content
2025-05-18 01:14:45,146 - app - INFO - 内容响应状态码: 200
2025-05-18 01:14:45,147 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 01:14:45,154 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:14:45,155 - app - INFO - 请求时间: 2025-05-18 01:14:45
2025-05-18 01:14:45,156 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:14:45,156 - app - INFO - 请求方法: POST
2025-05-18 01:14:45,157 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:14:45,158 - app - INFO - 模型: deepseek-chat
2025-05-18 01:14:45,158 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:14:45,161 - app - INFO - 检查文本: {"content":"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 01:14:45,162 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:14:45,168 - app - INFO - ==============================================================

2025-05-18 01:14:51,517 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:14:51,518 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:14:51,519 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "{\"content\":\"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:14:51,521 - app - INFO - Response Status: 200
2025-05-18 01:14:51,521 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:14:45 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=9ea187683eca2785b1; path=/, HWWAFSESTIME=1747502085249; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '0c75ffd0431d75e52f571c6d52310ee8', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:14:51,523 - app - INFO - Response Body: {"id":"0a103660-a4b5-4c55-a437-6170950f0541","object":"chat.completion","created":1747502085,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:14:51,525 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:14:51,526 - app - INFO - 响应时间: 2025-05-18 01:14:51
2025-05-18 01:14:51,529 - app - INFO - 请求耗时: 6.356秒
2025-05-18 01:14:51,529 - app - INFO - 响应状态码: 200
2025-05-18 01:14:51,530 - app - INFO - 响应内容(前500字符): {"id":"0a103660-a4b5-4c55-a437-6170950f0541","object":"chat.completion","created":1747502085,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-18 01:14:51,531 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":50,"total_tokens":219,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:14:51,532 - app - INFO - 响应内容长度: 599字符
2025-05-18 01:14:51,533 - app - INFO - ==============================================================

2025-05-18 01:14:51,533 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:14:51,535 - app - INFO - 成功解析为JSON: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:14:51,536 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:14:51,540 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:14:51,540 - app - INFO - 请求时间: 2025-05-18 01:14:51
2025-05-18 01:14:51,541 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:14:51,541 - app - INFO - 请求方法: POST
2025-05-18 01:14:51,542 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:14:51,543 - app - INFO - 模型: deepseek-chat
2025-05-18 01:14:51,544 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:14:51,547 - app - INFO - 检查文本: 由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 01:14:51,547 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:14:51,551 - app - INFO - ==============================================================

2025-05-18 01:14:59,997 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:14:59,998 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:14:59,999 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:00,001 - app - INFO - Response Status: 200
2025-05-18 01:15:00,001 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:14:52 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=2dd297ffb0f23000b2; path=/, HWWAFSESTIME=1747502090377; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'eede5720ad85fc2a44884e55a41c80ae', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:00,003 - app - INFO - Response Body: {"id":"7dc5dd28-2351-431a-b40a-e47e48d95557","object":"chat.completion","created":1747502092,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": true,\n  \"annotation\": \"“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。\",\n  \"content_1\": \"由于最近工作压力大，\\n我经常感到头昏脑涨，睡眠质量也很差。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":98,"total_tokens":267,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:00,005 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:00,006 - app - INFO - 响应时间: 2025-05-18 01:15:00
2025-05-18 01:15:00,006 - app - INFO - 请求耗时: 8.454秒
2025-05-18 01:15:00,006 - app - INFO - 响应状态码: 200
2025-05-18 01:15:00,007 - app - INFO - 响应内容(前500字符): {"id":"7dc5dd28-2351-431a-b40a-e47e48d95557","object":"chat.completion","created":1747502092,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": true,\n  \"annotation\": \"“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。\",\n  \"content_1\": \"由于最近工作压力大，\\n我经常感到头昏脑涨，睡眠质量也很差。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":98,"total_tokens":267,"prom...
2025-05-18 01:15:00,009 - app - INFO - 响应内容(后500字符): ...role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": true,\n  \"annotation\": \"“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。\",\n  \"content_1\": \"由于最近工作压力大，\\n我经常感到头昏脑涨，睡眠质量也很差。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":169,"completion_tokens":98,"total_tokens":267,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":41},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:00,012 - app - INFO - 响应内容长度: 651字符
2025-05-18 01:15:00,012 - app - INFO - ==============================================================

2025-05-18 01:15:00,012 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": true,
  "annotation": "“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。",
  "content_1": "由于最近工作压力大，\n我经常感到头昏脑涨，睡眠质量也很差。"
}
```
2025-05-18 01:15:00,106 - app - INFO - 成功解析为JSON: {'content_0': '由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。', 'wrong': True, 'annotation': '“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。', 'content_1': '由于最近工作压力大，\n我经常感到头昏脑涨，睡眠质量也很差。'}
2025-05-18 01:15:00,106 - app - INFO - 处理结果: {'wrong': True, 'annotation': '“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。', 'content_1': '由于最近工作压力大，\n我经常感到头昏脑涨，睡眠质量也很差。'}
2025-05-18 01:15:00,111 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:15:00,112 - app - INFO - 请求时间: 2025-05-18 01:15:00
2025-05-18 01:15:00,112 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:00,113 - app - INFO - 请求方法: POST
2025-05-18 01:15:00,114 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:15:00,115 - app - INFO - 模型: deepseek-chat
2025-05-18 01:15:00,115 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:15:00,118 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。
2025-05-18 01:15:00,118 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:15:00,123 - app - INFO - ==============================================================

2025-05-18 01:15:09,305 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:09,306 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:15:09,306 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\\n提醒我携带生份证和医保卡。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:09,309 - app - INFO - Response Status: 200
2025-05-18 01:15:09,309 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:15:00 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=9afd797d8c1cd62bd8; path=/, HWWAFSESTIME=1747502096131; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '142545141345b8cb6282794fcf859701', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:09,312 - app - INFO - Response Body: {"id":"b53f1d70-d1b7-436b-82a5-0e6bf9fb7c76","object":"chat.completion","created":1747502100,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":114,"total_tokens":290,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:09,315 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:09,315 - app - INFO - 响应时间: 2025-05-18 01:15:09
2025-05-18 01:15:09,316 - app - INFO - 请求耗时: 9.191秒
2025-05-18 01:15:09,316 - app - INFO - 响应状态码: 200
2025-05-18 01:15:09,317 - app - INFO - 响应内容(前500字符): {"id":"b53f1d70-d1b7-436b-82a5-0e6bf9fb7c76","object":"chat.completion","created":1747502100,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens...
2025-05-18 01:15:09,319 - app - INFO - 响应内容(后500字符): ...``json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":114,"total_tokens":290,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:09,322 - app - INFO - 响应内容长度: 681字符
2025-05-18 01:15:09,323 - app - INFO - ==============================================================

2025-05-18 01:15:09,324 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-18 01:15:09,327 - app - INFO - 成功解析为JSON: {'content_0': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。', 'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:15:09,328 - app - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:15:09,331 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:15:09,332 - app - INFO - 请求时间: 2025-05-18 01:15:09
2025-05-18 01:15:09,333 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:09,334 - app - INFO - 请求方法: POST
2025-05-18 01:15:09,334 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:15:09,336 - app - INFO - 模型: deepseek-chat
2025-05-18 01:15:09,336 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:15:09,340 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。
2025-05-18 01:15:09,340 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:15:09,345 - app - INFO - ==============================================================

2025-05-18 01:15:18,081 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:18,082 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:15:18,083 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\n定遵询医生的建议。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:18,085 - app - INFO - Response Status: 200
2025-05-18 01:15:18,086 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:15:10 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=9898279bfa4abece67; path=/, HWWAFSESTIME=1747502108545; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '5384041cb94b816ce359dc4e25badb77', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:18,088 - app - INFO - Response Body: {"id":"70124adf-e631-4ef6-a451-8f00e8f300ac","object":"chat.completion","created":1747502110,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\nd定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":115,"total_tokens":290,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:18,090 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:18,091 - app - INFO - 响应时间: 2025-05-18 01:15:18
2025-05-18 01:15:18,092 - app - INFO - 请求耗时: 8.744秒
2025-05-18 01:15:18,092 - app - INFO - 响应状态码: 200
2025-05-18 01:15:18,093 - app - INFO - 响应内容(前500字符): {"id":"70124adf-e631-4ef6-a451-8f00e8f300ac","object":"chat.completion","created":1747502110,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\nd定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"compl...
2025-05-18 01:15:18,095 - app - INFO - 响应内容(后500字符): ... \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\\nd定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":115,"total_tokens":290,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:18,096 - app - INFO - 响应内容长度: 693字符
2025-05-18 01:15:18,097 - app - INFO - ==============================================================

2025-05-18 01:15:18,098 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\nd定遵询医生的建议。",
  "wrong": true,
  "annotation": "句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-18 01:15:18,102 - app - INFO - 成功解析为JSON: {'content_0': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\nd定遵询医生的建议。', 'wrong': True, 'annotation': "句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:15:18,103 - app - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:15:18,106 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:15:18,107 - app - INFO - 请求时间: 2025-05-18 01:15:18
2025-05-18 01:15:18,108 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:18,109 - app - INFO - 请求方法: POST
2025-05-18 01:15:18,109 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:15:18,111 - app - INFO - 模型: deepseek-chat
2025-05-18 01:15:18,111 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:15:18,115 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 01:15:18,116 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:15:18,121 - app - INFO - ==============================================================

2025-05-18 01:15:24,708 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:24,710 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:15:24,710 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "报告要三天后才能取到，希望不会有什么大问题。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:24,713 - app - INFO - Response Status: 200
2025-05-18 01:15:24,713 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:15:18 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=644b18b3aaf2d62df8; path=/, HWWAFSESTIME=1747502115665; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '9dc37b213c5a1655be0c83d9e4df1414', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:24,716 - app - INFO - Response Body: {"id":"d2e74c4a-69c6-4ded-b2c3-eff82d315c88","object":"chat.completion","created":1747502118,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:24,717 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:24,718 - app - INFO - 响应时间: 2025-05-18 01:15:24
2025-05-18 01:15:24,719 - app - INFO - 请求耗时: 6.595秒
2025-05-18 01:15:24,719 - app - INFO - 响应状态码: 200
2025-05-18 01:15:24,720 - app - INFO - 响应内容(前500字符): {"id":"d2e74c4a-69c6-4ded-b2c3-eff82d315c88","object":"chat.completion","created":1747502118,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-18 01:15:24,722 - app - INFO - 响应内容(后500字符): ...47502118,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:24,724 - app - INFO - 响应内容长度: 584字符
2025-05-18 01:15:24,724 - app - INFO - ==============================================================

2025-05-18 01:15:24,725 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:15:24,727 - app - INFO - 成功解析为JSON: {'content_0': '报告要三天后才能取到，希望不会有什么大问题。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:15:24,728 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:15:24,730 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:15:24,731 - app - INFO - 请求时间: 2025-05-18 01:15:24
2025-05-18 01:15:24,732 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:24,733 - app - INFO - 请求方法: POST
2025-05-18 01:15:24,733 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:15:24,734 - app - INFO - 模型: deepseek-chat
2025-05-18 01:15:24,735 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:15:24,738 - app - INFO - 检查文本: ","file_type":"image/png","filename":"paste_ca047a5c_1747502082.
2025-05-18 01:15:24,739 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_ca047a5c_1747502082."
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:15:24,744 - app - INFO - ==============================================================

2025-05-18 01:15:32,882 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:32,883 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:15:32,884 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "\",\"file_type\":\"image/png\",\"filename\":\"paste_ca047a5c_1747502082."}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:32,887 - app - INFO - Response Status: 200
2025-05-18 01:15:32,887 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:15:25 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=818c288204b72dc8d2; path=/, HWWAFSESTIME=1747502120798; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '6685359a72a2e0f741e5f078f259cd20', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:32,889 - app - INFO - Response Body: {"id":"9ecd0592-991f-46a2-b920-2aec8bccc713","object":"chat.completion","created":1747502125,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_ca047a5c_1747502082.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":43},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:32,892 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:32,892 - app - INFO - 响应时间: 2025-05-18 01:15:32
2025-05-18 01:15:32,893 - app - INFO - 请求耗时: 8.146秒
2025-05-18 01:15:32,893 - app - INFO - 响应状态码: 200
2025-05-18 01:15:32,894 - app - INFO - 响应内容(前500字符): {"id":"9ecd0592-991f-46a2-b920-2aec8bccc713","object":"chat.completion","created":1747502125,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_ca047a5c_1747502082.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details...
2025-05-18 01:15:32,896 - app - INFO - 响应内容(后500字符): ...x":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\"file_type\":\"image/png\",\"filename\":\"paste_ca047a5c_1747502082.\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":171,"completion_tokens":54,"total_tokens":225,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":43},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:32,897 - app - INFO - 响应内容长度: 634字符
2025-05-18 01:15:32,898 - app - INFO - ==============================================================

2025-05-18 01:15:32,899 - app - INFO - 助手回复: ```json
{
  "content_0": "","file_type":"image/png","filename":"paste_ca047a5c_1747502082.",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:15:32,901 - app - INFO - 成功解析为JSON: {'content_0': '', 'file_type': 'image/png', 'filename': 'paste_ca047a5c_1747502082.', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:15:32,902 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:15:32,905 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:15:32,907 - app - INFO - 请求时间: 2025-05-18 01:15:32
2025-05-18 01:15:32,907 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:32,908 - app - INFO - 请求方法: POST
2025-05-18 01:15:32,909 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:15:32,910 - app - INFO - 模型: deepseek-chat
2025-05-18 01:15:32,910 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:15:32,913 - app - INFO - 检查文本: png","title":"","type":"file"}
2025-05-18 01:15:32,914 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "png\",\"title\":\"\",\"type\":\"file\"}"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:15:32,919 - app - INFO - ==============================================================

2025-05-18 01:15:41,116 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:15:41,117 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:15:41,118 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "png\",\"title\":\"\",\"type\":\"file\"}"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:15:41,121 - app - INFO - Response Status: 200
2025-05-18 01:15:41,121 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:15:33 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=ec8f48826973e9ffad; path=/, HWWAFSESTIME=1747502131963; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'd6c8b79062a9001fc3b635f278811f3b', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:15:41,123 - app - INFO - Response Body: {"id":"cee19e41-9d80-4d4f-9564-eb36a47cbbdf","object":"chat.completion","created":1747502133,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:41,125 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:15:41,126 - app - INFO - 响应时间: 2025-05-18 01:15:41
2025-05-18 01:15:41,126 - app - INFO - 请求耗时: 8.205秒
2025-05-18 01:15:41,127 - app - INFO - 响应状态码: 200
2025-05-18 01:15:41,127 - app - INFO - 响应内容(前500字符): {"id":"cee19e41-9d80-4d4f-9564-eb36a47cbbdf","object":"chat.completion","created":1747502133,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_toke...
2025-05-18 01:15:41,129 - app - INFO - 响应内容(后500字符): ...hoices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"png\\\",\\\"title\\\":\\\"\\\",\\\"type\\\":\\\"file\\\"}\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":157,"completion_tokens":46,"total_tokens":203,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":29},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:15:41,131 - app - INFO - 响应内容长度: 619字符
2025-05-18 01:15:41,131 - app - INFO - ==============================================================

2025-05-18 01:15:41,132 - app - INFO - 助手回复: ```json
{
  "content_0": "png\",\"title\":\"\",\"type\":\"file\"}",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:15:41,135 - app - INFO - 成功解析为JSON: {'content_0': 'png","title":"","type":"file"}', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:15:41,136 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:15:41,139 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:15:41,139 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:15:41,140 - app - INFO - 检测到错别字 - wrong=true: “头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。
2025-05-18 01:15:41,141 - app - INFO - 句子处理: wrong=True, typo_text=“头昏脑胀”应为“头昏脑涨”，形容头脑发昏、发胀的感觉。, suggestion=由于最近工作压力大，
我经常感到头昏脑涨，睡眠质量也很差。
2025-05-18 01:15:41,142 - app - INFO - 检测到错别字 - wrong=true: 句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。
2025-05-18 01:15:41,142 - app - INFO - 句子处理: wrong=True, typo_text=句子中的'生份证'应为'身份证'，'份'是错别字，正确用字应为'身'。, suggestion=医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-18 01:15:41,143 - app - INFO - 检测到错别字 - wrong=true: 句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。
2025-05-18 01:15:41,144 - app - INFO - 句子处理: wrong=True, typo_text=句子中的'遵询'应为'遵循'，'遵询'是错别字，正确的表达应为'遵循医生的建议'。, suggestion=缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-18 01:15:41,145 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:15:41,146 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:15:41,147 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:15:41,147 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:15:41,148 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:15:41,149 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:15:41,150 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:15:41] "POST /process HTTP/1.1" 200 -
2025-05-18 01:21:45,888 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 01:21:45,889 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 01:21:56,726 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:21:56] "GET / HTTP/1.1" 200 -
2025-05-18 01:21:56,884 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:21:56] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 01:22:03,620 - app - INFO - 图片保存路径: static/uploads\paste_13de5c96_1747502523.png, 标准化后: static/uploads/paste_13de5c96_1747502523.png
2025-05-18 01:22:03,622 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:22:03] "POST /paste HTTP/1.1" 200 -
2025-05-18 01:22:03,643 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:22:03] "GET /static/uploads/paste_13de5c96_1747502523.png HTTP/1.1" 200 -
2025-05-18 01:22:04,135 - app - INFO - 处理图片路径: 原始=static/uploads/paste_13de5c96_1747502523.png, 转换后=static\uploads\paste_13de5c96_1747502523.png
2025-05-18 01:22:04,137 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_13de5c96_1747502523.png
2025-05-18 01:22:06,005 - app - INFO - 上传响应状态码: 200
2025-05-18 01:22:06,005 - app - INFO - 上传响应内容: {"id":"d0kcbf21ol7h6f38oisg","object":"file","bytes":38657,"created_at":1747502524,"filename":"paste_13de5c96_1747502523.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 01:22:06,007 - app - INFO - 获取到的文件ID: d0kcbf21ol7h6f38oisg
2025-05-18 01:22:06,007 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kcbf21ol7h6f38oisg/content
2025-05-18 01:22:06,722 - app - INFO - 内容响应状态码: 200
2025-05-18 01:22:06,723 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 01:22:06,731 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:22:06] "POST /process HTTP/1.1" 200 -
2025-05-18 01:29:16,368 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 01:29:16,368 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 01:29:29,278 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:29:29] "GET / HTTP/1.1" 200 -
2025-05-18 01:29:29,437 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:29:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 01:29:36,539 - app - INFO - 图片保存路径: static/uploads\paste_23b9f1ea_1747502976.png, 标准化后: static/uploads/paste_23b9f1ea_1747502976.png
2025-05-18 01:29:36,541 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:29:36] "POST /paste HTTP/1.1" 200 -
2025-05-18 01:29:36,563 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:29:36] "GET /static/uploads/paste_23b9f1ea_1747502976.png HTTP/1.1" 200 -
2025-05-18 01:29:37,067 - app - INFO - 处理图片路径: 原始=static/uploads/paste_23b9f1ea_1747502976.png, 转换后=static\uploads\paste_23b9f1ea_1747502976.png
2025-05-18 01:29:37,069 - app - INFO - 开始上传文件: D:\tupian\static\uploads\paste_23b9f1ea_1747502976.png
2025-05-18 01:29:38,817 - app - INFO - 上传响应状态码: 200
2025-05-18 01:29:38,818 - app - INFO - 上传响应内容: {"id":"d0kcf0f37oq66hiu3lig","object":"file","bytes":38657,"created_at":1747502977,"filename":"paste_23b9f1ea_1747502976.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 01:29:38,819 - app - INFO - 获取到的文件ID: d0kcf0f37oq66hiu3lig
2025-05-18 01:29:38,820 - app - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kcf0f37oq66hiu3lig/content
2025-05-18 01:29:39,495 - app - INFO - 内容响应状态码: 200
2025-05-18 01:29:39,495 - app - INFO - 成功获取到文本内容，长度: 284
2025-05-18 01:29:39,502 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:29:39,503 - app - INFO - 请求时间: 2025-05-18 01:29:39
2025-05-18 01:29:39,504 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:29:39,505 - app - INFO - 请求方法: POST
2025-05-18 01:29:39,505 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:29:39,506 - app - INFO - 模型: deepseek-chat
2025-05-18 01:29:39,507 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:29:39,509 - app - INFO - 检查文本: 今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 01:29:39,511 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:29:39,516 - app - INFO - ==============================================================

2025-05-18 01:29:46,035 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:29:46,036 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:29:46,037 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:29:46,039 - app - INFO - Response Status: 200
2025-05-18 01:29:46,040 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:29:40 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=6a12c73c60f9305074; path=/, HWWAFSESTIME=1747502980089; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '1dee2b3b0914151dd0c7dd2e6f1f91e5', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:29:46,042 - app - INFO - Response Body: {"id":"ccce8217-85e7-4160-be78-2e4b2111979c","object":"chat.completion","created":1747502980,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:29:46,044 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:29:46,045 - app - INFO - 响应时间: 2025-05-18 01:29:46
2025-05-18 01:29:46,046 - app - INFO - 请求耗时: 6.526秒
2025-05-18 01:29:46,047 - app - INFO - 响应状态码: 200
2025-05-18 01:29:46,048 - app - INFO - 响应内容(前500字符): {"id":"ccce8217-85e7-4160-be78-2e4b2111979c","object":"chat.completion","created":1747502980,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-18 01:29:46,050 - app - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:29:46,052 - app - INFO - 响应内容长度: 599字符
2025-05-18 01:29:46,053 - app - INFO - ==============================================================

2025-05-18 01:29:46,054 - app - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:29:46,056 - app - INFO - 成功解析为JSON: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:29:46,057 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:29:46,062 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:29:46,064 - app - INFO - 请求时间: 2025-05-18 01:29:46
2025-05-18 01:29:46,065 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:29:46,065 - app - INFO - 请求方法: POST
2025-05-18 01:29:46,066 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:29:46,068 - app - INFO - 模型: deepseek-chat
2025-05-18 01:29:46,068 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:29:46,072 - app - INFO - 检查文本: 由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 01:29:46,073 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:29:46,077 - app - INFO - ==============================================================

2025-05-18 01:29:53,025 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:29:53,026 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:29:53,027 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:29:53,029 - app - INFO - Response Status: 200
2025-05-18 01:29:53,030 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:29:46 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=625a27637e42c22574; path=/, HWWAFSESTIME=1747502986256; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '68f31dea82f3792da6533bf243abbbc7', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:29:53,032 - app - INFO - Response Body: {"id":"e5f6e4ca-2a5e-4f81-8c47-98427170939c","object":"chat.completion","created":1747502986,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:29:53,034 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:29:53,035 - app - INFO - 响应时间: 2025-05-18 01:29:53
2025-05-18 01:29:53,035 - app - INFO - 请求耗时: 6.955秒
2025-05-18 01:29:53,036 - app - INFO - 响应状态码: 200
2025-05-18 01:29:53,036 - app - INFO - 响应内容(前500字符): {"id":"e5f6e4ca-2a5e-4f81-8c47-98427170939c","object":"chat.completion","created":1747502986,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-18 01:29:53,038 - app - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:29:53,041 - app - INFO - 响应内容长度: 593字符
2025-05-18 01:29:53,041 - app - INFO - ==============================================================

2025-05-18 01:29:53,042 - app - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:29:53,044 - app - INFO - 成功解析为JSON: {'content_0': '由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:29:53,045 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:29:53,050 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:29:53,051 - app - INFO - 请求时间: 2025-05-18 01:29:53
2025-05-18 01:29:53,052 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:29:53,053 - app - INFO - 请求方法: POST
2025-05-18 01:29:53,053 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:29:53,054 - app - INFO - 模型: deepseek-chat
2025-05-18 01:29:53,055 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:29:53,058 - app - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并
提醒我携带生份证和医保卡。
2025-05-18 01:29:53,059 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:29:53,064 - app - INFO - ==============================================================

2025-05-18 01:30:01,628 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:30:01,628 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:30:01,629 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:30:01,631 - app - INFO - Response Status: 200
2025-05-18 01:30:01,632 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:29:53 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=f430a7967303790f8f; path=/, HWWAFSESTIME=1747502991791; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '401553327fb66dcfda95986000acf8fc', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:30:01,634 - app - INFO - Response Body: {"id":"7287a597-f6a5-4586-b08d-0e4cd3f3b330","object":"chat.completion","created":1747502993,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，正确的写法是“身份证”。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":101,"total_tokens":277,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:01,636 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:30:01,637 - app - INFO - 响应时间: 2025-05-18 01:30:01
2025-05-18 01:30:01,638 - app - INFO - 请求耗时: 8.571秒
2025-05-18 01:30:01,638 - app - INFO - 响应状态码: 200
2025-05-18 01:30:01,639 - app - INFO - 响应内容(前500字符): {"id":"7287a597-f6a5-4586-b08d-0e4cd3f3b330","object":"chat.completion","created":1747502993,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，正确的写法是“身份证”。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":101,"tot...
2025-05-18 01:30:01,641 - app - INFO - 响应内容(后500字符): ...ontent":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"“生份证”应为“身份证”，正确的写法是“身份证”。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":101,"total_tokens":277,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:01,642 - app - INFO - 响应内容长度: 671字符
2025-05-18 01:30:01,643 - app - INFO - ==============================================================

2025-05-18 01:30:01,644 - app - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "“生份证”应为“身份证”，正确的写法是“身份证”。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-18 01:30:01,646 - app - INFO - 成功解析为JSON: {'content_0': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。', 'wrong': True, 'annotation': '“生份证”应为“身份证”，正确的写法是“身份证”。', 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:30:01,647 - app - INFO - 处理结果: {'wrong': True, 'annotation': '“生份证”应为“身份证”，正确的写法是“身份证”。', 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 01:30:01,651 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:30:01,652 - app - INFO - 请求时间: 2025-05-18 01:30:01
2025-05-18 01:30:01,652 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:30:01,653 - app - INFO - 请求方法: POST
2025-05-18 01:30:01,654 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:30:01,656 - app - INFO - 模型: deepseek-chat
2025-05-18 01:30:01,657 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:30:01,659 - app - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决
定遵询医生的建议。
2025-05-18 01:30:01,660 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:30:01,663 - app - INFO - ==============================================================

2025-05-18 01:30:10,710 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:30:10,711 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:30:10,712 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:30:10,714 - app - INFO - Response Status: 200
2025-05-18 01:30:10,715 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:30:02 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=a88e07c3bea8068793; path=/, HWWAFSESTIME=1747502998128; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'eebfbbf0b9c58d0837137fc03d8b44ca', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:30:10,717 - app - INFO - Response Body: {"id":"bff0463e-df9e-488c-9d42-8a0e399b522d","object":"chat.completion","created":1747503002,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":117,"total_tokens":292,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:10,720 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:30:10,720 - app - INFO - 响应时间: 2025-05-18 01:30:10
2025-05-18 01:30:10,721 - app - INFO - 请求耗时: 9.056秒
2025-05-18 01:30:10,721 - app - INFO - 响应状态码: 200
2025-05-18 01:30:10,722 - app - INFO - 响应内容(前500字符): {"id":"bff0463e-df9e-488c-9d42-8a0e399b522d","object":"chat.completion","created":1747503002,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"comp...
2025-05-18 01:30:10,724 - app - INFO - 响应内容(后500字符): ...\"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":117,"total_tokens":292,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:10,726 - app - INFO - 响应内容长度: 694字符
2025-05-18 01:30:10,727 - app - INFO - ==============================================================

2025-05-18 01:30:10,728 - app - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-18 01:30:10,731 - app - INFO - 成功解析为JSON: {'content_0': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。', 'wrong': True, 'annotation': "错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:30:10,733 - app - INFO - 处理结果: {'wrong': True, 'annotation': "错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。", 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 01:30:10,736 - app - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 01:30:10,737 - app - INFO - 请求时间: 2025-05-18 01:30:10
2025-05-18 01:30:10,737 - app - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 01:30:10,738 - app - INFO - 请求方法: POST
2025-05-18 01:30:10,738 - app - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 01:30:10,740 - app - INFO - 模型: deepseek-chat
2025-05-18 01:30:10,740 - app - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 01:30:10,743 - app - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 01:30:10,743 - app - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 01:30:10,748 - app - INFO - ==============================================================

2025-05-18 01:30:16,313 - app - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 01:30:16,314 - app - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 01:30:16,315 - app - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "报告要三天后才能取到，希望不会有什么大问题。"}], "stream": false, "max_tokens": 1024}
2025-05-18 01:30:16,317 - app - INFO - Response Status: 200
2025-05-18 01:30:16,317 - app - INFO - Response Headers: {'Date': 'Sat, 17 May 2025 17:30:11 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=36edf799d324393a50; path=/, HWWAFSESTIME=1747503009142; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'a828dc2686e236b064eb252c814421e0', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 01:30:16,319 - app - INFO - Response Body: {"id":"d8d66f84-cffb-4a5b-8528-0be5d0cc093c","object":"chat.completion","created":1747503011,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:16,322 - app - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 01:30:16,323 - app - INFO - 响应时间: 2025-05-18 01:30:16
2025-05-18 01:30:16,323 - app - INFO - 请求耗时: 5.573秒
2025-05-18 01:30:16,324 - app - INFO - 响应状态码: 200
2025-05-18 01:30:16,324 - app - INFO - 响应内容(前500字符): {"id":"d8d66f84-cffb-4a5b-8528-0be5d0cc093c","object":"chat.completion","created":1747503011,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-18 01:30:16,326 - app - INFO - 响应内容(后500字符): ...47503011,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 01:30:16,328 - app - INFO - 响应内容长度: 584字符
2025-05-18 01:30:16,328 - app - INFO - ==============================================================

2025-05-18 01:30:16,395 - app - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 01:30:16,397 - app - INFO - 成功解析为JSON: {'content_0': '报告要三天后才能取到，希望不会有什么大问题。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 01:30:16,398 - app - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 01:30:16,402 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:30:16,402 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:30:16,403 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:30:16,403 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:30:16,404 - app - INFO - 检测到错别字 - wrong=true: “生份证”应为“身份证”，正确的写法是“身份证”。
2025-05-18 01:30:16,405 - app - INFO - 句子处理: wrong=True, typo_text=“生份证”应为“身份证”，正确的写法是“身份证”。, suggestion=医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-18 01:30:16,406 - app - INFO - 检测到错别字 - wrong=true: 错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。
2025-05-18 01:30:16,407 - app - INFO - 句子处理: wrong=True, typo_text=错别字：'遵询'应为'遵循'。'遵循'意为遵照、依照，而'询'是询问的意思，用在此处不合适。, suggestion=缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-18 01:30:16,408 - app - INFO - 无错别字 - wrong=false
2025-05-18 01:30:16,408 - app - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 01:30:16,410 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:30:16] "POST /process HTTP/1.1" 200 -
2025-05-18 01:31:10,293 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:31:10] "GET /export HTTP/1.1" 200 -
2025-05-18 01:31:10,378 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 01:31:10] "GET /download/自动文字巡检结果2025年5月.xlsx HTTP/1.1" 200 -
2025-05-18 10:11:37,298 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-05-18 10:11:37,298 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 10:11:37,403 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-18 10:11:38,676 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 10:11:38,684 - werkzeug - INFO -  * Debugger PIN: 299-948-259
2025-05-18 10:11:52,596 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:11:52] "GET / HTTP/1.1" 200 -
2025-05-18 10:11:53,029 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:11:53] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 10:11:53,087 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:11:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-18 10:12:51,517 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:12:51] "GET /config HTTP/1.1" 200 -
2025-05-18 10:12:51,845 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:12:51] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 10:15:45,195 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:15:45] "GET / HTTP/1.1" 200 -
2025-05-18 10:15:45,743 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:15:45] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-18 10:16:10,940 - __main__ - INFO - 图片保存路径: static/uploads\paste_8e9c0f7b_1747534570.png, 标准化后: static/uploads/paste_8e9c0f7b_1747534570.png
2025-05-18 10:16:10,941 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:10] "POST /paste HTTP/1.1" 200 -
2025-05-18 10:16:10,959 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:10] "GET /static/uploads/paste_8e9c0f7b_1747534570.png HTTP/1.1" 200 -
2025-05-18 10:16:11,450 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_8e9c0f7b_1747534570.png, 转换后=static\uploads\paste_8e9c0f7b_1747534570.png
2025-05-18 10:16:11,452 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_8e9c0f7b_1747534570.png
2025-05-18 10:16:13,005 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 10:16:13,005 - __main__ - INFO - 上传响应内容: {"id":"d0kk5qq1ol7h6f3a020g","object":"file","bytes":38657,"created_at":1747534571,"filename":"paste_8e9c0f7b_1747534570.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 10:16:13,005 - __main__ - INFO - 获取到的文件ID: d0kk5qq1ol7h6f3a020g
2025-05-18 10:16:13,005 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kk5qq1ol7h6f3a020g/content
2025-05-18 10:16:13,181 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 10:16:13,182 - __main__ - INFO - 成功获取到文本内容，长度: 284
2025-05-18 10:16:13,182 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:13,182 - __main__ - INFO - 请求时间: 2025-05-18 10:16:13
2025-05-18 10:16:13,182 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:13,182 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:13,182 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:13,182 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:13,182 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:13,182 - __main__ - INFO - 检查文本: 今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。
2025-05-18 10:16:13,182 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:13,182 - __main__ - INFO - ==============================================================

2025-05-18 10:16:20,811 - __main__ - INFO - 图片保存路径: static/uploads\paste_78e58585_1747534580.png, 标准化后: static/uploads/paste_78e58585_1747534580.png
2025-05-18 10:16:20,812 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:20] "POST /paste HTTP/1.1" 200 -
2025-05-18 10:16:20,835 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:20] "GET /static/uploads/paste_78e58585_1747534580.png HTTP/1.1" 200 -
2025-05-18 10:16:21,327 - __main__ - INFO - 处理图片路径: 原始=static/uploads/paste_78e58585_1747534580.png, 转换后=static\uploads\paste_78e58585_1747534580.png
2025-05-18 10:16:21,328 - __main__ - INFO - 开始上传文件: D:\tupian\static\uploads\paste_78e58585_1747534580.png
2025-05-18 10:16:22,371 - __main__ - INFO - 上传响应状态码: 200
2025-05-18 10:16:22,371 - __main__ - INFO - 上传响应内容: {"id":"d0kk5tf37oq66hivag5g","object":"file","bytes":58166,"created_at":1747534581,"filename":"paste_78e58585_1747534580.png","purpose":"file-extract","status":"ok","status_details":""}
2025-05-18 10:16:22,371 - __main__ - INFO - 获取到的文件ID: d0kk5tf37oq66hivag5g
2025-05-18 10:16:22,371 - __main__ - INFO - 请求文件内容URL: https://api.moonshot.cn/v1/files/d0kk5tf37oq66hivag5g/content
2025-05-18 10:16:22,529 - __main__ - INFO - 内容响应状态码: 200
2025-05-18 10:16:22,529 - __main__ - INFO - 成功获取到文本内容，长度: 213
2025-05-18 10:16:22,529 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:22,529 - __main__ - INFO - 请求时间: 2025-05-18 10:16:22
2025-05-18 10:16:22,529 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:22,529 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:22,529 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:22,529 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:22,529 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:22,530 - __main__ - INFO - 检查文本: 昨天我去了图书馆，想找一本关于人工智能的数。
2025-05-18 10:16:22,530 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "昨天我去了图书馆，想找一本关于人工智能的数。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:22,530 - __main__ - INFO - ==============================================================

2025-05-18 10:16:23,378 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:23,378 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:23,378 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:23,378 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:23,378 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:13 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=389667c065b6cb2fc8; path=/, HWWAFSESTIME=1747534572016; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '54c274110b46c3d9c3801c50574a0064', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:23,379 - __main__ - INFO - Response Body: {"id":"bd58912d-3738-4a72-96a3-92eb1a2a9992","object":"chat.completion","created":1747534573,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:23,379 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:23,379 - __main__ - INFO - 响应时间: 2025-05-18 10:16:23
2025-05-18 10:16:23,379 - __main__ - INFO - 请求耗时: 10.195秒
2025-05-18 10:16:23,379 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:23,379 - __main__ - INFO - 响应内容(前500字符): {"id":"bd58912d-3738-4a72-96a3-92eb1a2a9992","object":"chat.completion","created":1747534573,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cac...
2025-05-18 10:16:23,379 - __main__ - INFO - 响应内容(后500字符): ...":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":166,"completion_tokens":50,"total_tokens":216,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":38},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:23,380 - __main__ - INFO - 响应内容长度: 599字符
2025-05-18 10:16:23,380 - __main__ - INFO - ==============================================================

2025-05-18 10:16:23,380 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:23,380 - __main__ - INFO - 成功解析为JSON: {'content_0': '今天我去首都医科大学附属北京友谊医院就诊，医生建议我做一次全面的健康体检。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:23,380 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:23,380 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:23,380 - __main__ - INFO - 请求时间: 2025-05-18 10:16:23
2025-05-18 10:16:23,380 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:23,380 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:23,380 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:23,381 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:23,381 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:23,381 - __main__ - INFO - 检查文本: 由于最近工作压力大，
我经常感到头昏脑胀，睡眠质量也很差。
2025-05-18 10:16:23,381 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:23,381 - __main__ - INFO - ==============================================================

2025-05-18 10:16:29,899 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:29,900 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:29,900 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:29,900 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:29,900 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:23 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=b859f76ef426f06f79; path=/, HWWAFSESTIME=1747534582539; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '3859df018aeeecd7639ff23237c57aa7', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:29,917 - __main__ - INFO - Response Body: {"id":"fc2881a8-e6db-466d-a9ce-a6bc64f8fc23","object":"chat.completion","created":1747534583,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:29,917 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:29,917 - __main__ - INFO - 响应时间: 2025-05-18 10:16:29
2025-05-18 10:16:29,917 - __main__ - INFO - 请求耗时: 6.536秒
2025-05-18 10:16:29,917 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:29,917 - __main__ - INFO - 响应内容(前500字符): {"id":"fc2881a8-e6db-466d-a9ce-a6bc64f8fc23","object":"chat.completion","created":1747534583,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit...
2025-05-18 10:16:29,917 - __main__ - INFO - 响应内容(后500字符): ..."model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"由于最近工作压力大，\\n我经常感到头昏脑胀，睡眠质量也很差。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":167,"completion_tokens":53,"total_tokens":220,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":39},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:29,918 - __main__ - INFO - 响应内容长度: 593字符
2025-05-18 10:16:29,918 - __main__ - INFO - ==============================================================

2025-05-18 10:16:29,918 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:29,918 - __main__ - INFO - 成功解析为JSON: {'content_0': '由于最近工作压力大，\n我经常感到头昏脑胀，睡眠质量也很差。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:29,918 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:29,918 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:29,918 - __main__ - INFO - 请求时间: 2025-05-18 10:16:29
2025-05-18 10:16:29,919 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:29,919 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:29,919 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:29,919 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:29,919 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:29,920 - __main__ - INFO - 检查文本: 医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并
提醒我携带生份证和医保卡。
2025-05-18 10:16:29,920 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:29,920 - __main__ - INFO - ==============================================================

2025-05-18 10:16:30,802 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:30,802 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:30,802 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "昨天我去了图书馆，想找一本关于人工智能的数。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:30,803 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:30,803 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:22 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=b859f73ef426f06f79; path=/, HWWAFSESTIME=1747534582539; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '91dc673ee5906e23dc107ec45ecf2918', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:30,803 - __main__ - INFO - Response Body: {"id":"44e24555-558f-4dd6-9418-8e1b56f445fe","object":"chat.completion","created":1747534582,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":160,"completion_tokens":88,"total_tokens":248,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":32},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:30,803 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:30,803 - __main__ - INFO - 响应时间: 2025-05-18 10:16:30
2025-05-18 10:16:30,803 - __main__ - INFO - 请求耗时: 8.273秒
2025-05-18 10:16:30,803 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:30,803 - __main__ - INFO - 响应内容(前500字符): {"id":"44e24555-558f-4dd6-9418-8e1b56f445fe","object":"chat.completion","created":1747534582,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":160,"completion_tokens":88,"total_tokens":248,"prompt_tok...
2025-05-18 10:16:30,804 - __main__ - INFO - 响应内容(后500字符): ...ge":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"昨天我去了图书馆，想找一本关于人工智能的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。\",\n  \"content_1\": \"昨天我去了图书馆，想找一本关于人工智能的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":160,"completion_tokens":88,"total_tokens":248,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":32},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:30,807 - __main__ - INFO - 响应内容长度: 645字符
2025-05-18 10:16:30,807 - __main__ - INFO - ==============================================================

2025-05-18 10:16:30,807 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "昨天我去了图书馆，想找一本关于人工智能的数。",
  "wrong": true,
  "annotation": "句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。",
  "content_1": "昨天我去了图书馆，想找一本关于人工智能的书。"
}
```
2025-05-18 10:16:30,807 - __main__ - INFO - 成功解析为JSON: {'content_0': '昨天我去了图书馆，想找一本关于人工智能的数。', 'wrong': True, 'annotation': "句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。", 'content_1': '昨天我去了图书馆，想找一本关于人工智能的书。'}
2025-05-18 10:16:30,807 - __main__ - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。", 'content_1': '昨天我去了图书馆，想找一本关于人工智能的书。'}
2025-05-18 10:16:30,807 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:30,807 - __main__ - INFO - 请求时间: 2025-05-18 10:16:30
2025-05-18 10:16:30,807 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:30,807 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:30,807 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:30,807 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:30,807 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:30,807 - __main__ - INFO - 检查文本: 我找了半天，终于
在书架的角落里找到了一本看起来很专业的数。
2025-05-18 10:16:30,807 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:30,808 - __main__ - INFO - ==============================================================

2025-05-18 10:16:39,261 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:39,261 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:39,261 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "我找了半天，终于\n在书架的角落里找到了一本看起来很专业的数。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:39,261 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:39,262 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:30 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=03e387f151d836aab2; path=/, HWWAFSESTIME=1747534588265; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'f55ba704088a5dfefe3e78f04f60315f', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:39,262 - __main__ - INFO - Response Body: {"id":"3a6342ff-e89f-4a23-aa33-5f8a2a5761df","object":"chat.completion","created":1747534590,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。\",\n  \"content_1\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":165,"completion_tokens":94,"total_tokens":259,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":37},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:39,262 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:39,262 - __main__ - INFO - 响应时间: 2025-05-18 10:16:39
2025-05-18 10:16:39,262 - __main__ - INFO - 请求耗时: 8.454秒
2025-05-18 10:16:39,262 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:39,262 - __main__ - INFO - 响应内容(前500字符): {"id":"3a6342ff-e89f-4a23-aa33-5f8a2a5761df","object":"chat.completion","created":1747534590,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。\",\n  \"content_1\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":165,"completion_tokens":94,"total_tokens"...
2025-05-18 10:16:39,262 - __main__ - INFO - 响应内容(后500字符): ...istant","content":"```json\n{\n  \"content_0\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的数。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。\",\n  \"content_1\": \"我找了半天，终于在书架的角落里找到了一本看起来很专业的书。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":165,"completion_tokens":94,"total_tokens":259,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":37},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:39,264 - __main__ - INFO - 响应内容长度: 661字符
2025-05-18 10:16:39,264 - __main__ - INFO - ==============================================================

2025-05-18 10:16:39,264 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "我找了半天，终于在书架的角落里找到了一本看起来很专业的数。",
  "wrong": true,
  "annotation": "句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。",
  "content_1": "我找了半天，终于在书架的角落里找到了一本看起来很专业的书。"
}
```
2025-05-18 10:16:39,264 - __main__ - INFO - 成功解析为JSON: {'content_0': '我找了半天，终于在书架的角落里找到了一本看起来很专业的数。', 'wrong': True, 'annotation': "句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。", 'content_1': '我找了半天，终于在书架的角落里找到了一本看起来很专业的书。'}
2025-05-18 10:16:39,264 - __main__ - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。", 'content_1': '我找了半天，终于在书架的角落里找到了一本看起来很专业的书。'}
2025-05-18 10:16:39,264 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:39,264 - __main__ - INFO - 请求时间: 2025-05-18 10:16:39
2025-05-18 10:16:39,264 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:39,264 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:39,265 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:39,265 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:39,265 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:39,265 - __main__ - INFO - 检查文本: 我兴冲冲地打开它，发
现里面的内容非常深奥，有些地方我甚至看不懂。
2025-05-18 10:16:39,265 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:39,265 - __main__ - INFO - ==============================================================

2025-05-18 10:16:42,821 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:42,821 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:42,821 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并\n提醒我携带生份证和医保卡。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:42,822 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:42,822 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:29 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=03e387c151d836aab2; path=/, HWWAFSESTIME=1747534588265; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '2ef52b049244c73ebdcddcb410cf95e2', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:42,822 - __main__ - INFO - Response Body: {"id":"4e0da976-4439-45b6-bcb7-b881f30f6d39","object":"chat.completion","created":1747534589,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":111,"total_tokens":287,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:42,822 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:42,822 - __main__ - INFO - 响应时间: 2025-05-18 10:16:42
2025-05-18 10:16:42,822 - __main__ - INFO - 请求耗时: 12.902秒
2025-05-18 10:16:42,822 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:42,822 - __main__ - INFO - 响应内容(前500字符): {"id":"4e0da976-4439-45b6-bcb7-b881f30f6d39","object":"chat.completion","created":1747534589,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens...
2025-05-18 10:16:42,822 - __main__ - INFO - 响应内容(后500字符): ...``json\n{\n  \"content_0\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。\",\n  \"wrong\": true,\n  \"annotation\": \"句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。\",\n  \"content_1\": \"医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":176,"completion_tokens":111,"total_tokens":287,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":48},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:42,826 - __main__ - INFO - 响应内容长度: 681字符
2025-05-18 10:16:42,826 - __main__ - INFO - ==============================================================

2025-05-18 10:16:42,826 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。",
  "wrong": true,
  "annotation": "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。",
  "content_1": "医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。"
}
```
2025-05-18 10:16:42,826 - __main__ - INFO - 成功解析为JSON: {'content_0': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带生份证和医保卡。', 'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 10:16:42,826 - __main__ - INFO - 处理结果: {'wrong': True, 'annotation': "句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。", 'content_1': '医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。'}
2025-05-18 10:16:42,826 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:42,826 - __main__ - INFO - 请求时间: 2025-05-18 10:16:42
2025-05-18 10:16:42,826 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:42,826 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:42,826 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:42,826 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:42,826 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:42,826 - __main__ - INFO - 检查文本: 缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决
定遵询医生的建议。
2025-05-18 10:16:42,826 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:42,826 - __main__ - INFO - ==============================================================

2025-05-18 10:16:45,351 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:45,351 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:45,351 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:45,351 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:45,351 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:39 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=7f8988577419913c1c; path=/, HWWAFSESTIME=1747534595445; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'bdc819ba151a360fd441975a299c3125', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:45,351 - __main__ - INFO - Response Body: {"id":"3f4d0815-657e-4aa3-9073-c66b1cdbd10a","object":"chat.completion","created":1747534599,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":170,"completion_tokens":54,"total_tokens":224,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":42},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:45,351 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:45,352 - __main__ - INFO - 响应时间: 2025-05-18 10:16:45
2025-05-18 10:16:45,352 - __main__ - INFO - 请求耗时: 6.086秒
2025-05-18 10:16:45,352 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:45,352 - __main__ - INFO - 响应内容(前500字符): {"id":"3f4d0815-657e-4aa3-9073-c66b1cdbd10a","object":"chat.completion","created":1747534599,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":170,"completion_tokens":54,"total_tokens":224,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache...
2025-05-18 10:16:45,352 - __main__ - INFO - 响应内容(后500字符): ...el":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"我兴冲冲地打开它，发\\n现里面的内容非常深奥，有些地方我甚至看不懂。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":170,"completion_tokens":54,"total_tokens":224,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":42},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:45,356 - __main__ - INFO - 响应内容长度: 597字符
2025-05-18 10:16:45,356 - __main__ - INFO - ==============================================================

2025-05-18 10:16:45,356 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:45,356 - __main__ - INFO - 成功解析为JSON: {'content_0': '我兴冲冲地打开它，发\n现里面的内容非常深奥，有些地方我甚至看不懂。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:45,356 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:45,356 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:45,356 - __main__ - INFO - 请求时间: 2025-05-18 10:16:45
2025-05-18 10:16:45,356 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:45,356 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:45,357 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:45,357 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:45,357 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:45,357 - __main__ - INFO - 检查文本: 不过，我还是决定借
回去慢慢研究。
2025-05-18 10:16:45,357 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "不过，我还是决定借\n回去慢慢研究。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:45,357 - __main__ - INFO - ==============================================================

2025-05-18 10:16:50,284 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:50,284 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:50,285 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决\n定遵询医生的建议。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:50,285 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:50,285 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:42 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=f8cfa7679f9efa2824; path=/, HWWAFSESTIME=1747534601301; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'ed7811b857a00bda6855070b87c86f39', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:50,285 - __main__ - INFO - Response Body: {"id":"cc42c3b2-5907-43cd-9ff7-3cd875a9f0cf","object":"chat.completion","created":1747534602,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":96,"total_tokens":271,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:50,285 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:50,285 - __main__ - INFO - 响应时间: 2025-05-18 10:16:50
2025-05-18 10:16:50,285 - __main__ - INFO - 请求耗时: 7.458秒
2025-05-18 10:16:50,285 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:50,285 - __main__ - INFO - 响应内容(前500字符): {"id":"cc42c3b2-5907-43cd-9ff7-3cd875a9f0cf","object":"chat.completion","created":1747534602,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":96,"total_...
2025-05-18 10:16:50,285 - __main__ - INFO - 响应内容(后500字符): ...,"content":"```json\n{\n  \"content_0\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。\",\n  \"wrong\": true,\n  \"annotation\": \"“遵询”应为“遵循”，表示遵照医生的建议。\",\n  \"content_1\": \"缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":175,"completion_tokens":96,"total_tokens":271,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":47},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:50,287 - __main__ - INFO - 响应内容长度: 668字符
2025-05-18 10:16:50,287 - __main__ - INFO - ==============================================================

2025-05-18 10:16:50,287 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。",
  "wrong": true,
  "annotation": "“遵询”应为“遵循”，表示遵照医生的建议。",
  "content_1": "缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。"
}
```
2025-05-18 10:16:50,287 - __main__ - INFO - 成功解析为JSON: {'content_0': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵询医生的建议。', 'wrong': True, 'annotation': '“遵询”应为“遵循”，表示遵照医生的建议。', 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 10:16:50,287 - __main__ - INFO - 处理结果: {'wrong': True, 'annotation': '“遵询”应为“遵循”，表示遵照医生的建议。', 'content_1': '缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。'}
2025-05-18 10:16:50,287 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:50,287 - __main__ - INFO - 请求时间: 2025-05-18 10:16:50
2025-05-18 10:16:50,287 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:50,287 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:50,287 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:50,287 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:50,287 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:50,288 - __main__ - INFO - 检查文本: 报告要三天后才能取到，希望不会有什么大问题。
2025-05-18 10:16:50,288 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "报告要三天后才能取到，希望不会有什么大问题。"
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:50,288 - __main__ - INFO - ==============================================================

2025-05-18 10:16:52,714 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:52,715 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:52,715 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "不过，我还是决定借\n回去慢慢研究。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:52,715 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:52,715 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:45 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=f8cfa8279f9efa2824; path=/, HWWAFSESTIME=1747534601301; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '06bf36e9bfd4685b00610cd58b3aea45', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:52,715 - __main__ - INFO - Response Body: {"id":"be5d4210-22db-46b0-81da-b23158d956d8","object":"chat.completion","created":1747534605,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"不过，我还是决定借回去慢慢研究。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":158,"completion_tokens":41,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:52,715 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:52,715 - __main__ - INFO - 响应时间: 2025-05-18 10:16:52
2025-05-18 10:16:52,715 - __main__ - INFO - 请求耗时: 7.358秒
2025-05-18 10:16:52,715 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:52,715 - __main__ - INFO - 响应内容(前500字符): {"id":"be5d4210-22db-46b0-81da-b23158d956d8","object":"chat.completion","created":1747534605,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"不过，我还是决定借回去慢慢研究。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":158,"completion_tokens":41,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"p...
2025-05-18 10:16:52,715 - __main__ - INFO - 响应内容(后500字符): ...ed":1747534605,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"不过，我还是决定借回去慢慢研究。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":158,"completion_tokens":41,"total_tokens":199,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":30},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:52,715 - __main__ - INFO - 响应内容长度: 578字符
2025-05-18 10:16:52,715 - __main__ - INFO - ==============================================================

2025-05-18 10:16:52,718 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "不过，我还是决定借回去慢慢研究。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:52,718 - __main__ - INFO - 成功解析为JSON: {'content_0': '不过，我还是决定借回去慢慢研究。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:52,718 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:52,718 - __main__ - INFO - 
==================== 文字检查API请求信息 ====================
2025-05-18 10:16:52,718 - __main__ - INFO - 请求时间: 2025-05-18 10:16:52
2025-05-18 10:16:52,718 - __main__ - INFO - 请求URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:52,718 - __main__ - INFO - 请求方法: POST
2025-05-18 10:16:52,718 - __main__ - INFO - 请求头(脱敏): {
  "Content-Type": "application/json; charset=utf-8",
  "Authorization": "Bearer ********d1e1"
}
2025-05-18 10:16:52,719 - __main__ - INFO - 模型: deepseek-chat
2025-05-18 10:16:52,719 - __main__ - INFO - 系统提示词: # 角色：
作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。
## 输出json格式:
 '''
{
  "content_0": "原始句子",  # 原始句子
  "wrong": true,            # 是否有需要被修正的错别字，布尔类型
  "annotation": "",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值
  "content_1": ""           # 修改后的句子，string类型。如果wrong为false则留空
}
'''
2025-05-18 10:16:52,719 - __main__ - INFO - 检查文本: "
2025-05-18 10:16:52,719 - __main__ - INFO - 请求体: {
  "model": "deepseek-chat",
  "messages": [
    {
      "role": "system",
      "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"
    },
    {
      "role": "user",
      "content": "\""
    }
  ],
  "stream": false,
  "max_tokens": 1024
}
2025-05-18 10:16:52,719 - __main__ - INFO - ==============================================================

2025-05-18 10:16:56,044 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:56,044 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:56,044 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "报告要三天后才能取到，希望不会有什么大问题。"}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:56,045 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:56,045 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:50 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=85ab0794b651c649c6; path=/, HWWAFSESTIME=1747534607620; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'dd112bbebf695d7034db8bdcdbc4663c', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:56,045 - __main__ - INFO - Response Body: {"id":"68723899-be37-4a50-a3f9-ca4bddd68cbc","object":"chat.completion","created":1747534610,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:56,045 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:56,045 - __main__ - INFO - 响应时间: 2025-05-18 10:16:56
2025-05-18 10:16:56,045 - __main__ - INFO - 请求耗时: 5.757秒
2025-05-18 10:16:56,045 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:56,045 - __main__ - INFO - 响应内容(前500字符): {"id":"68723899-be37-4a50-a3f9-ca4bddd68cbc","object":"chat.completion","created":1747534610,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":...
2025-05-18 10:16:56,045 - __main__ - INFO - 响应内容(后500字符): ...47534610,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"报告要三天后才能取到，希望不会有什么大问题。\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":45,"total_tokens":206,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:56,045 - __main__ - INFO - 响应内容长度: 584字符
2025-05-18 10:16:56,047 - __main__ - INFO - ==============================================================

2025-05-18 10:16:56,047 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "报告要三天后才能取到，希望不会有什么大问题。",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:56,047 - __main__ - INFO - 成功解析为JSON: {'content_0': '报告要三天后才能取到，希望不会有什么大问题。', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:56,047 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:56,047 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:56,047 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:56,047 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:56,048 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:56,048 - __main__ - INFO - 检测到错别字 - wrong=true: 句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。
2025-05-18 10:16:56,048 - __main__ - INFO - 句子处理: wrong=True, typo_text=句子中的'生份证'应为'身份证'，'份'字使用错误，正确的应为'身'。, suggestion=医院的服务很周到，导诊台的护士耐心地帮我填写了个人信息，并提醒我携带身份证和医保卡。
2025-05-18 10:16:56,048 - __main__ - INFO - 检测到错别字 - wrong=true: “遵询”应为“遵循”，表示遵照医生的建议。
2025-05-18 10:16:56,048 - __main__ - INFO - 句子处理: wrong=True, typo_text=“遵询”应为“遵循”，表示遵照医生的建议。, suggestion=缴费时，我发现费用比预想的要高一些，但考虑到检查项目的全面性，还是决定遵循医生的建议。
2025-05-18 10:16:56,048 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:56,048 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:56,048 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:56] "POST /process HTTP/1.1" 200 -
2025-05-18 10:16:57,824 - __main__ - INFO - Request URL: https://api.deepseek.com/chat/completions
2025-05-18 10:16:57,824 - __main__ - INFO - Request Headers: {'Content-Type': 'application/json; charset=utf-8', 'Authorization': 'Bearer sk-0117706ea8724dfe828cd4300ceed1e1'}
2025-05-18 10:16:57,824 - __main__ - INFO - Request Body: {"model": "deepseek-chat", "messages": [{"role": "system", "content": "# 角色：\r\n作为一个细致耐心的文字秘书，对下面的句子进行错别字检查，并以json格式输出结果。\r\n## 输出json格式:\r\n '''\r\n{\r\n  \"content_0\": \"原始句子\",  # 原始句子\r\n  \"wrong\": true,            # 是否有需要被修正的错别字，布尔类型\r\n  \"annotation\": \"\",         # 批注内容，string类型。如果wrong为true给出修正的解释；如果wrong为false，则为空值\r\n  \"content_1\": \"\"           # 修改后的句子，string类型。如果wrong为false则留空\r\n}\r\n'''"}, {"role": "user", "content": "\""}], "stream": false, "max_tokens": 1024}
2025-05-18 10:16:57,824 - __main__ - INFO - Response Status: 200
2025-05-18 10:16:57,824 - __main__ - INFO - Response Headers: {'Date': 'Sun, 18 May 2025 02:16:52 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Set-Cookie': 'HWWAFSESID=7b90473a755a4e93f8; path=/, HWWAFSESTIME=1747534612721; path=/', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '1490ae81851923dd33d0c503396683b9', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'X-Content-Type-Options': 'nosniff', 'Server': 'CW', 'Content-Encoding': 'gzip'}
2025-05-18 10:16:57,824 - __main__ - INFO - Response Body: {"id":"e501a9d5-e20c-4993-9c60-324641bec369","object":"chat.completion","created":1747534612,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":149,"completion_tokens":31,"total_tokens":180,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":21},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:57,825 - __main__ - INFO - 
==================== 文字检查API响应信息 ====================
2025-05-18 10:16:57,825 - __main__ - INFO - 响应时间: 2025-05-18 10:16:57
2025-05-18 10:16:57,825 - __main__ - INFO - 请求耗时: 5.106秒
2025-05-18 10:16:57,825 - __main__ - INFO - 响应状态码: 200
2025-05-18 10:16:57,825 - __main__ - INFO - 响应内容(前500字符): {"id":"e501a9d5-e20c-4993-9c60-324641bec369","object":"chat.completion","created":1747534612,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":149,"completion_tokens":31,"total_tokens":180,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss...
2025-05-18 10:16:57,825 - __main__ - INFO - 响应内容(后500字符): ...mpletion","created":1747534612,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"```json\n{\n  \"content_0\": \"\",\n  \"wrong\": false,\n  \"annotation\": \"\",\n  \"content_1\": \"\"\n}\n```"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":149,"completion_tokens":31,"total_tokens":180,"prompt_tokens_details":{"cached_tokens":128},"prompt_cache_hit_tokens":128,"prompt_cache_miss_tokens":21},"system_fingerprint":"fp_8802369eaa_prod0425fp8"}
2025-05-18 10:16:57,825 - __main__ - INFO - 响应内容长度: 562字符
2025-05-18 10:16:57,825 - __main__ - INFO - ==============================================================

2025-05-18 10:16:57,826 - __main__ - INFO - 助手回复: ```json
{
  "content_0": "",
  "wrong": false,
  "annotation": "",
  "content_1": ""
}
```
2025-05-18 10:16:57,827 - __main__ - INFO - 成功解析为JSON: {'content_0': '', 'wrong': False, 'annotation': '', 'content_1': ''}
2025-05-18 10:16:57,827 - __main__ - INFO - 处理结果: {'wrong': False, 'annotation': '无', 'content_1': '无'}
2025-05-18 10:16:57,828 - __main__ - INFO - 检测到错别字 - wrong=true: 句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。
2025-05-18 10:16:57,828 - __main__ - INFO - 句子处理: wrong=True, typo_text=句子中的'数'应为'书'，'数'通常指数字或数量，而'书'指书籍，更符合上下文。, suggestion=昨天我去了图书馆，想找一本关于人工智能的书。
2025-05-18 10:16:57,828 - __main__ - INFO - 检测到错别字 - wrong=true: 句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。
2025-05-18 10:16:57,829 - __main__ - INFO - 句子处理: wrong=True, typo_text=句子中的'数'应为'书'，'数'通常指数字或数学，而根据上下文，这里应该是指'书'。, suggestion=我找了半天，终于在书架的角落里找到了一本看起来很专业的书。
2025-05-18 10:16:57,829 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:57,829 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:57,829 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:57,829 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:57,830 - __main__ - INFO - 无错别字 - wrong=false
2025-05-18 10:16:57,830 - __main__ - INFO - 句子处理: wrong=False, typo_text=无, suggestion=无
2025-05-18 10:16:57,830 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:16:57] "POST /process HTTP/1.1" 200 -
